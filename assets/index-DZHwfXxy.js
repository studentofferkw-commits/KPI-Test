function XD(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FP={exports:{}},sp={},VP={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),YD=Symbol.for("react.portal"),JD=Symbol.for("react.fragment"),ZD=Symbol.for("react.strict_mode"),eM=Symbol.for("react.profiler"),tM=Symbol.for("react.provider"),rM=Symbol.for("react.context"),nM=Symbol.for("react.forward_ref"),iM=Symbol.for("react.suspense"),aM=Symbol.for("react.memo"),oM=Symbol.for("react.lazy"),k_=Symbol.iterator;function sM(t){return t===null||typeof t!="object"?null:(t=k_&&t[k_]||t["@@iterator"],typeof t=="function"?t:null)}var BP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UP=Object.assign,zP={};function Zs(t,e,r){this.props=t,this.context=e,this.refs=zP,this.updater=r||BP}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WP(){}WP.prototype=Zs.prototype;function J0(t,e,r){this.props=t,this.context=e,this.refs=zP,this.updater=r||BP}var Z0=J0.prototype=new WP;Z0.constructor=J0;UP(Z0,Zs.prototype);Z0.isPureReactComponent=!0;var C_=Array.isArray,KP=Object.prototype.hasOwnProperty,ew={current:null},qP={key:!0,ref:!0,__self:!0,__source:!0};function HP(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)KP.call(e,n)&&!qP.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Rc,type:t,key:a,ref:o,props:i,_owner:ew.current}}function lM(t,e){return{$$typeof:Rc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rc}function uM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var I_=/\/+/g;function zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uM(""+t.key):e.toString(36)}function sd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rc:case YD:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+zm(o,0):n,C_(i)?(r="",t!=null&&(r=t.replace(I_,"$&/")+"/"),sd(i,e,r,"",function(u){return u})):i!=null&&(tw(i)&&(i=lM(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(I_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",C_(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+zm(a,s);o+=sd(a,e,r,l,i)}else if(l=sM(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+zm(a,s++),o+=sd(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Af(t,e,r){if(t==null)return t;var n=[],i=0;return sd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function cM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br={current:null},ld={transition:null},fM={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:ld,ReactCurrentOwner:ew};function GP(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Af,forEach:function(t,e,r){Af(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Af(t,function(){e++}),e},toArray:function(t){return Af(t,function(e){return e})||[]},only:function(t){if(!tw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Zs;Ce.Fragment=JD;Ce.Profiler=eM;Ce.PureComponent=J0;Ce.StrictMode=ZD;Ce.Suspense=iM;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;Ce.act=GP;Ce.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=UP({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=ew.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)KP.call(e,l)&&!qP.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Rc,type:t.type,key:i,ref:a,props:n,_owner:o}};Ce.createContext=function(t){return t={$$typeof:rM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tM,_context:t},t.Consumer=t};Ce.createElement=HP;Ce.createFactory=function(t){var e=HP.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:nM,render:t}};Ce.isValidElement=tw;Ce.lazy=function(t){return{$$typeof:oM,_payload:{_status:-1,_result:t},_init:cM}};Ce.memo=function(t,e){return{$$typeof:aM,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=ld.transition;ld.transition={};try{t()}finally{ld.transition=e}};Ce.unstable_act=GP;Ce.useCallback=function(t,e){return br.current.useCallback(t,e)};Ce.useContext=function(t){return br.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return br.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return br.current.useEffect(t,e)};Ce.useId=function(){return br.current.useId()};Ce.useImperativeHandle=function(t,e,r){return br.current.useImperativeHandle(t,e,r)};Ce.useInsertionEffect=function(t,e){return br.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return br.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return br.current.useMemo(t,e)};Ce.useReducer=function(t,e,r){return br.current.useReducer(t,e,r)};Ce.useRef=function(t){return br.current.useRef(t)};Ce.useState=function(t){return br.current.useState(t)};Ce.useSyncExternalStore=function(t,e,r){return br.current.useSyncExternalStore(t,e,r)};Ce.useTransition=function(){return br.current.useTransition()};Ce.version="18.3.1";VP.exports=Ce;var D=VP.exports;const F=Ge(D),dM=XD({__proto__:null,default:F},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hM=D,pM=Symbol.for("react.element"),mM=Symbol.for("react.fragment"),gM=Object.prototype.hasOwnProperty,yM=hM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vM={key:!0,ref:!0,__self:!0,__source:!0};function QP(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)gM.call(e,n)&&!vM.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:pM,type:t,key:a,ref:o,props:i,_owner:yM.current}}sp.Fragment=mM;sp.jsx=QP;sp.jsxs=QP;FP.exports=sp;var m=FP.exports,sy={},XP={exports:{}},Wr={},YP={exports:{}},JP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,R){var B=$.length;$.push(R);e:for(;0<B;){var W=B-1>>>1,H=$[W];if(0<i(H,R))$[W]=R,$[B]=H,B=W;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var R=$[0],B=$.pop();if(B!==R){$[0]=B;e:for(var W=0,H=$.length,Z=H>>>1;W<Z;){var ye=2*(W+1)-1,Pe=$[ye],Te=ye+1,ot=$[Te];if(0>i(Pe,B))Te<H&&0>i(ot,Pe)?($[W]=ot,$[Te]=B,W=Te):($[W]=Pe,$[ye]=B,W=ye);else if(Te<H&&0>i(ot,B))$[W]=ot,$[Te]=B,W=Te;else break e}}return R}function i($,R){var B=$.sortIndex-R.sortIndex;return B!==0?B:$.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=$)n(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=r(u)}}function k($){if(y=!1,E($),!g)if(r(l)!==null)g=!0,K(T);else{var R=r(u);R!==null&&L(k,R.startTime-$)}}function T($,R){g=!1,y&&(y=!1,_(x),x=-1),p=!0;var B=h;try{for(E(R),f=r(l);f!==null&&(!(f.expirationTime>R)||$&&!C());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var H=W(f.expirationTime<=R);R=t.unstable_now(),typeof H=="function"?f.callback=H:f===r(l)&&n(l),E(R)}else n(l);f=r(l)}if(f!==null)var Z=!0;else{var ye=r(u);ye!==null&&L(k,ye.startTime-R),Z=!1}return Z}finally{f=null,h=B,p=!1}}var P=!1,S=null,x=-1,O=5,j=-1;function C(){return!(t.unstable_now()-j<O)}function N(){if(S!==null){var $=t.unstable_now();j=$;var R=!0;try{R=S(!0,$)}finally{R?I():(P=!1,S=null)}}else P=!1}var I;if(typeof b=="function")I=function(){b(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=N,I=function(){V.postMessage(null)}}else I=function(){v(N,0)};function K($){S=$,P||(P=!0,I())}function L($,R){x=v(function(){$(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,K(T))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var B=h;h=R;try{return $()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,R){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=h;h=$;try{return R()}finally{h=B}},t.unstable_scheduleCallback=function($,R,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=B+H,$={id:c++,callback:R,priorityLevel:$,startTime:B,expirationTime:H,sortIndex:-1},B>W?($.sortIndex=B,e(u,$),r(l)===null&&$===r(u)&&(y?(_(x),x=-1):y=!0,L(k,B-W))):($.sortIndex=H,e(l,$),g||p||(g=!0,K(T))),$},t.unstable_shouldYield=C,t.unstable_wrapCallback=function($){var R=h;return function(){var B=h;h=R;try{return $.apply(this,arguments)}finally{h=B}}}})(JP);YP.exports=JP;var wM=YP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM=D,Ur=wM;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZP=new Set,Au={};function vo(t,e){ps(t,e),ps(t+"Capture",e)}function ps(t,e){for(Au[t]=e,t=0;t<e.length;t++)ZP.add(e[t])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,xM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j_={},N_={};function _M(t){return ly.call(N_,t)?!0:ly.call(j_,t)?!1:xM.test(t)?N_[t]=!0:(j_[t]=!0,!1)}function SM(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EM(t,e,r,n){if(e===null||typeof e>"u"||SM(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var rw=/[\-:]([a-z])/g;function nw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rw,nw);Yt[e]=new xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rw,nw);Yt[e]=new xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rw,nw);Yt[e]=new xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new xr(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function iw(t,e,r,n){var i=Yt.hasOwnProperty(e)?Yt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EM(e,r,i,n)&&(r=null),n||i===null?_M(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ji=bM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pf=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),aw=Symbol.for("react.strict_mode"),uy=Symbol.for("react.profiler"),eO=Symbol.for("react.provider"),tO=Symbol.for("react.context"),ow=Symbol.for("react.forward_ref"),cy=Symbol.for("react.suspense"),fy=Symbol.for("react.suspense_list"),sw=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),rO=Symbol.for("react.offscreen"),D_=Symbol.iterator;function jl(t){return t===null||typeof t!="object"?null:(t=D_&&t[D_]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Wm;function Yl(t){if(Wm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wm=e&&e[1]||""}return`
`+Wm+t}var Km=!1;function qm(t,e){if(!t||Km)return"";Km=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Km=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Yl(t):""}function TM(t){switch(t.tag){case 5:return Yl(t.type);case 16:return Yl("Lazy");case 13:return Yl("Suspense");case 19:return Yl("SuspenseList");case 0:case 2:case 15:return t=qm(t.type,!1),t;case 11:return t=qm(t.type.render,!1),t;case 1:return t=qm(t.type,!0),t;default:return""}}function dy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case Uo:return"Portal";case uy:return"Profiler";case aw:return"StrictMode";case cy:return"Suspense";case fy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tO:return(t.displayName||"Context")+".Consumer";case eO:return(t._context.displayName||"Context")+".Provider";case ow:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sw:return e=t.displayName||null,e!==null?e:dy(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return dy(t(e))}catch{}}return null}function AM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dy(e);case 8:return e===aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ga(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PM(t){var e=nO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Of(t){t._valueTracker||(t._valueTracker=PM(t))}function iO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ed(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hy(t,e){var r=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function M_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ga(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aO(t,e){e=e.checked,e!=null&&iw(t,"checked",e,!1)}function py(t,e){aO(t,e);var r=ga(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?my(t,e.type,r):e.hasOwnProperty("defaultValue")&&my(t,e.type,ga(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function my(t,e,r){(e!=="number"||Ed(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Jl=Array.isArray;function ns(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ga(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Jl(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ga(r)}}function oO(t,e){var r=ga(e.value),n=ga(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function L_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kf,lO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kf=kf||document.createElement("div"),kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OM=["Webkit","ms","Moz","O"];Object.keys(ou).forEach(function(t){OM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ou[e]=ou[t]})});function uO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ou.hasOwnProperty(t)&&ou[t]?(""+e).trim():e+"px"}function cO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var kM=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(t,e){if(e){if(kM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function wy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=null;function lw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xy=null,is=null,as=null;function F_(t){if(t=Fc(t)){if(typeof xy!="function")throw Error(te(280));var e=t.stateNode;e&&(e=dp(e),xy(t.stateNode,t.type,e))}}function fO(t){is?as?as.push(t):as=[t]:is=t}function dO(){if(is){var t=is,e=as;if(as=is=null,F_(t),e)for(t=0;t<e.length;t++)F_(e[t])}}function hO(t,e){return t(e)}function pO(){}var Hm=!1;function mO(t,e,r){if(Hm)return t(e,r);Hm=!0;try{return hO(t,e,r)}finally{Hm=!1,(is!==null||as!==null)&&(pO(),dO())}}function Ou(t,e){var r=t.stateNode;if(r===null)return null;var n=dp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var _y=!1;if(xi)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){_y=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{_y=!1}function CM(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var su=!1,Td=null,Ad=!1,Sy=null,IM={onError:function(t){su=!0,Td=t}};function jM(t,e,r,n,i,a,o,s,l){su=!1,Td=null,CM.apply(IM,arguments)}function NM(t,e,r,n,i,a,o,s,l){if(jM.apply(this,arguments),su){if(su){var u=Td;su=!1,Td=null}else throw Error(te(198));Ad||(Ad=!0,Sy=u)}}function wo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V_(t){if(wo(t)!==t)throw Error(te(188))}function DM(t){var e=t.alternate;if(!e){if(e=wo(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return V_(i),t;if(a===n)return V_(i),e;a=a.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function yO(t){return t=DM(t),t!==null?vO(t):null}function vO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vO(t);if(e!==null)return e;t=t.sibling}return null}var wO=Ur.unstable_scheduleCallback,B_=Ur.unstable_cancelCallback,MM=Ur.unstable_shouldYield,RM=Ur.unstable_requestPaint,wt=Ur.unstable_now,$M=Ur.unstable_getCurrentPriorityLevel,uw=Ur.unstable_ImmediatePriority,bO=Ur.unstable_UserBlockingPriority,Pd=Ur.unstable_NormalPriority,LM=Ur.unstable_LowPriority,xO=Ur.unstable_IdlePriority,lp=null,zn=null;function FM(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(lp,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:UM,VM=Math.log,BM=Math.LN2;function UM(t){return t>>>=0,t===0?32:31-(VM(t)/BM|0)|0}var Cf=64,If=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Od(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Zl(s):(a&=o,a!==0&&(n=Zl(a)))}else o=r&~i,o!==0?n=Zl(o):a!==0&&(n=Zl(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-On(e),i=1<<r,n|=t[r],e&=~i;return n}function zM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-On(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=zM(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Ey(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _O(){var t=Cf;return Cf<<=1,!(Cf&4194240)&&(Cf=64),t}function Gm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $c(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=r}function KM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-On(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function cw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-On(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function SO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EO,fw,TO,AO,PO,Ty=!1,jf=[],ra=null,na=null,ia=null,ku=new Map,Cu=new Map,Hi=[],qM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U_(t,e){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(e.pointerId)}}function Dl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Fc(e),e!==null&&fw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HM(t,e,r,n,i){switch(e){case"focusin":return ra=Dl(ra,t,e,r,n,i),!0;case"dragenter":return na=Dl(na,t,e,r,n,i),!0;case"mouseover":return ia=Dl(ia,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return ku.set(a,Dl(ku.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Cu.set(a,Dl(Cu.get(a)||null,t,e,r,n,i)),!0}return!1}function OO(t){var e=Wa(t.target);if(e!==null){var r=wo(e);if(r!==null){if(e=r.tag,e===13){if(e=gO(r),e!==null){t.blockedOn=e,PO(t.priority,function(){TO(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);by=n,r.target.dispatchEvent(n),by=null}else return e=Fc(r),e!==null&&fw(e),t.blockedOn=r,!1;e.shift()}return!0}function z_(t,e,r){ud(t)&&r.delete(e)}function GM(){Ty=!1,ra!==null&&ud(ra)&&(ra=null),na!==null&&ud(na)&&(na=null),ia!==null&&ud(ia)&&(ia=null),ku.forEach(z_),Cu.forEach(z_)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Ty||(Ty=!0,Ur.unstable_scheduleCallback(Ur.unstable_NormalPriority,GM)))}function Iu(t){function e(i){return Ml(i,t)}if(0<jf.length){Ml(jf[0],t);for(var r=1;r<jf.length;r++){var n=jf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ra!==null&&Ml(ra,t),na!==null&&Ml(na,t),ia!==null&&Ml(ia,t),ku.forEach(e),Cu.forEach(e),r=0;r<Hi.length;r++)n=Hi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Hi.length&&(r=Hi[0],r.blockedOn===null);)OO(r),r.blockedOn===null&&Hi.shift()}var os=ji.ReactCurrentBatchConfig,kd=!0;function QM(t,e,r,n){var i=Be,a=os.transition;os.transition=null;try{Be=1,dw(t,e,r,n)}finally{Be=i,os.transition=a}}function XM(t,e,r,n){var i=Be,a=os.transition;os.transition=null;try{Be=4,dw(t,e,r,n)}finally{Be=i,os.transition=a}}function dw(t,e,r,n){if(kd){var i=Ay(t,e,r,n);if(i===null)ig(t,e,n,Cd,r),U_(t,n);else if(HM(i,t,e,r,n))n.stopPropagation();else if(U_(t,n),e&4&&-1<qM.indexOf(t)){for(;i!==null;){var a=Fc(i);if(a!==null&&EO(a),a=Ay(t,e,r,n),a===null&&ig(t,e,n,Cd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else ig(t,e,n,null,r)}}var Cd=null;function Ay(t,e,r,n){if(Cd=null,t=lw(n),t=Wa(t),t!==null)if(e=wo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cd=t,null}function kO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($M()){case uw:return 1;case bO:return 4;case Pd:case LM:return 16;case xO:return 536870912;default:return 16}default:return 16}}var Yi=null,hw=null,cd=null;function CO(){if(cd)return cd;var t,e=hw,r=e.length,n,i="value"in Yi?Yi.value:Yi.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return cd=i.slice(t,1<n?1-n:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nf(){return!0}function W_(){return!1}function Kr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nf:W_,this.isPropagationStopped=W_,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nf)},persist:function(){},isPersistent:Nf}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pw=Kr(el),Lc=ht({},el,{view:0,detail:0}),YM=Kr(Lc),Qm,Xm,Rl,up=ht({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rl&&(Rl&&t.type==="mousemove"?(Qm=t.screenX-Rl.screenX,Xm=t.screenY-Rl.screenY):Xm=Qm=0,Rl=t),Qm)},movementY:function(t){return"movementY"in t?t.movementY:Xm}}),K_=Kr(up),JM=ht({},up,{dataTransfer:0}),ZM=Kr(JM),eR=ht({},Lc,{relatedTarget:0}),Ym=Kr(eR),tR=ht({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),rR=Kr(tR),nR=ht({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iR=Kr(nR),aR=ht({},el,{data:0}),q_=Kr(aR),oR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lR[t])?!!e[t]:!1}function mw(){return uR}var cR=ht({},Lc,{key:function(t){if(t.key){var e=oR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mw,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fR=Kr(cR),dR=ht({},up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_=Kr(dR),hR=ht({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mw}),pR=Kr(hR),mR=ht({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),gR=Kr(mR),yR=ht({},up,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vR=Kr(yR),wR=[9,13,27,32],gw=xi&&"CompositionEvent"in window,lu=null;xi&&"documentMode"in document&&(lu=document.documentMode);var bR=xi&&"TextEvent"in window&&!lu,IO=xi&&(!gw||lu&&8<lu&&11>=lu),G_=" ",Q_=!1;function jO(t,e){switch(t){case"keyup":return wR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wo=!1;function xR(t,e){switch(t){case"compositionend":return NO(e);case"keypress":return e.which!==32?null:(Q_=!0,G_);case"textInput":return t=e.data,t===G_&&Q_?null:t;default:return null}}function _R(t,e){if(Wo)return t==="compositionend"||!gw&&jO(t,e)?(t=CO(),cd=hw=Yi=null,Wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IO&&e.locale!=="ko"?null:e.data;default:return null}}var SR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SR[t.type]:e==="textarea"}function DO(t,e,r,n){fO(n),e=Id(e,"onChange"),0<e.length&&(r=new pw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var uu=null,ju=null;function ER(t){KO(t,0)}function cp(t){var e=Ho(t);if(iO(e))return t}function TR(t,e){if(t==="change")return e}var MO=!1;if(xi){var Jm;if(xi){var Zm="oninput"in document;if(!Zm){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),Zm=typeof Y_.oninput=="function"}Jm=Zm}else Jm=!1;MO=Jm&&(!document.documentMode||9<document.documentMode)}function J_(){uu&&(uu.detachEvent("onpropertychange",RO),ju=uu=null)}function RO(t){if(t.propertyName==="value"&&cp(ju)){var e=[];DO(e,ju,t,lw(t)),mO(ER,e)}}function AR(t,e,r){t==="focusin"?(J_(),uu=e,ju=r,uu.attachEvent("onpropertychange",RO)):t==="focusout"&&J_()}function PR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cp(ju)}function OR(t,e){if(t==="click")return cp(e)}function kR(t,e){if(t==="input"||t==="change")return cp(e)}function CR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:CR;function Nu(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ly.call(e,i)||!In(t[i],e[i]))return!1}return!0}function Z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e1(t,e){var r=Z_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Z_(r)}}function $O(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$O(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LO(){for(var t=window,e=Ed();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ed(t.document)}return e}function yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IR(t){var e=LO(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&$O(r.ownerDocument.documentElement,r)){if(n!==null&&yw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=e1(r,a);var o=e1(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jR=xi&&"documentMode"in document&&11>=document.documentMode,Ko=null,Py=null,cu=null,Oy=!1;function t1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oy||Ko==null||Ko!==Ed(n)||(n=Ko,"selectionStart"in n&&yw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cu&&Nu(cu,n)||(cu=n,n=Id(Py,"onSelect"),0<n.length&&(e=new pw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ko)))}function Df(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var qo={animationend:Df("Animation","AnimationEnd"),animationiteration:Df("Animation","AnimationIteration"),animationstart:Df("Animation","AnimationStart"),transitionend:Df("Transition","TransitionEnd")},eg={},FO={};xi&&(FO=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function fp(t){if(eg[t])return eg[t];if(!qo[t])return t;var e=qo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in FO)return eg[t]=e[r];return t}var VO=fp("animationend"),BO=fp("animationiteration"),UO=fp("animationstart"),zO=fp("transitionend"),WO=new Map,r1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(t,e){WO.set(t,e),vo(e,[t])}for(var tg=0;tg<r1.length;tg++){var rg=r1[tg],NR=rg.toLowerCase(),DR=rg[0].toUpperCase()+rg.slice(1);xa(NR,"on"+DR)}xa(VO,"onAnimationEnd");xa(BO,"onAnimationIteration");xa(UO,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(zO,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function n1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,NM(n,e,void 0,t),t.currentTarget=null}function KO(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;n1(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;n1(i,s,u),a=l}}}if(Ad)throw t=Sy,Ad=!1,Sy=null,t}function tt(t,e){var r=e[Ny];r===void 0&&(r=e[Ny]=new Set);var n=t+"__bubble";r.has(n)||(qO(e,t,2,!1),r.add(n))}function ng(t,e,r){var n=0;e&&(n|=4),qO(r,t,n,e)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[Mf]){t[Mf]=!0,ZP.forEach(function(r){r!=="selectionchange"&&(MR.has(r)||ng(r,!1,t),ng(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mf]||(e[Mf]=!0,ng("selectionchange",!1,e))}}function qO(t,e,r,n){switch(kO(e)){case 1:var i=QM;break;case 4:i=XM;break;default:i=dw}r=i.bind(null,e,r,t),i=void 0,!_y||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function ig(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Wa(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}mO(function(){var u=a,c=lw(r),f=[];e:{var h=WO.get(t);if(h!==void 0){var p=pw,g=t;switch(t){case"keypress":if(fd(r)===0)break e;case"keydown":case"keyup":p=fR;break;case"focusin":g="focus",p=Ym;break;case"focusout":g="blur",p=Ym;break;case"beforeblur":case"afterblur":p=Ym;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=K_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pR;break;case VO:case BO:case UO:p=rR;break;case zO:p=gR;break;case"scroll":p=YM;break;case"wheel":p=vR;break;case"copy":case"cut":case"paste":p=iR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=H_}var y=(e&4)!==0,v=!y&&t==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,E;b!==null;){E=b;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,_!==null&&(k=Ou(b,_),k!=null&&y.push(Mu(b,k,E)))),v)break;b=b.return}0<y.length&&(h=new p(h,g,null,r,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==by&&(g=r.relatedTarget||r.fromElement)&&(Wa(g)||g[_i]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Wa(g):null,g!==null&&(v=wo(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=K_,k="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=H_,k="onPointerLeave",_="onPointerEnter",b="pointer"),v=p==null?h:Ho(p),E=g==null?h:Ho(g),h=new y(k,b+"leave",p,r,c),h.target=v,h.relatedTarget=E,k=null,Wa(c)===u&&(y=new y(_,b+"enter",g,r,c),y.target=E,y.relatedTarget=v,k=y),v=k,p&&g)t:{for(y=p,_=g,b=0,E=y;E;E=Do(E))b++;for(E=0,k=_;k;k=Do(k))E++;for(;0<b-E;)y=Do(y),b--;for(;0<E-b;)_=Do(_),E--;for(;b--;){if(y===_||_!==null&&y===_.alternate)break t;y=Do(y),_=Do(_)}y=null}else y=null;p!==null&&i1(f,h,p,y,!1),g!==null&&v!==null&&i1(f,v,g,y,!0)}}e:{if(h=u?Ho(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=TR;else if(X_(h))if(MO)T=kR;else{T=PR;var P=AR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=OR);if(T&&(T=T(t,u))){DO(f,T,r,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&my(h,"number",h.value)}switch(P=u?Ho(u):window,t){case"focusin":(X_(P)||P.contentEditable==="true")&&(Ko=P,Py=u,cu=null);break;case"focusout":cu=Py=Ko=null;break;case"mousedown":Oy=!0;break;case"contextmenu":case"mouseup":case"dragend":Oy=!1,t1(f,r,c);break;case"selectionchange":if(jR)break;case"keydown":case"keyup":t1(f,r,c)}var S;if(gw)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Wo?jO(t,r)&&(x="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(IO&&r.locale!=="ko"&&(Wo||x!=="onCompositionStart"?x==="onCompositionEnd"&&Wo&&(S=CO()):(Yi=c,hw="value"in Yi?Yi.value:Yi.textContent,Wo=!0)),P=Id(u,x),0<P.length&&(x=new q_(x,t,null,r,c),f.push({event:x,listeners:P}),S?x.data=S:(S=NO(r),S!==null&&(x.data=S)))),(S=bR?xR(t,r):_R(t,r))&&(u=Id(u,"onBeforeInput"),0<u.length&&(c=new q_("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=S))}KO(f,e)})}function Mu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Id(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ou(t,r),a!=null&&n.unshift(Mu(t,a,i)),a=Ou(t,e),a!=null&&n.push(Mu(t,a,i))),t=t.return}return n}function Do(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i1(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Ou(r,a),l!=null&&o.unshift(Mu(r,l,s))):i||(l=Ou(r,a),l!=null&&o.push(Mu(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var RR=/\r\n?/g,$R=/\u0000|\uFFFD/g;function a1(t){return(typeof t=="string"?t:""+t).replace(RR,`
`).replace($R,"")}function Rf(t,e,r){if(e=a1(e),a1(t)!==e&&r)throw Error(te(425))}function jd(){}var ky=null,Cy=null;function Iy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jy=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,o1=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof o1<"u"?function(t){return o1.resolve(null).then(t).catch(VR)}:jy;function VR(t){setTimeout(function(){throw t})}function ag(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Iu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Iu(e)}function aa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function s1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Vn="__reactFiber$"+tl,Ru="__reactProps$"+tl,_i="__reactContainer$"+tl,Ny="__reactEvents$"+tl,BR="__reactListeners$"+tl,UR="__reactHandles$"+tl;function Wa(t){var e=t[Vn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_i]||r[Vn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=s1(t);t!==null;){if(r=t[Vn])return r;t=s1(t)}return e}t=r,r=t.parentNode}return null}function Fc(t){return t=t[Vn]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function dp(t){return t[Ru]||null}var Dy=[],Go=-1;function _a(t){return{current:t}}function at(t){0>Go||(t.current=Dy[Go],Dy[Go]=null,Go--)}function Ye(t,e){Go++,Dy[Go]=t.current,t.current=e}var ya={},fr=_a(ya),Pr=_a(!1),no=ya;function ms(t,e){var r=t.type.contextTypes;if(!r)return ya;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Or(t){return t=t.childContextTypes,t!=null}function Nd(){at(Pr),at(fr)}function l1(t,e,r){if(fr.current!==ya)throw Error(te(168));Ye(fr,e),Ye(Pr,r)}function HO(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,AM(t)||"Unknown",i));return ht({},r,n)}function Dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ya,no=fr.current,Ye(fr,t),Ye(Pr,Pr.current),!0}function u1(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=HO(t,e,no),n.__reactInternalMemoizedMergedChildContext=t,at(Pr),at(fr),Ye(fr,t)):at(Pr),Ye(Pr,r)}var ci=null,hp=!1,og=!1;function GO(t){ci===null?ci=[t]:ci.push(t)}function zR(t){hp=!0,GO(t)}function Sa(){if(!og&&ci!==null){og=!0;var t=0,e=Be;try{var r=ci;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ci=null,hp=!1}catch(i){throw ci!==null&&(ci=ci.slice(t+1)),wO(uw,Sa),i}finally{Be=e,og=!1}}return null}var Qo=[],Xo=0,Md=null,Rd=0,tn=[],rn=0,io=null,fi=1,di="";function La(t,e){Qo[Xo++]=Rd,Qo[Xo++]=Md,Md=t,Rd=e}function QO(t,e,r){tn[rn++]=fi,tn[rn++]=di,tn[rn++]=io,io=t;var n=fi;t=di;var i=32-On(n)-1;n&=~(1<<i),r+=1;var a=32-On(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,fi=1<<32-On(e)+i|r<<i|n,di=a+t}else fi=1<<a|r<<i|n,di=t}function vw(t){t.return!==null&&(La(t,1),QO(t,1,0))}function ww(t){for(;t===Md;)Md=Qo[--Xo],Qo[Xo]=null,Rd=Qo[--Xo],Qo[Xo]=null;for(;t===io;)io=tn[--rn],tn[rn]=null,di=tn[--rn],tn[rn]=null,fi=tn[--rn],tn[rn]=null}var Br=null,Fr=null,lt=!1,Sn=null;function XO(t,e){var r=nn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function c1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Br=t,Fr=aa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Br=t,Fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=io!==null?{id:fi,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=nn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Br=t,Fr=null,!0):!1;default:return!1}}function My(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ry(t){if(lt){var e=Fr;if(e){var r=e;if(!c1(t,e)){if(My(t))throw Error(te(418));e=aa(r.nextSibling);var n=Br;e&&c1(t,e)?XO(n,r):(t.flags=t.flags&-4097|2,lt=!1,Br=t)}}else{if(My(t))throw Error(te(418));t.flags=t.flags&-4097|2,lt=!1,Br=t}}}function f1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Br=t}function $f(t){if(t!==Br)return!1;if(!lt)return f1(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Iy(t.type,t.memoizedProps)),e&&(e=Fr)){if(My(t))throw YO(),Error(te(418));for(;e;)XO(t,e),e=aa(e.nextSibling)}if(f1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fr=aa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fr=null}}else Fr=Br?aa(t.stateNode.nextSibling):null;return!0}function YO(){for(var t=Fr;t;)t=aa(t.nextSibling)}function gs(){Fr=Br=null,lt=!1}function bw(t){Sn===null?Sn=[t]:Sn.push(t)}var WR=ji.ReactCurrentBatchConfig;function $l(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function Lf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d1(t){var e=t._init;return e(t._payload)}function JO(t){function e(_,b){if(t){var E=_.deletions;E===null?(_.deletions=[b],_.flags|=16):E.push(b)}}function r(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=ua(_,b),_.index=0,_.sibling=null,_}function a(_,b,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<b?(_.flags|=2,b):E):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,b,E,k){return b===null||b.tag!==6?(b=hg(E,_.mode,k),b.return=_,b):(b=i(b,E),b.return=_,b)}function l(_,b,E,k){var T=E.type;return T===zo?c(_,b,E.props.children,k,E.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Wi&&d1(T)===b.type)?(k=i(b,E.props),k.ref=$l(_,b,E),k.return=_,k):(k=vd(E.type,E.key,E.props,null,_.mode,k),k.ref=$l(_,b,E),k.return=_,k)}function u(_,b,E,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=pg(E,_.mode,k),b.return=_,b):(b=i(b,E.children||[]),b.return=_,b)}function c(_,b,E,k,T){return b===null||b.tag!==7?(b=Za(E,_.mode,k,T),b.return=_,b):(b=i(b,E),b.return=_,b)}function f(_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=hg(""+b,_.mode,E),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pf:return E=vd(b.type,b.key,b.props,null,_.mode,E),E.ref=$l(_,null,b),E.return=_,E;case Uo:return b=pg(b,_.mode,E),b.return=_,b;case Wi:var k=b._init;return f(_,k(b._payload),E)}if(Jl(b)||jl(b))return b=Za(b,_.mode,E,null),b.return=_,b;Lf(_,b)}return null}function h(_,b,E,k){var T=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:s(_,b,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pf:return E.key===T?l(_,b,E,k):null;case Uo:return E.key===T?u(_,b,E,k):null;case Wi:return T=E._init,h(_,b,T(E._payload),k)}if(Jl(E)||jl(E))return T!==null?null:c(_,b,E,k,null);Lf(_,E)}return null}function p(_,b,E,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(E)||null,s(b,_,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Pf:return _=_.get(k.key===null?E:k.key)||null,l(b,_,k,T);case Uo:return _=_.get(k.key===null?E:k.key)||null,u(b,_,k,T);case Wi:var P=k._init;return p(_,b,E,P(k._payload),T)}if(Jl(k)||jl(k))return _=_.get(E)||null,c(b,_,k,T,null);Lf(b,k)}return null}function g(_,b,E,k){for(var T=null,P=null,S=b,x=b=0,O=null;S!==null&&x<E.length;x++){S.index>x?(O=S,S=null):O=S.sibling;var j=h(_,S,E[x],k);if(j===null){S===null&&(S=O);break}t&&S&&j.alternate===null&&e(_,S),b=a(j,b,x),P===null?T=j:P.sibling=j,P=j,S=O}if(x===E.length)return r(_,S),lt&&La(_,x),T;if(S===null){for(;x<E.length;x++)S=f(_,E[x],k),S!==null&&(b=a(S,b,x),P===null?T=S:P.sibling=S,P=S);return lt&&La(_,x),T}for(S=n(_,S);x<E.length;x++)O=p(S,_,x,E[x],k),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?x:O.key),b=a(O,b,x),P===null?T=O:P.sibling=O,P=O);return t&&S.forEach(function(C){return e(_,C)}),lt&&La(_,x),T}function y(_,b,E,k){var T=jl(E);if(typeof T!="function")throw Error(te(150));if(E=T.call(E),E==null)throw Error(te(151));for(var P=T=null,S=b,x=b=0,O=null,j=E.next();S!==null&&!j.done;x++,j=E.next()){S.index>x?(O=S,S=null):O=S.sibling;var C=h(_,S,j.value,k);if(C===null){S===null&&(S=O);break}t&&S&&C.alternate===null&&e(_,S),b=a(C,b,x),P===null?T=C:P.sibling=C,P=C,S=O}if(j.done)return r(_,S),lt&&La(_,x),T;if(S===null){for(;!j.done;x++,j=E.next())j=f(_,j.value,k),j!==null&&(b=a(j,b,x),P===null?T=j:P.sibling=j,P=j);return lt&&La(_,x),T}for(S=n(_,S);!j.done;x++,j=E.next())j=p(S,_,x,j.value,k),j!==null&&(t&&j.alternate!==null&&S.delete(j.key===null?x:j.key),b=a(j,b,x),P===null?T=j:P.sibling=j,P=j);return t&&S.forEach(function(N){return e(_,N)}),lt&&La(_,x),T}function v(_,b,E,k){if(typeof E=="object"&&E!==null&&E.type===zo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pf:e:{for(var T=E.key,P=b;P!==null;){if(P.key===T){if(T=E.type,T===zo){if(P.tag===7){r(_,P.sibling),b=i(P,E.props.children),b.return=_,_=b;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Wi&&d1(T)===P.type){r(_,P.sibling),b=i(P,E.props),b.ref=$l(_,P,E),b.return=_,_=b;break e}r(_,P);break}else e(_,P);P=P.sibling}E.type===zo?(b=Za(E.props.children,_.mode,k,E.key),b.return=_,_=b):(k=vd(E.type,E.key,E.props,null,_.mode,k),k.ref=$l(_,b,E),k.return=_,_=k)}return o(_);case Uo:e:{for(P=E.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(_,b.sibling),b=i(b,E.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else e(_,b);b=b.sibling}b=pg(E,_.mode,k),b.return=_,_=b}return o(_);case Wi:return P=E._init,v(_,b,P(E._payload),k)}if(Jl(E))return g(_,b,E,k);if(jl(E))return y(_,b,E,k);Lf(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,E),b.return=_,_=b):(r(_,b),b=hg(E,_.mode,k),b.return=_,_=b),o(_)):r(_,b)}return v}var ys=JO(!0),ZO=JO(!1),$d=_a(null),Ld=null,Yo=null,xw=null;function _w(){xw=Yo=Ld=null}function Sw(t){var e=$d.current;at($d),t._currentValue=e}function $y(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ss(t,e){Ld=t,xw=Yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(xw!==t)if(t={context:t,memoizedValue:e,next:null},Yo===null){if(Ld===null)throw Error(te(308));Yo=t,Ld.dependencies={lanes:0,firstContext:t}}else Yo=Yo.next=t;return e}var Ka=null;function Ew(t){Ka===null?Ka=[t]:Ka.push(t)}function ek(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Ew(e)):(r.next=i.next,i.next=r),e.interleaved=r,Si(t,n)}function Si(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ki=!1;function Tw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Me&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Si(t,r)}return i=n.interleaved,i===null?(e.next=e,Ew(n)):(e.next=i.next,i.next=e),n.interleaved=e,Si(t,r)}function dd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cw(t,r)}}function h1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fd(t,e,r,n){var i=t.updateQueue;Ki=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ht({},f,h);break e;case 2:Ki=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=f}}function p1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var Vc={},Wn=_a(Vc),$u=_a(Vc),Lu=_a(Vc);function qa(t){if(t===Vc)throw Error(te(174));return t}function Aw(t,e){switch(Ye(Lu,e),Ye($u,t),Ye(Wn,Vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yy(e,t)}at(Wn),Ye(Wn,e)}function vs(){at(Wn),at($u),at(Lu)}function rk(t){qa(Lu.current);var e=qa(Wn.current),r=yy(e,t.type);e!==r&&(Ye($u,t),Ye(Wn,r))}function Pw(t){$u.current===t&&(at(Wn),at($u))}var ct=_a(0);function Vd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sg=[];function Ow(){for(var t=0;t<sg.length;t++)sg[t]._workInProgressVersionPrimary=null;sg.length=0}var hd=ji.ReactCurrentDispatcher,lg=ji.ReactCurrentBatchConfig,ao=0,ft=null,kt=null,Lt=null,Bd=!1,fu=!1,Fu=0,KR=0;function rr(){throw Error(te(321))}function kw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!In(t[r],e[r]))return!1;return!0}function Cw(t,e,r,n,i,a){if(ao=a,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hd.current=t===null||t.memoizedState===null?QR:XR,t=r(n,i),fu){a=0;do{if(fu=!1,Fu=0,25<=a)throw Error(te(301));a+=1,Lt=kt=null,e.updateQueue=null,hd.current=YR,t=r(n,i)}while(fu)}if(hd.current=Ud,e=kt!==null&&kt.next!==null,ao=0,Lt=kt=ft=null,Bd=!1,e)throw Error(te(300));return t}function Iw(){var t=Fu!==0;return Fu=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ft.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function cn(){if(kt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Lt===null?ft.memoizedState:Lt.next;if(e!==null)Lt=e,kt=t;else{if(t===null)throw Error(te(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Lt===null?ft.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Vu(t,e){return typeof e=="function"?e(t):e}function ug(t){var e=cn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=kt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((ao&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,ft.lanes|=c,oo|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,In(n,e.memoizedState)||(Tr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ft.lanes|=a,oo|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function cg(t){var e=cn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);In(a,e.memoizedState)||(Tr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function nk(){}function ik(t,e){var r=ft,n=cn(),i=e(),a=!In(n.memoizedState,i);if(a&&(n.memoizedState=i,Tr=!0),n=n.queue,jw(sk.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,Bu(9,ok.bind(null,r,n,i,e),void 0,null),Ft===null)throw Error(te(349));ao&30||ak(r,e,i)}return i}function ak(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ok(t,e,r,n){e.value=r,e.getSnapshot=n,lk(e)&&uk(t)}function sk(t,e,r){return r(function(){lk(e)&&uk(t)})}function lk(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!In(t,r)}catch{return!0}}function uk(t){var e=Si(t,1);e!==null&&kn(e,t,1,-1)}function m1(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=GR.bind(null,ft,t),[e.memoizedState,t]}function Bu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ck(){return cn().memoizedState}function pd(t,e,r,n){var i=Fn();ft.flags|=t,i.memoizedState=Bu(1|e,r,void 0,n===void 0?null:n)}function pp(t,e,r,n){var i=cn();n=n===void 0?null:n;var a=void 0;if(kt!==null){var o=kt.memoizedState;if(a=o.destroy,n!==null&&kw(n,o.deps)){i.memoizedState=Bu(e,r,a,n);return}}ft.flags|=t,i.memoizedState=Bu(1|e,r,a,n)}function g1(t,e){return pd(8390656,8,t,e)}function jw(t,e){return pp(2048,8,t,e)}function fk(t,e){return pp(4,2,t,e)}function dk(t,e){return pp(4,4,t,e)}function hk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pk(t,e,r){return r=r!=null?r.concat([t]):null,pp(4,4,hk.bind(null,e,t),r)}function Nw(){}function mk(t,e){var r=cn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function gk(t,e){var r=cn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function yk(t,e,r){return ao&21?(In(r,e)||(r=_O(),ft.lanes|=r,oo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=r)}function qR(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=lg.transition;lg.transition={};try{t(!1),e()}finally{Be=r,lg.transition=n}}function vk(){return cn().memoizedState}function HR(t,e,r){var n=la(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wk(t))bk(e,r);else if(r=ek(t,e,r,n),r!==null){var i=vr();kn(r,t,n,i),xk(r,e,n)}}function GR(t,e,r){var n=la(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wk(t))bk(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,In(s,o)){var l=e.interleaved;l===null?(i.next=i,Ew(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=ek(t,e,i,n),r!==null&&(i=vr(),kn(r,t,n,i),xk(r,e,n))}}function wk(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function bk(t,e){fu=Bd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function xk(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cw(t,r)}}var Ud={readContext:un,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},QR={readContext:un,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:g1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,pd(4194308,4,hk.bind(null,e,t),r)},useLayoutEffect:function(t,e){return pd(4194308,4,t,e)},useInsertionEffect:function(t,e){return pd(4,2,t,e)},useMemo:function(t,e){var r=Fn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=HR.bind(null,ft,t),[n.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:m1,useDebugValue:Nw,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=m1(!1),e=t[0];return t=qR.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ft,i=Fn();if(lt){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Ft===null)throw Error(te(349));ao&30||ak(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,g1(sk.bind(null,n,a,t),[t]),n.flags|=2048,Bu(9,ok.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Fn(),e=Ft.identifierPrefix;if(lt){var r=di,n=fi;r=(n&~(1<<32-On(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=KR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XR={readContext:un,useCallback:mk,useContext:un,useEffect:jw,useImperativeHandle:pk,useInsertionEffect:fk,useLayoutEffect:dk,useMemo:gk,useReducer:ug,useRef:ck,useState:function(){return ug(Vu)},useDebugValue:Nw,useDeferredValue:function(t){var e=cn();return yk(e,kt.memoizedState,t)},useTransition:function(){var t=ug(Vu)[0],e=cn().memoizedState;return[t,e]},useMutableSource:nk,useSyncExternalStore:ik,useId:vk,unstable_isNewReconciler:!1},YR={readContext:un,useCallback:mk,useContext:un,useEffect:jw,useImperativeHandle:pk,useInsertionEffect:fk,useLayoutEffect:dk,useMemo:gk,useReducer:cg,useRef:ck,useState:function(){return cg(Vu)},useDebugValue:Nw,useDeferredValue:function(t){var e=cn();return kt===null?e.memoizedState=t:yk(e,kt.memoizedState,t)},useTransition:function(){var t=cg(Vu)[0],e=cn().memoizedState;return[t,e]},useMutableSource:nk,useSyncExternalStore:ik,useId:vk,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ly(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ht({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mp={isMounted:function(t){return(t=t._reactInternals)?wo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=vr(),i=la(t),a=gi(n,i);a.payload=e,r!=null&&(a.callback=r),e=oa(t,a,i),e!==null&&(kn(e,t,i,n),dd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=vr(),i=la(t),a=gi(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=oa(t,a,i),e!==null&&(kn(e,t,i,n),dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=vr(),n=la(t),i=gi(r,n);i.tag=2,e!=null&&(i.callback=e),e=oa(t,i,n),e!==null&&(kn(e,t,n,r),dd(e,t,n))}};function y1(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Nu(r,n)||!Nu(i,a):!0}function _k(t,e,r){var n=!1,i=ya,a=e.contextType;return typeof a=="object"&&a!==null?a=un(a):(i=Or(e)?no:fr.current,n=e.contextTypes,a=(n=n!=null)?ms(t,i):ya),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function v1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mp.enqueueReplaceState(e,e.state,null)}function Fy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Tw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=un(a):(a=Or(e)?no:fr.current,i.context=ms(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ly(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mp.enqueueReplaceState(i,i.state,null),Fd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ws(t,e){try{var r="",n=e;do r+=TM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function fg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Vy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var JR=typeof WeakMap=="function"?WeakMap:Map;function Sk(t,e,r){r=gi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Wd||(Wd=!0,Xy=n),Vy(t,e)},r}function Ek(t,e,r){r=gi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Vy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Vy(t,e),typeof n!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function w1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new JR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=d$.bind(null,t,e,r),e.then(t,t))}function b1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gi(-1,1),e.tag=2,oa(r,e,1))),r.lanes|=1),t)}var ZR=ji.ReactCurrentOwner,Tr=!1;function mr(t,e,r,n){e.child=t===null?ZO(e,null,r,n):ys(e,t.child,r,n)}function _1(t,e,r,n,i){r=r.render;var a=e.ref;return ss(e,i),n=Cw(t,e,r,n,a,i),r=Iw(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(lt&&r&&vw(e),e.flags|=1,mr(t,e,n,i),e.child)}function S1(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Bw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Tk(t,e,a,n,i)):(t=vd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Nu,r(o,n)&&t.ref===e.ref)return Ei(t,e,i)}return e.flags|=1,t=ua(a,n),t.ref=e.ref,t.return=e,e.child=t}function Tk(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Nu(a,n)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,Ei(t,e,i)}return By(t,e,r,n,i)}function Ak(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Zo,Rr),Rr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Zo,Rr),Rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ye(Zo,Rr),Rr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ye(Zo,Rr),Rr|=n;return mr(t,e,i,r),e.child}function Pk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function By(t,e,r,n,i){var a=Or(r)?no:fr.current;return a=ms(e,a),ss(e,i),r=Cw(t,e,r,n,a,i),n=Iw(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(lt&&n&&vw(e),e.flags|=1,mr(t,e,r,i),e.child)}function E1(t,e,r,n,i){if(Or(r)){var a=!0;Dd(e)}else a=!1;if(ss(e,i),e.stateNode===null)md(t,e),_k(e,r,n),Fy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=un(u):(u=Or(r)?no:fr.current,u=ms(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&v1(e,o,n,u),Ki=!1;var h=e.memoizedState;o.state=h,Fd(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Pr.current||Ki?(typeof c=="function"&&(Ly(e,r,c,n),l=e.memoizedState),(s=Ki||y1(e,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,tk(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:wn(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=un(l):(l=Or(r)?no:fr.current,l=ms(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&v1(e,o,n,l),Ki=!1,h=e.memoizedState,o.state=h,Fd(e,n,o,i);var g=e.memoizedState;s!==f||h!==g||Pr.current||Ki?(typeof p=="function"&&(Ly(e,r,p,n),g=e.memoizedState),(u=Ki||y1(e,r,u,n,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Uy(t,e,r,n,a,i)}function Uy(t,e,r,n,i,a){Pk(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&u1(e,r,!1),Ei(t,e,a);n=e.stateNode,ZR.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ys(e,t.child,null,a),e.child=ys(e,null,s,a)):mr(t,e,s,a),e.memoizedState=n.state,i&&u1(e,r,!0),e.child}function Ok(t){var e=t.stateNode;e.pendingContext?l1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l1(t,e.context,!1),Aw(t,e.containerInfo)}function T1(t,e,r,n,i){return gs(),bw(i),e.flags|=256,mr(t,e,r,n),e.child}var zy={dehydrated:null,treeContext:null,retryLane:0};function Wy(t){return{baseLanes:t,cachePool:null,transitions:null}}function kk(t,e,r){var n=e.pendingProps,i=ct.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(ct,i&1),t===null)return Ry(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=vp(o,n,0,null),t=Za(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Wy(r),e.memoizedState=zy,t):Dw(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return e$(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ua(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ua(s,a):(a=Za(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Wy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=zy,n}return a=t.child,t=a.sibling,n=ua(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Dw(t,e){return e=vp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ff(t,e,r,n){return n!==null&&bw(n),ys(e,t.child,null,r),t=Dw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function e$(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=fg(Error(te(422))),Ff(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=vp({mode:"visible",children:n.children},i,0,null),a=Za(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ys(e,t.child,null,o),e.child.memoizedState=Wy(o),e.memoizedState=zy,a);if(!(e.mode&1))return Ff(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(te(419)),n=fg(a,n,void 0),Ff(t,e,o,n)}if(s=(o&t.childLanes)!==0,Tr||s){if(n=Ft,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Si(t,i),kn(n,t,i,-1))}return Vw(),n=fg(Error(te(421))),Ff(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=h$.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Fr=aa(i.nextSibling),Br=e,lt=!0,Sn=null,t!==null&&(tn[rn++]=fi,tn[rn++]=di,tn[rn++]=io,fi=t.id,di=t.overflow,io=e),e=Dw(e,n.children),e.flags|=4096,e)}function A1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$y(t.return,e,r)}function dg(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Ck(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(mr(t,e,n.children,r),n=ct.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A1(t,r,e);else if(t.tag===19)A1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ye(ct,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Vd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),dg(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}dg(e,!0,r,null,a);break;case"together":dg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=ua(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ua(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function t$(t,e,r){switch(e.tag){case 3:Ok(e),gs();break;case 5:rk(e);break;case 1:Or(e.type)&&Dd(e);break;case 4:Aw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ye($d,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ye(ct,ct.current&1),e.flags|=128,null):r&e.child.childLanes?kk(t,e,r):(Ye(ct,ct.current&1),t=Ei(t,e,r),t!==null?t.sibling:null);Ye(ct,ct.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ck(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(ct,ct.current),n)break;return null;case 22:case 23:return e.lanes=0,Ak(t,e,r)}return Ei(t,e,r)}var Ik,Ky,jk,Nk;Ik=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ky=function(){};jk=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,qa(Wn.current);var a=null;switch(r){case"input":i=hy(t,i),n=hy(t,n),a=[];break;case"select":i=ht({},i,{value:void 0}),n=ht({},n,{value:void 0}),a=[];break;case"textarea":i=gy(t,i),n=gy(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=jd)}vy(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Au.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Au.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Nk=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ll(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function r$(t,e,r){var n=e.pendingProps;switch(ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(e),null;case 1:return Or(e.type)&&Nd(),nr(e),null;case 3:return n=e.stateNode,vs(),at(Pr),at(fr),Ow(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($f(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Zy(Sn),Sn=null))),Ky(t,e),nr(e),null;case 5:Pw(e);var i=qa(Lu.current);if(r=e.type,t!==null&&e.stateNode!=null)jk(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return nr(e),null}if(t=qa(Wn.current),$f(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Vn]=e,n[Ru]=a,t=(e.mode&1)!==0,r){case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":case"embed":tt("load",n);break;case"video":case"audio":for(i=0;i<eu.length;i++)tt(eu[i],n);break;case"source":tt("error",n);break;case"img":case"image":case"link":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"input":M_(n,a),tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},tt("invalid",n);break;case"textarea":$_(n,a),tt("invalid",n)}vy(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Rf(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Rf(n.textContent,s,t),i=["children",""+s]):Au.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&tt("scroll",n)}switch(r){case"input":Of(n),R_(n,a,!0);break;case"textarea":Of(n),L_(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=jd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Vn]=e,t[Ru]=n,Ik(t,e,!1,!1),e.stateNode=t;e:{switch(o=wy(r,n),r){case"dialog":tt("cancel",t),tt("close",t),i=n;break;case"iframe":case"object":case"embed":tt("load",t),i=n;break;case"video":case"audio":for(i=0;i<eu.length;i++)tt(eu[i],t);i=n;break;case"source":tt("error",t),i=n;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=n;break;case"details":tt("toggle",t),i=n;break;case"input":M_(t,n),i=hy(t,n),tt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ht({},n,{value:void 0}),tt("invalid",t);break;case"textarea":$_(t,n),i=gy(t,n),tt("invalid",t);break;default:i=n}vy(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?cO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lO(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Pu(t,l):typeof l=="number"&&Pu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Au.hasOwnProperty(a)?l!=null&&a==="onScroll"&&tt("scroll",t):l!=null&&iw(t,a,l,o))}switch(r){case"input":Of(t),R_(t,n,!1);break;case"textarea":Of(t),L_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ga(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ns(t,!!n.multiple,a,!1):n.defaultValue!=null&&ns(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nr(e),null;case 6:if(t&&e.stateNode!=null)Nk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=qa(Lu.current),qa(Wn.current),$f(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vn]=e,(a=n.nodeValue!==r)&&(t=Br,t!==null))switch(t.tag){case 3:Rf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rf(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vn]=e,e.stateNode=n}return nr(e),null;case 13:if(at(ct),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Fr!==null&&e.mode&1&&!(e.flags&128))YO(),gs(),e.flags|=98560,a=!1;else if(a=$f(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(te(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[Vn]=e}else gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nr(e),a=!1}else Sn!==null&&(Zy(Sn),Sn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Ct===0&&(Ct=3):Vw())),e.updateQueue!==null&&(e.flags|=4),nr(e),null);case 4:return vs(),Ky(t,e),t===null&&Du(e.stateNode.containerInfo),nr(e),null;case 10:return Sw(e.type._context),nr(e),null;case 17:return Or(e.type)&&Nd(),nr(e),null;case 19:if(at(ct),a=e.memoizedState,a===null)return nr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Ll(a,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vd(t),o!==null){for(e.flags|=128,Ll(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ye(ct,ct.current&1|2),e.child}t=t.sibling}a.tail!==null&&wt()>bs&&(e.flags|=128,n=!0,Ll(a,!1),e.lanes=4194304)}else{if(!n)if(t=Vd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ll(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!lt)return nr(e),null}else 2*wt()-a.renderingStartTime>bs&&r!==1073741824&&(e.flags|=128,n=!0,Ll(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=wt(),e.sibling=null,r=ct.current,Ye(ct,n?r&1|2:r&1),e):(nr(e),null);case 22:case 23:return Fw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Rr&1073741824&&(nr(e),e.subtreeFlags&6&&(e.flags|=8192)):nr(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function n$(t,e){switch(ww(e),e.tag){case 1:return Or(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vs(),at(Pr),at(fr),Ow(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pw(e),null;case 13:if(at(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ct),null;case 4:return vs(),null;case 10:return Sw(e.type._context),null;case 22:case 23:return Fw(),null;case 24:return null;default:return null}}var Vf=!1,sr=!1,i$=typeof WeakSet=="function"?WeakSet:Set,se=null;function Jo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gt(t,e,n)}else r.current=null}function qy(t,e,r){try{r()}catch(n){gt(t,e,n)}}var P1=!1;function a$(t,e){if(ky=kd,t=LO(),yw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++c===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cy={focusedElem:t,selectionRange:r},kd=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:wn(e.type,y),v);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(k){gt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return g=P1,P1=!1,g}function du(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&qy(e,r,a)}i=i.next}while(i!==n)}}function gp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Hy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Dk(t){var e=t.alternate;e!==null&&(t.alternate=null,Dk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Ru],delete e[Ny],delete e[BR],delete e[UR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mk(t){return t.tag===5||t.tag===3||t.tag===4}function O1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=jd));else if(n!==4&&(t=t.child,t!==null))for(Gy(t,e,r),t=t.sibling;t!==null;)Gy(t,e,r),t=t.sibling}function Qy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Qy(t,e,r),t=t.sibling;t!==null;)Qy(t,e,r),t=t.sibling}var Kt=null,bn=!1;function zi(t,e,r){for(r=r.child;r!==null;)Rk(t,e,r),r=r.sibling}function Rk(t,e,r){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(lp,r)}catch{}switch(r.tag){case 5:sr||Jo(r,e);case 6:var n=Kt,i=bn;Kt=null,zi(t,e,r),Kt=n,bn=i,Kt!==null&&(bn?(t=Kt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(bn?(t=Kt,r=r.stateNode,t.nodeType===8?ag(t.parentNode,r):t.nodeType===1&&ag(t,r),Iu(t)):ag(Kt,r.stateNode));break;case 4:n=Kt,i=bn,Kt=r.stateNode.containerInfo,bn=!0,zi(t,e,r),Kt=n,bn=i;break;case 0:case 11:case 14:case 15:if(!sr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&qy(r,e,o),i=i.next}while(i!==n)}zi(t,e,r);break;case 1:if(!sr&&(Jo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){gt(r,e,s)}zi(t,e,r);break;case 21:zi(t,e,r);break;case 22:r.mode&1?(sr=(n=sr)||r.memoizedState!==null,zi(t,e,r),sr=n):zi(t,e,r);break;default:zi(t,e,r)}}function k1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new i$),e.forEach(function(n){var i=p$.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function yn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Kt=s.stateNode,bn=!1;break e;case 3:Kt=s.stateNode.containerInfo,bn=!0;break e;case 4:Kt=s.stateNode.containerInfo,bn=!0;break e}s=s.return}if(Kt===null)throw Error(te(160));Rk(a,o,i),Kt=null,bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$k(e,t),e=e.sibling}function $k(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Rn(t),n&4){try{du(3,t,t.return),gp(3,t)}catch(y){gt(t,t.return,y)}try{du(5,t,t.return)}catch(y){gt(t,t.return,y)}}break;case 1:yn(e,t),Rn(t),n&512&&r!==null&&Jo(r,r.return);break;case 5:if(yn(e,t),Rn(t),n&512&&r!==null&&Jo(r,r.return),t.flags&32){var i=t.stateNode;try{Pu(i,"")}catch(y){gt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&aO(i,a),wy(s,o);var u=wy(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?cO(i,f):c==="dangerouslySetInnerHTML"?lO(i,f):c==="children"?Pu(i,f):iw(i,c,f,u)}switch(s){case"input":py(i,a);break;case"textarea":oO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ns(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ns(i,!!a.multiple,a.defaultValue,!0):ns(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ru]=a}catch(y){gt(t,t.return,y)}}break;case 6:if(yn(e,t),Rn(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){gt(t,t.return,y)}}break;case 3:if(yn(e,t),Rn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(y){gt(t,t.return,y)}break;case 4:yn(e,t),Rn(t);break;case 13:yn(e,t),Rn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($w=wt())),n&4&&k1(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(sr=(u=sr)||c,yn(e,t),sr=u):yn(e,t),Rn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(h=se,p=h.child,h.tag){case 0:case 11:case 14:case 15:du(4,h,h.return);break;case 1:Jo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){gt(n,r,y)}}break;case 5:Jo(h,h.return);break;case 22:if(h.memoizedState!==null){I1(f);continue}}p!==null?(p.return=h,se=p):I1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=uO("display",o))}catch(y){gt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){gt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(e,t),Rn(t),n&4&&k1(t);break;case 21:break;default:yn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Mk(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Pu(i,""),n.flags&=-33);var a=O1(t);Qy(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=O1(t);Gy(t,s,o);break;default:throw Error(te(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o$(t,e,r){se=t,Lk(t)}function Lk(t,e,r){for(var n=(t.mode&1)!==0;se!==null;){var i=se,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Vf;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||sr;s=Vf;var u=sr;if(Vf=o,(sr=l)&&!u)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?j1(i):l!==null?(l.return=o,se=l):j1(i);for(;a!==null;)se=a,Lk(a),a=a.sibling;se=i,Vf=s,sr=u}C1(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,se=a):C1(t)}}function C1(t){for(;se!==null;){var e=se;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sr||gp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!sr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:wn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&p1(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}p1(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Iu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}sr||e.flags&512&&Hy(e)}catch(h){gt(e,e.return,h)}}if(e===t){se=null;break}if(r=e.sibling,r!==null){r.return=e.return,se=r;break}se=e.return}}function I1(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var r=e.sibling;if(r!==null){r.return=e.return,se=r;break}se=e.return}}function j1(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{gp(4,e)}catch(l){gt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){gt(e,i,l)}}var a=e.return;try{Hy(e)}catch(l){gt(e,a,l)}break;case 5:var o=e.return;try{Hy(e)}catch(l){gt(e,o,l)}}}catch(l){gt(e,e.return,l)}if(e===t){se=null;break}var s=e.sibling;if(s!==null){s.return=e.return,se=s;break}se=e.return}}var s$=Math.ceil,zd=ji.ReactCurrentDispatcher,Mw=ji.ReactCurrentOwner,on=ji.ReactCurrentBatchConfig,Me=0,Ft=null,St=null,Qt=0,Rr=0,Zo=_a(0),Ct=0,Uu=null,oo=0,yp=0,Rw=0,hu=null,Sr=null,$w=0,bs=1/0,ui=null,Wd=!1,Xy=null,sa=null,Bf=!1,Ji=null,Kd=0,pu=0,Yy=null,gd=-1,yd=0;function vr(){return Me&6?wt():gd!==-1?gd:gd=wt()}function la(t){return t.mode&1?Me&2&&Qt!==0?Qt&-Qt:WR.transition!==null?(yd===0&&(yd=_O()),yd):(t=Be,t!==0||(t=window.event,t=t===void 0?16:kO(t.type)),t):1}function kn(t,e,r,n){if(50<pu)throw pu=0,Yy=null,Error(te(185));$c(t,r,n),(!(Me&2)||t!==Ft)&&(t===Ft&&(!(Me&2)&&(yp|=r),Ct===4&&Gi(t,Qt)),kr(t,n),r===1&&Me===0&&!(e.mode&1)&&(bs=wt()+500,hp&&Sa()))}function kr(t,e){var r=t.callbackNode;WM(t,e);var n=Od(t,t===Ft?Qt:0);if(n===0)r!==null&&B_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&B_(r),e===1)t.tag===0?zR(N1.bind(null,t)):GO(N1.bind(null,t)),FR(function(){!(Me&6)&&Sa()}),r=null;else{switch(SO(n)){case 1:r=uw;break;case 4:r=bO;break;case 16:r=Pd;break;case 536870912:r=xO;break;default:r=Pd}r=qk(r,Fk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Fk(t,e){if(gd=-1,yd=0,Me&6)throw Error(te(327));var r=t.callbackNode;if(ls()&&t.callbackNode!==r)return null;var n=Od(t,t===Ft?Qt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qd(t,n);else{e=n;var i=Me;Me|=2;var a=Bk();(Ft!==t||Qt!==e)&&(ui=null,bs=wt()+500,Ja(t,e));do try{c$();break}catch(s){Vk(t,s)}while(!0);_w(),zd.current=a,Me=i,St!==null?e=0:(Ft=null,Qt=0,e=Ct)}if(e!==0){if(e===2&&(i=Ey(t),i!==0&&(n=i,e=Jy(t,i))),e===1)throw r=Uu,Ja(t,0),Gi(t,n),kr(t,wt()),r;if(e===6)Gi(t,n);else{if(i=t.current.alternate,!(n&30)&&!l$(i)&&(e=qd(t,n),e===2&&(a=Ey(t),a!==0&&(n=a,e=Jy(t,a))),e===1))throw r=Uu,Ja(t,0),Gi(t,n),kr(t,wt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:Fa(t,Sr,ui);break;case 3:if(Gi(t,n),(n&130023424)===n&&(e=$w+500-wt(),10<e)){if(Od(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jy(Fa.bind(null,t,Sr,ui),e);break}Fa(t,Sr,ui);break;case 4:if(Gi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-On(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s$(n/1960))-n,10<n){t.timeoutHandle=jy(Fa.bind(null,t,Sr,ui),n);break}Fa(t,Sr,ui);break;case 5:Fa(t,Sr,ui);break;default:throw Error(te(329))}}}return kr(t,wt()),t.callbackNode===r?Fk.bind(null,t):null}function Jy(t,e){var r=hu;return t.current.memoizedState.isDehydrated&&(Ja(t,e).flags|=256),t=qd(t,e),t!==2&&(e=Sr,Sr=r,e!==null&&Zy(e)),t}function Zy(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function l$(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!In(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e){for(e&=~Rw,e&=~yp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-On(e),n=1<<r;t[r]=-1,e&=~n}}function N1(t){if(Me&6)throw Error(te(327));ls();var e=Od(t,0);if(!(e&1))return kr(t,wt()),null;var r=qd(t,e);if(t.tag!==0&&r===2){var n=Ey(t);n!==0&&(e=n,r=Jy(t,n))}if(r===1)throw r=Uu,Ja(t,0),Gi(t,e),kr(t,wt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fa(t,Sr,ui),kr(t,wt()),null}function Lw(t,e){var r=Me;Me|=1;try{return t(e)}finally{Me=r,Me===0&&(bs=wt()+500,hp&&Sa())}}function so(t){Ji!==null&&Ji.tag===0&&!(Me&6)&&ls();var e=Me;Me|=1;var r=on.transition,n=Be;try{if(on.transition=null,Be=1,t)return t()}finally{Be=n,on.transition=r,Me=e,!(Me&6)&&Sa()}}function Fw(){Rr=Zo.current,at(Zo)}function Ja(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,LR(r)),St!==null)for(r=St.return;r!==null;){var n=r;switch(ww(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nd();break;case 3:vs(),at(Pr),at(fr),Ow();break;case 5:Pw(n);break;case 4:vs();break;case 13:at(ct);break;case 19:at(ct);break;case 10:Sw(n.type._context);break;case 22:case 23:Fw()}r=r.return}if(Ft=t,St=t=ua(t.current,null),Qt=Rr=e,Ct=0,Uu=null,Rw=yp=oo=0,Sr=hu=null,Ka!==null){for(e=0;e<Ka.length;e++)if(r=Ka[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Ka=null}return t}function Vk(t,e){do{var r=St;try{if(_w(),hd.current=Ud,Bd){for(var n=ft.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bd=!1}if(ao=0,Lt=kt=ft=null,fu=!1,Fu=0,Mw.current=null,r===null||r.return===null){Ct=1,Uu=e,St=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=Qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=b1(o);if(p!==null){p.flags&=-257,x1(p,o,s,a,e),p.mode&1&&w1(a,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){w1(a,u,e),Vw();break e}l=Error(te(426))}}else if(lt&&s.mode&1){var v=b1(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),x1(v,o,s,a,e),bw(ws(l,s));break e}}a=l=ws(l,s),Ct!==4&&(Ct=2),hu===null?hu=[a]:hu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=Sk(a,l,e);h1(a,_);break e;case 1:s=l;var b=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(sa===null||!sa.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=Ek(a,s,e);h1(a,k);break e}}a=a.return}while(a!==null)}zk(r)}catch(T){e=T,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function Bk(){var t=zd.current;return zd.current=Ud,t===null?Ud:t}function Vw(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Ft===null||!(oo&268435455)&&!(yp&268435455)||Gi(Ft,Qt)}function qd(t,e){var r=Me;Me|=2;var n=Bk();(Ft!==t||Qt!==e)&&(ui=null,Ja(t,e));do try{u$();break}catch(i){Vk(t,i)}while(!0);if(_w(),Me=r,zd.current=n,St!==null)throw Error(te(261));return Ft=null,Qt=0,Ct}function u$(){for(;St!==null;)Uk(St)}function c$(){for(;St!==null&&!MM();)Uk(St)}function Uk(t){var e=Kk(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,e===null?zk(t):St=e,Mw.current=null}function zk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=n$(r,e),r!==null){r.flags&=32767,St=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,St=null;return}}else if(r=r$(r,e,Rr),r!==null){St=r;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Ct===0&&(Ct=5)}function Fa(t,e,r){var n=Be,i=on.transition;try{on.transition=null,Be=1,f$(t,e,r,n)}finally{on.transition=i,Be=n}return null}function f$(t,e,r,n){do ls();while(Ji!==null);if(Me&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(KM(t,a),t===Ft&&(St=Ft=null,Qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bf||(Bf=!0,qk(Pd,function(){return ls(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=on.transition,on.transition=null;var o=Be;Be=1;var s=Me;Me|=4,Mw.current=null,a$(t,r),$k(r,t),IR(Cy),kd=!!ky,Cy=ky=null,t.current=r,o$(r),RM(),Me=s,Be=o,on.transition=a}else t.current=r;if(Bf&&(Bf=!1,Ji=t,Kd=i),a=t.pendingLanes,a===0&&(sa=null),FM(r.stateNode),kr(t,wt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wd)throw Wd=!1,t=Xy,Xy=null,t;return Kd&1&&t.tag!==0&&ls(),a=t.pendingLanes,a&1?t===Yy?pu++:(pu=0,Yy=t):pu=0,Sa(),null}function ls(){if(Ji!==null){var t=SO(Kd),e=on.transition,r=Be;try{if(on.transition=null,Be=16>t?16:t,Ji===null)var n=!1;else{if(t=Ji,Ji=null,Kd=0,Me&6)throw Error(te(331));var i=Me;for(Me|=4,se=t.current;se!==null;){var a=se,o=a.child;if(se.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:du(8,c,a)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var h=c.sibling,p=c.return;if(Dk(c),c===u){se=null;break}if(h!==null){h.return=p,se=h;break}se=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,se=o;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:du(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,se=_;break e}se=a.return}}var b=t.current;for(se=b;se!==null;){o=se;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,se=E;else e:for(o=b;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:gp(9,s)}}catch(T){gt(s,s.return,T)}if(s===o){se=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,se=k;break e}se=s.return}}if(Me=i,Sa(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(lp,t)}catch{}n=!0}return n}finally{Be=r,on.transition=e}}return!1}function D1(t,e,r){e=ws(r,e),e=Sk(t,e,1),t=oa(t,e,1),e=vr(),t!==null&&($c(t,1,e),kr(t,e))}function gt(t,e,r){if(t.tag===3)D1(t,t,r);else for(;e!==null;){if(e.tag===3){D1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sa===null||!sa.has(n))){t=ws(r,t),t=Ek(e,t,1),e=oa(e,t,1),t=vr(),e!==null&&($c(e,1,t),kr(e,t));break}}e=e.return}}function d$(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=vr(),t.pingedLanes|=t.suspendedLanes&r,Ft===t&&(Qt&r)===r&&(Ct===4||Ct===3&&(Qt&130023424)===Qt&&500>wt()-$w?Ja(t,0):Rw|=r),kr(t,e)}function Wk(t,e){e===0&&(t.mode&1?(e=If,If<<=1,!(If&130023424)&&(If=4194304)):e=1);var r=vr();t=Si(t,e),t!==null&&($c(t,e,r),kr(t,r))}function h$(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Wk(t,r)}function p$(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),Wk(t,r)}var Kk;Kk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)Tr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Tr=!1,t$(t,e,r);Tr=!!(t.flags&131072)}else Tr=!1,lt&&e.flags&1048576&&QO(e,Rd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;md(t,e),t=e.pendingProps;var i=ms(e,fr.current);ss(e,r),i=Cw(null,e,n,t,i,r);var a=Iw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(n)?(a=!0,Dd(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tw(e),i.updater=mp,e.stateNode=i,i._reactInternals=e,Fy(e,n,t,r),e=Uy(null,e,n,!0,a,r)):(e.tag=0,lt&&a&&vw(e),mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(md(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=g$(n),t=wn(n,t),i){case 0:e=By(null,e,n,t,r);break e;case 1:e=E1(null,e,n,t,r);break e;case 11:e=_1(null,e,n,t,r);break e;case 14:e=S1(null,e,n,wn(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),By(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),E1(t,e,n,i,r);case 3:e:{if(Ok(e),t===null)throw Error(te(387));n=e.pendingProps,a=e.memoizedState,i=a.element,tk(t,e),Fd(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ws(Error(te(423)),e),e=T1(t,e,n,r,i);break e}else if(n!==i){i=ws(Error(te(424)),e),e=T1(t,e,n,r,i);break e}else for(Fr=aa(e.stateNode.containerInfo.firstChild),Br=e,lt=!0,Sn=null,r=ZO(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gs(),n===i){e=Ei(t,e,r);break e}mr(t,e,n,r)}e=e.child}return e;case 5:return rk(e),t===null&&Ry(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Iy(n,i)?o=null:a!==null&&Iy(n,a)&&(e.flags|=32),Pk(t,e),mr(t,e,o,r),e.child;case 6:return t===null&&Ry(e),null;case 13:return kk(t,e,r);case 4:return Aw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ys(e,null,n,r):mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),_1(t,e,n,i,r);case 7:return mr(t,e,e.pendingProps,r),e.child;case 8:return mr(t,e,e.pendingProps.children,r),e.child;case 12:return mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ye($d,n._currentValue),n._currentValue=o,a!==null)if(In(a.value,o)){if(a.children===i.children&&!Pr.current){e=Ei(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=gi(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),$y(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(te(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),$y(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ss(e,r),i=un(i),n=n(i),e.flags|=1,mr(t,e,n,r),e.child;case 14:return n=e.type,i=wn(n,e.pendingProps),i=wn(n.type,i),S1(t,e,n,i,r);case 15:return Tk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),md(t,e),e.tag=1,Or(n)?(t=!0,Dd(e)):t=!1,ss(e,r),_k(e,n,i),Fy(e,n,i,r),Uy(null,e,n,!0,t,r);case 19:return Ck(t,e,r);case 22:return Ak(t,e,r)}throw Error(te(156,e.tag))};function qk(t,e){return wO(t,e)}function m$(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,r,n){return new m$(t,e,r,n)}function Bw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function g$(t){if(typeof t=="function")return Bw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ow)return 11;if(t===sw)return 14}return 2}function ua(t,e){var r=t.alternate;return r===null?(r=nn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function vd(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Bw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zo:return Za(r.children,i,a,e);case aw:o=8,i|=8;break;case uy:return t=nn(12,r,e,i|2),t.elementType=uy,t.lanes=a,t;case cy:return t=nn(13,r,e,i),t.elementType=cy,t.lanes=a,t;case fy:return t=nn(19,r,e,i),t.elementType=fy,t.lanes=a,t;case rO:return vp(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eO:o=10;break e;case tO:o=9;break e;case ow:o=11;break e;case sw:o=14;break e;case Wi:o=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=nn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Za(t,e,r,n){return t=nn(7,t,n,e),t.lanes=r,t}function vp(t,e,r,n){return t=nn(22,t,n,e),t.elementType=rO,t.lanes=r,t.stateNode={isHidden:!1},t}function hg(t,e,r){return t=nn(6,t,null,e),t.lanes=r,t}function pg(t,e,r){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function y$(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uw(t,e,r,n,i,a,o,s,l){return t=new y$(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=nn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tw(a),t}function v$(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Hk(t){if(!t)return ya;t=t._reactInternals;e:{if(wo(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(Or(r))return HO(t,r,e)}return e}function Gk(t,e,r,n,i,a,o,s,l){return t=Uw(r,n,!0,t,i,a,o,s,l),t.context=Hk(null),r=t.current,n=vr(),i=la(r),a=gi(n,i),a.callback=e??null,oa(r,a,i),t.current.lanes=i,$c(t,i,n),kr(t,n),t}function wp(t,e,r,n){var i=e.current,a=vr(),o=la(i);return r=Hk(r),e.context===null?e.context=r:e.pendingContext=r,e=gi(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=oa(i,e,o),t!==null&&(kn(t,i,o,a),dd(t,i,o)),o}function Hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zw(t,e){M1(t,e),(t=t.alternate)&&M1(t,e)}function w$(){return null}var Qk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ww(t){this._internalRoot=t}bp.prototype.render=Ww.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));wp(t,e,null,null)};bp.prototype.unmount=Ww.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;so(function(){wp(null,t,null,null)}),e[_i]=null}};function bp(t){this._internalRoot=t}bp.prototype.unstable_scheduleHydration=function(t){if(t){var e=AO();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Hi.length&&e!==0&&e<Hi[r].priority;r++);Hi.splice(r,0,t),r===0&&OO(t)}};function Kw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R1(){}function b$(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Hd(o);a.call(u)}}var o=Gk(e,n,t,0,null,!1,!1,"",R1);return t._reactRootContainer=o,t[_i]=o.current,Du(t.nodeType===8?t.parentNode:t),so(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Hd(l);s.call(u)}}var l=Uw(t,0,!1,null,null,!1,!1,"",R1);return t._reactRootContainer=l,t[_i]=l.current,Du(t.nodeType===8?t.parentNode:t),so(function(){wp(e,l,r,n)}),l}function _p(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Hd(o);s.call(l)}}wp(e,o,t,i)}else o=b$(r,e,t,i,n);return Hd(o)}EO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Zl(e.pendingLanes);r!==0&&(cw(e,r|1),kr(e,wt()),!(Me&6)&&(bs=wt()+500,Sa()))}break;case 13:so(function(){var n=Si(t,1);if(n!==null){var i=vr();kn(n,t,1,i)}}),zw(t,1)}};fw=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var r=vr();kn(e,t,134217728,r)}zw(t,134217728)}};TO=function(t){if(t.tag===13){var e=la(t),r=Si(t,e);if(r!==null){var n=vr();kn(r,t,e,n)}zw(t,e)}};AO=function(){return Be};PO=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};xy=function(t,e,r){switch(e){case"input":if(py(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=dp(n);if(!i)throw Error(te(90));iO(n),py(n,i)}}}break;case"textarea":oO(t,r);break;case"select":e=r.value,e!=null&&ns(t,!!r.multiple,e,!1)}};hO=Lw;pO=so;var x$={usingClientEntryPoint:!1,Events:[Fc,Ho,dp,fO,dO,Lw]},Fl={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_$={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yO(t),t===null?null:t.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||w$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{lp=Uf.inject(_$),zn=Uf}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x$;Wr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kw(e))throw Error(te(200));return v$(t,e,null,r)};Wr.createRoot=function(t,e){if(!Kw(t))throw Error(te(299));var r=!1,n="",i=Qk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uw(t,1,!1,null,null,r,!1,n,i),t[_i]=e.current,Du(t.nodeType===8?t.parentNode:t),new Ww(e)};Wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=yO(e),t=t===null?null:t.stateNode,t};Wr.flushSync=function(t){return so(t)};Wr.hydrate=function(t,e,r){if(!xp(e))throw Error(te(200));return _p(null,t,e,!0,r)};Wr.hydrateRoot=function(t,e,r){if(!Kw(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Qk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Gk(e,null,t,1,r??null,i,!1,a,o),t[_i]=e.current,Du(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new bp(e)};Wr.render=function(t,e,r){if(!xp(e))throw Error(te(200));return _p(null,t,e,!1,r)};Wr.unmountComponentAtNode=function(t){if(!xp(t))throw Error(te(40));return t._reactRootContainer?(so(function(){_p(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};Wr.unstable_batchedUpdates=Lw;Wr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!xp(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return _p(t,e,r,!1,n)};Wr.version="18.3.1-next-f1338f8080-20240426";function Xk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xk)}catch(t){console.error(t)}}Xk(),XP.exports=Wr;var S$=XP.exports,$1=S$;sy.createRoot=$1.createRoot,sy.hydrateRoot=$1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}var Zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zi||(Zi={}));const L1="popstate";function E$(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=bo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ev("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:Gd(a))}function n(i,a){qw(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return A$(e,r,n,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T$(){return Math.random().toString(36).substr(2,8)}function F1(t,e){return{usr:t.state,key:t.key,idx:e}}function ev(t,e,r,n){return r===void 0&&(r=null),zu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:r,key:e&&e.key||n||T$()})}function Gd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function A$(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Zi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(zu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=Zi.Pop;let v=c(),_=v==null?null:v-u;u=v,l&&l({action:s,location:y.location,delta:_})}function h(v,_){s=Zi.Push;let b=ev(y.location,v,_);r&&r(b,v),u=c()+1;let E=F1(b,u),k=y.createHref(b);try{o.pushState(E,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(k)}a&&l&&l({action:s,location:y.location,delta:1})}function p(v,_){s=Zi.Replace;let b=ev(y.location,v,_);r&&r(b,v),u=c();let E=F1(b,u),k=y.createHref(b);o.replaceState(E,"",k),a&&l&&l({action:s,location:y.location,delta:0})}function g(v){let _=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Gd(v);return b=b.replace(/ $/,"%20"),dt(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let y={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(L1,f),l=v,()=>{i.removeEventListener(L1,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let _=g(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var V1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(V1||(V1={}));function P$(t,e,r){return r===void 0&&(r="/"),O$(t,e,r)}function O$(t,e,r,n){let i=typeof e=="string"?bo(e):e,a=xs(i.pathname||"/",r);if(a==null)return null;let o=Yk(t);k$(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=V$(a);s=L$(o[l],u)}return s}function Yk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(dt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ca([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(dt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Yk(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:R$(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of Jk(a.path))i(a,o,l)}),e}function Jk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Jk(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function k$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:$$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const C$=/^:[\w-]+$/,I$=3,j$=2,N$=1,D$=10,M$=-2,B1=t=>t==="*";function R$(t,e){let r=t.split("/"),n=r.length;return r.some(B1)&&(n+=M$),e&&(n+=j$),r.filter(i=>!B1(i)).reduce((i,a)=>i+(C$.test(a)?I$:a===""?N$:D$),n)}function $$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function L$(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=tv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ca([a,f.pathname]),pathnameBase:W$(ca([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ca([a,f.pathnameBase]))}return o}function tv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=F$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let y=s[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function F$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),qw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function V$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function B$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?bo(t):t;return{pathname:r?r.startsWith("/")?r:U$(r,e):e,search:K$(n),hash:q$(i)}}function U$(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function mg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Hw(t,e){let r=z$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Gw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=bo(t):(i=zu({},t),dt(!i.pathname||!i.pathname.includes("?"),mg("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),mg("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),mg("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=B$(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ca=t=>t.join("/").replace(/\/\/+/g,"/"),W$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Zk=["post","put","patch","delete"];new Set(Zk);const G$=["get",...Zk];new Set(G$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wu.apply(this,arguments)}const Sp=D.createContext(null),eC=D.createContext(null),Ni=D.createContext(null),Ep=D.createContext(null),Zn=D.createContext({outlet:null,matches:[],isDataRoute:!1}),tC=D.createContext(null);function Q$(t,e){let{relative:r}=e===void 0?{}:e;rl()||dt(!1);let{basename:n,navigator:i}=D.useContext(Ni),{hash:a,pathname:o,search:s}=Tp(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:ca([n,o])),i.createHref({pathname:l,search:s,hash:a})}function rl(){return D.useContext(Ep)!=null}function xo(){return rl()||dt(!1),D.useContext(Ep).location}function rC(t){D.useContext(Ni).static||D.useLayoutEffect(t)}function Bc(){let{isDataRoute:t}=D.useContext(Zn);return t?c4():X$()}function X$(){rl()||dt(!1);let t=D.useContext(Sp),{basename:e,future:r,navigator:n}=D.useContext(Ni),{matches:i}=D.useContext(Zn),{pathname:a}=xo(),o=JSON.stringify(Hw(i,r.v7_relativeSplatPath)),s=D.useRef(!1);return rC(()=>{s.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=Gw(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ca([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,o,a,t])}const Y$=D.createContext(null);function J$(t){let e=D.useContext(Zn).outlet;return e&&D.createElement(Y$.Provider,{value:t},e)}function nC(){let{matches:t}=D.useContext(Zn),e=t[t.length-1];return e?e.params:{}}function Tp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(Ni),{matches:i}=D.useContext(Zn),{pathname:a}=xo(),o=JSON.stringify(Hw(i,n.v7_relativeSplatPath));return D.useMemo(()=>Gw(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Z$(t,e){return e4(t,e)}function e4(t,e,r,n){rl()||dt(!1);let{navigator:i}=D.useContext(Ni),{matches:a}=D.useContext(Zn),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=xo(),c;if(e){var f;let v=typeof e=="string"?bo(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||dt(!1),c=v}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=P$(t,{pathname:p}),y=a4(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ca([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ca([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&y?D.createElement(Ep.Provider,{value:{location:Wu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Zi.Pop}},y):y}function t4(){let t=u4(),e=H$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const r4=D.createElement(t4,null);class n4 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(Zn.Provider,{value:this.props.routeContext},D.createElement(tC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i4(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(Sp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(Zn.Provider,{value:e},n)}function a4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||dt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,h)=>{let p,g=!1,y=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||r4,l&&(u<0&&h===0?(f4("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),b=()=>{let E;return p?E=y:g?E=v:f.route.Component?E=D.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,D.createElement(i4,{match:f,routeContext:{outlet:c,matches:_,isDataRoute:r!=null},children:E})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(n4,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var iC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iC||{}),aC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(aC||{});function o4(t){let e=D.useContext(Sp);return e||dt(!1),e}function s4(t){let e=D.useContext(eC);return e||dt(!1),e}function l4(t){let e=D.useContext(Zn);return e||dt(!1),e}function oC(t){let e=l4(),r=e.matches[e.matches.length-1];return r.route.id||dt(!1),r.route.id}function u4(){var t;let e=D.useContext(tC),r=s4(),n=oC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function c4(){let{router:t}=o4(iC.UseNavigateStable),e=oC(aC.UseNavigateStable),r=D.useRef(!1);return rC(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wu({fromRouteId:e},a)))},[t,e])}const U1={};function f4(t,e,r){U1[t]||(U1[t]=!0)}function d4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ku(t){let{to:e,replace:r,state:n,relative:i}=t;rl()||dt(!1);let{future:a,static:o}=D.useContext(Ni),{matches:s}=D.useContext(Zn),{pathname:l}=xo(),u=Bc(),c=Gw(e,Hw(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return D.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function h4(t){return J$(t.context)}function pr(t){dt(!1)}function p4(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zi.Pop,navigator:a,static:o=!1,future:s}=t;rl()&&dt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:a,static:o,future:Wu({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=bo(n));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,y=D.useMemo(()=>{let v=xs(c,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:i}},[l,c,f,h,p,g,i]);return y==null?null:D.createElement(Ni.Provider,{value:u},D.createElement(Ep.Provider,{children:r,value:y}))}function m4(t){let{children:e,location:r}=t;return Z$(rv(e),r)}new Promise(()=>{});function rv(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,rv(n.props.children,a));return}n.type!==pr&&dt(!1),!n.props.index||!n.props.children||dt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=rv(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qd.apply(this,arguments)}function sC(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function g4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y4(t,e){return t.button===0&&(!e||e==="_self")&&!g4(t)}const v4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],w4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],b4="6";try{window.__reactRouterVersion=b4}catch{}const x4=D.createContext({isTransitioning:!1}),_4="startTransition",z1=dM[_4];function S4(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=E$({window:i,v5Compat:!0}));let o=a.current,[s,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=D.useCallback(f=>{u&&z1?z1(()=>l(f)):l(f)},[l,u]);return D.useLayoutEffect(()=>o.listen(c),[o,c]),D.useEffect(()=>d4(n),[n]),D.createElement(p4,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const E4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=sC(e,v4),{basename:p}=D.useContext(Ni),g,y=!1;if(typeof u=="string"&&T4.test(u)&&(g=u,E4))try{let E=new URL(window.location.href),k=u.startsWith("//")?new URL(E.protocol+u):new URL(u),T=xs(k.pathname,p);k.origin===E.origin&&T!=null?u=T+k.search+k.hash:y=!0}catch{}let v=Q$(u,{relative:i}),_=O4(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function b(E){n&&n(E),E.defaultPrevented||_(E)}return D.createElement("a",Qd({},h,{href:g||v,onClick:y||a?n:b,ref:r,target:l}))}),A4=D.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,viewTransition:u,children:c}=e,f=sC(e,w4),h=Tp(l,{relative:f.relative}),p=xo(),g=D.useContext(eC),{navigator:y,basename:v}=D.useContext(Ni),_=g!=null&&k4(h)&&u===!0,b=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,E=p.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(E=E.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase()),k&&v&&(k=xs(k,v)||k);const T=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=E===b||!o&&E.startsWith(b)&&E.charAt(T)==="/",S=k!=null&&(k===b||!o&&k.startsWith(b)&&k.charAt(b.length)==="/"),x={isActive:P,isPending:S,isTransitioning:_},O=P?n:void 0,j;typeof a=="function"?j=a(x):j=[a,P?"active":null,S?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(x):s;return D.createElement(_s,Qd({},f,{"aria-current":O,className:j,ref:r,style:C,to:l,viewTransition:u}),typeof c=="function"?c(x):c)});var nv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nv||(nv={}));var W1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(W1||(W1={}));function P4(t){let e=D.useContext(Sp);return e||dt(!1),e}function O4(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=Bc(),u=xo(),c=Tp(t,{relative:o});return D.useCallback(f=>{if(y4(f,r)){f.preventDefault();let h=n!==void 0?n:Gd(u)===Gd(c);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,n,i,r,t,a,o,s])}function k4(t,e){e===void 0&&(e={});let r=D.useContext(x4);r==null&&dt(!1);let{basename:n}=P4(nv.useViewTransitionState),i=Tp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=xs(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=xs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return tv(i.pathname,o)!=null||tv(i.pathname,a)!=null}var J=(t=>(t.Owner="Owner",t.Supervisor="Supervisor",t.TeamLeader="Team Leader",t.Assistant="Assistant",t.Agent="Agent",t))(J||{}),de=(t=>(t.CQ="CQ",t.DQ="DQ",t.CDQ="CDCDQ",t.Dispatch="Dispatch",t.Tickets="Tickets",t.VOP="VOP",t.Approve="Approve",t.Missing="Missing",t.SocialMedia="Social Media",t["3PL"]="3PL",t))(de||{});const Qw=t=>{if(!t||typeof t!="string")return 0;const e=t.split(":").map(Number);return e.length!==3||e.some(isNaN)?0:e[0]*3600+e[1]*60+e[2]},Yr=t=>{if(t<=0)return{};const e={};for(let r=1;r<=100;r++)e[Math.round(r*t)]=r;return e},lC=(t,e)=>{const r=Object.keys(e).map(Number).sort((i,a)=>i-a);let n=0;for(const i of r)if(t>=i)n=i;else break;return e[n]||0},Xw={4:{login:{map:Yr(144)},onQueue:{map:Yr(126)},target:{baseline:{[de.VOP]:100,[de.Tickets]:80,[de.Dispatch]:68}}},5:{login:{map:Yr(180)},onQueue:{map:Yr(162)},target:{baseline:{[de.VOP]:125,[de.Tickets]:100,[de.Dispatch]:85}}},6:{login:{map:Yr(216)},onQueue:{map:Yr(180)},target:{baseline:{[de.VOP]:150,[de.Tickets]:120,[de.Dispatch]:102}}},7:{login:{map:Yr(252)},onQueue:{map:Yr(216)},target:{baseline:{[de.VOP]:175,[de.Tickets]:140,[de.Dispatch]:119}}},8:{login:{map:Yr(288)},onQueue:{map:Yr(234)},target:{baseline:{[de.VOP]:200,[de.Tickets]:160,[de.Dispatch]:136}}},9:{login:{map:Yr(324)},onQueue:{map:Yr(270)},target:{baseline:{[de.VOP]:225,[de.Tickets]:180,[de.Dispatch]:153}}}},C4={0:0,1:20,2:40,3:60,4:80,5:100},I4={6:1,7:2,8:3,9:4,10:5},j4=(t,e)=>(C4[t]??0)*e,N4=(t,e,r)=>{var o;const n=(o=Xw[e])==null?void 0:o.login;if(!n)return 0;const i=Qw(t);return lC(i,n.map)*r},D4=(t,e,r)=>{var o;const n=(o=Xw[e])==null?void 0:o.onQueue;if(!n)return 0;const i=Qw(t);return lC(i,n.map)*r},M4=(t,e,r,n)=>{var s;if(typeof t!="number")return 0;const i=(s=Xw[r])==null?void 0:s.target,a=i==null?void 0:i.baseline[e];return typeof a!="number"||a===0||!i?0:t/a*100*n},R4=(t,e)=>{if(!t)return 0;const r=Qw(t),n=e*100;if(r<=90)return n;const a=(r-90)/2*.25;return Math.max(0,n-a)},$4=(t,e)=>{const r=e*100;if(t<6)return r;const n=I4[Math.floor(t)]??r;return Math.max(0,r-n)},L4=(t,e)=>typeof t!="number"?0:t/100*(e*100),F4=(t,e)=>{const r=e*100;if(typeof t!="number")return r;const n=Math.min(t,r);return r-n},V4=(t,e)=>{const r=e*100;if(typeof t!="number")return r;const n=Math.min(t,r);return r-n},B4=(t,e)=>{const r=e*100;if(typeof t!="number")return r;const n=Math.min(t,r);return r-n},U4=(t,e)=>{const r={},n={"Attendance %":(c,f)=>j4(c.Attendance,f),"login %":(c,f)=>N4(c.login,c["Duty Hours"],f),"On Queue %":(c,f)=>D4(c["On Queue"]??"",c["Duty Hours"],f),"Target %":(c,f)=>M4(c.Target,c.Task,c["Duty Hours"],f),"Avg Talk %":(c,f)=>R4(c["Avg Talk"],f),"ASA %":(c,f)=>$4(c.ASA??0,f),"DS Productivity %":(c,f)=>V4(c["DS Productivity"],f),"AMS Productivity %":(c,f)=>F4(c["AMS Productivity"],f),"Productivity %":(c,f)=>L4(c.Productivity,f),"Mistakes %":(c,f)=>B4(c.Mistakes,f)};for(const c of e){if(c.isCustom||!c.calculationSource)continue;const f=c.weight/100,h=n[c.calculationSource];if(h){const p=t.Task,g=c.calculationSource;let y=!1;[de.CQ,de.DQ,de.CDQ].includes(p)?["On Queue %","Avg Talk %","ASA %","Attendance %","login %","Mistakes %"].includes(g)&&(y=!0):[de.Dispatch,de.Tickets,de.VOP].includes(p)?["Target %","DS Productivity %","Attendance %","login %","Mistakes %"].includes(g)&&(y=!0):[de.Approve,de.Missing].includes(p)?["AMS Productivity %","Attendance %","login %","Mistakes %"].includes(g)&&(y=!0):p===de.SocialMedia?["AMS Productivity %","ASA %","Attendance %","login %","Mistakes %"].includes(g)&&(y=!0):["Productivity %","Target %","Attendance %","login %","Mistakes %"].includes(g)&&(y=!0),r[c.key]=y?h(t,f):0}}const i=e.find(c=>c.calculationSource==="Bonus %");i&&(r[i.key]=t.Bonus??0);const a=e.find(c=>c.calculationSource==="QA %");a&&(r[a.key]=t["QA %"]??0);const o=e.find(c=>c.calculationSource==="PK %");o&&(r[o.key]=t["PK %"]??0),e.filter(c=>c.isCustom).forEach(c=>{r[c.key]=Number(t[c.key]||0)});const l=Object.entries(r).reduce((c,[f,h])=>{const p=e.find(g=>g.key===f);return p&&(p.calculationSource==="Bonus %"||p.calculationSource==="QA %"||p.calculationSource==="PK %"||p.isCustom)?c:c+(Number(h)||0)},0)+(a&&r[a.key]||0)+(o&&r[o.key]||0)+(i&&r[i.key]||0)+e.filter(c=>c.isCustom).reduce((c,f)=>c+(r[f.key]||0),0);return{...t,"Attendance %":0,"login %":0,"On Queue %":0,"Target %":0,"Avg Talk %":0,"ASA %":0,"Productivity %":0,"DS Productivity %":0,"AMS Productivity %":0,"Mistakes %":0,"Bonus %":0,"Team %":0,...r,"Overall %":l>0?parseFloat(l.toFixed(2)):0}},z4=[de.CQ,de.DQ,de.CDQ,de.Dispatch,de.Tickets,de.VOP,de.Approve,de.Missing,de.SocialMedia,de["3PL"]];var K1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},W4=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},cC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),n.push(r[c],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new K4;const h=a<<2|s>>4;if(n.push(h),u!==64){const p=s<<4&240|u>>2;if(n.push(p),f!==64){const g=u<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class K4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q4=function(t){const e=uC(t);return cC.encodeByteArray(e,!0)},Xd=function(t){return q4(t).replace(/\./g,"")},H4=function(t){try{return cC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=()=>G4().__FIREBASE_DEFAULTS__,X4=()=>{if(typeof process>"u"||typeof K1>"u")return;const t=K1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H4(t[1]);return e&&JSON.parse(e)},Yw=()=>{try{return Q4()||X4()||Y4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J4=t=>{var e,r;return(r=(e=Yw())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Z4=t=>{const e=J4(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},fC=()=>{var t;return(t=Yw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xd(JSON.stringify(r)),Xd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nL(){var t;const e=(t=Yw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iL(){return!nL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aL(){try{return typeof indexedDB=="object"}catch{return!1}}function oL(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="FirebaseError";class nl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=sL,Object.setPrototypeOf(this,nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dC.prototype.create)}}class dC{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?lL(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new nl(i,s,n)}}function lL(t,e){return t.replace(uL,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const uL=/\{\$([^}]+)}/g;function iv(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(q1(a)&&q1(o)){if(!iv(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function q1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t&&t._delegate?t._delegate:t}class qu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new eL;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dL(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:fL(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fL(t){return t===Va?void 0:t}function dL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new cL(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const pL={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},mL=De.INFO,gL={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},yL=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=gL[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hC{constructor(e){this.name=e,this._logLevel=mL,this._logHandler=yL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const vL=(t,e)=>e.some(r=>t instanceof r);let H1,G1;function wL(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bL(){return G1||(G1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pC=new WeakMap,av=new WeakMap,mC=new WeakMap,gg=new WeakMap,Jw=new WeakMap;function xL(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(fa(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&pC.set(r,t)}).catch(()=>{}),Jw.set(e,t),e}function _L(t){if(av.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});av.set(t,e)}let ov={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return av.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mC.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SL(t){ov=t(ov)}function EL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(yg(this),e,...r);return mC.set(n,e.sort?e.sort():[e]),fa(n)}:bL().includes(t)?function(...e){return t.apply(yg(this),e),fa(pC.get(this))}:function(...e){return fa(t.apply(yg(this),e))}}function TL(t){return typeof t=="function"?EL(t):(t instanceof IDBTransaction&&_L(t),vL(t,wL())?new Proxy(t,ov):t)}function fa(t){if(t instanceof IDBRequest)return xL(t);if(gg.has(t))return gg.get(t);const e=TL(t);return e!==t&&(gg.set(t,e),Jw.set(e,t)),e}const yg=t=>Jw.get(t);function AL(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=fa(o);return n&&o.addEventListener("upgradeneeded",l=>{n(fa(o.result),l.oldVersion,l.newVersion,fa(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const PL=["get","getKey","getAll","getAllKeys","count"],OL=["put","add","delete","clear"],vg=new Map;function Q1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=OL.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||PL.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return vg.set(e,a),a}SL(t=>({...t,get:(e,r,n)=>Q1(e,r)||t.get(e,r,n),has:(e,r)=>!!Q1(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(CL(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function CL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sv="@firebase/app",X1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new hC("@firebase/app"),IL="@firebase/app-compat",jL="@firebase/analytics-compat",NL="@firebase/analytics",DL="@firebase/app-check-compat",ML="@firebase/app-check",RL="@firebase/auth",$L="@firebase/auth-compat",LL="@firebase/database",FL="@firebase/data-connect",VL="@firebase/database-compat",BL="@firebase/functions",UL="@firebase/functions-compat",zL="@firebase/installations",WL="@firebase/installations-compat",KL="@firebase/messaging",qL="@firebase/messaging-compat",HL="@firebase/performance",GL="@firebase/performance-compat",QL="@firebase/remote-config",XL="@firebase/remote-config-compat",YL="@firebase/storage",JL="@firebase/storage-compat",ZL="@firebase/firestore",e3="@firebase/vertexai-preview",t3="@firebase/firestore-compat",r3="firebase",n3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",i3={[sv]:"fire-core",[IL]:"fire-core-compat",[NL]:"fire-analytics",[jL]:"fire-analytics-compat",[ML]:"fire-app-check",[DL]:"fire-app-check-compat",[RL]:"fire-auth",[$L]:"fire-auth-compat",[LL]:"fire-rtdb",[FL]:"fire-data-connect",[VL]:"fire-rtdb-compat",[BL]:"fire-fn",[UL]:"fire-fn-compat",[zL]:"fire-iid",[WL]:"fire-iid-compat",[KL]:"fire-fcm",[qL]:"fire-fcm-compat",[HL]:"fire-perf",[GL]:"fire-perf-compat",[QL]:"fire-rc",[XL]:"fire-rc-compat",[YL]:"fire-gcs",[JL]:"fire-gcs-compat",[ZL]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[r3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,a3=new Map,uv=new Map;function Y1(t,e){try{t.container.addComponent(e)}catch(r){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Jd(t){const e=t.name;if(uv.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,t);for(const r of Yd.values())Y1(r,t);for(const r of a3.values())Y1(r,t);return!0}function o3(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new dC("app","Firebase",s3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new qu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=n3;function gC(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:lv,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw da.create("bad-app-name",{appName:String(i)});if(r||(r=fC()),!r)throw da.create("no-options");const a=Yd.get(i);if(a){if(iv(r,a.options)&&iv(n,a.config))return a;throw da.create("duplicate-app",{appName:i})}const o=new hL(i);for(const l of uv.values())o.addComponent(l);const s=new l3(r,n,o);return Yd.set(i,s),s}function c3(t=lv){const e=Yd.get(t);if(!e&&t===lv&&fC())return gC();if(!e)throw da.create("no-app",{appName:t});return e}function us(t,e,r){var n;let i=(n=i3[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(s.join(" "));return}Jd(new qu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="firebase-heartbeat-database",d3=1,Hu="firebase-heartbeat-store";let wg=null;function yC(){return wg||(wg=AL(f3,d3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(r){console.warn(r)}}}}).catch(t=>{throw da.create("idb-open",{originalErrorMessage:t.message})})),wg}async function h3(t){try{const r=(await yC()).transaction(Hu),n=await r.objectStore(Hu).get(vC(t));return await r.done,n}catch(e){if(e instanceof nl)Ti.warn(e.message);else{const r=da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(r.message)}}}async function J1(t,e){try{const n=(await yC()).transaction(Hu,"readwrite");await n.objectStore(Hu).put(e,vC(t)),await n.done}catch(r){if(r instanceof nl)Ti.warn(r.message);else{const n=da.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ti.warn(n.message)}}}function vC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=1024,m3=30*24*60*60*1e3;class g3{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new v3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=m3}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ti.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Z1(),{heartbeatsToSend:n,unsentEntries:i}=y3(this._heartbeatsCache.heartbeats),a=Xd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ti.warn(r),""}}}function Z1(){return new Date().toISOString().substring(0,10)}function y3(t,e=p3){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),eS(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),eS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class v3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aL()?oL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await h3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return J1(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return J1(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eS(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){Jd(new qu("platform-logger",e=>new kL(e),"PRIVATE")),Jd(new qu("heartbeat",e=>new g3(e),"PRIVATE")),us(sv,X1,t),us(sv,X1,"esm2017"),us("fire-js","")}w3("");var b3="firebase",x3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(b3,x3,"app");var tS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,wC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function O(){}O.prototype=x.prototype,S.D=x.prototype,S.prototype=new O,S.prototype.constructor=S,S.C=function(j,C,N){for(var I=Array(arguments.length-2),z=2;z<arguments.length;z++)I[z-2]=arguments[z];return x.prototype[C].apply(j,I)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,x,O){O||(O=0);var j=Array(16);if(typeof x=="string")for(var C=0;16>C;++C)j[C]=x.charCodeAt(O++)|x.charCodeAt(O++)<<8|x.charCodeAt(O++)<<16|x.charCodeAt(O++)<<24;else for(C=0;16>C;++C)j[C]=x[O++]|x[O++]<<8|x[O++]<<16|x[O++]<<24;x=S.g[0],O=S.g[1],C=S.g[2];var N=S.g[3],I=x+(N^O&(C^N))+j[0]+3614090360&4294967295;x=O+(I<<7&4294967295|I>>>25),I=N+(C^x&(O^C))+j[1]+3905402710&4294967295,N=x+(I<<12&4294967295|I>>>20),I=C+(O^N&(x^O))+j[2]+606105819&4294967295,C=N+(I<<17&4294967295|I>>>15),I=O+(x^C&(N^x))+j[3]+3250441966&4294967295,O=C+(I<<22&4294967295|I>>>10),I=x+(N^O&(C^N))+j[4]+4118548399&4294967295,x=O+(I<<7&4294967295|I>>>25),I=N+(C^x&(O^C))+j[5]+1200080426&4294967295,N=x+(I<<12&4294967295|I>>>20),I=C+(O^N&(x^O))+j[6]+2821735955&4294967295,C=N+(I<<17&4294967295|I>>>15),I=O+(x^C&(N^x))+j[7]+4249261313&4294967295,O=C+(I<<22&4294967295|I>>>10),I=x+(N^O&(C^N))+j[8]+1770035416&4294967295,x=O+(I<<7&4294967295|I>>>25),I=N+(C^x&(O^C))+j[9]+2336552879&4294967295,N=x+(I<<12&4294967295|I>>>20),I=C+(O^N&(x^O))+j[10]+4294925233&4294967295,C=N+(I<<17&4294967295|I>>>15),I=O+(x^C&(N^x))+j[11]+2304563134&4294967295,O=C+(I<<22&4294967295|I>>>10),I=x+(N^O&(C^N))+j[12]+1804603682&4294967295,x=O+(I<<7&4294967295|I>>>25),I=N+(C^x&(O^C))+j[13]+4254626195&4294967295,N=x+(I<<12&4294967295|I>>>20),I=C+(O^N&(x^O))+j[14]+2792965006&4294967295,C=N+(I<<17&4294967295|I>>>15),I=O+(x^C&(N^x))+j[15]+1236535329&4294967295,O=C+(I<<22&4294967295|I>>>10),I=x+(C^N&(O^C))+j[1]+4129170786&4294967295,x=O+(I<<5&4294967295|I>>>27),I=N+(O^C&(x^O))+j[6]+3225465664&4294967295,N=x+(I<<9&4294967295|I>>>23),I=C+(x^O&(N^x))+j[11]+643717713&4294967295,C=N+(I<<14&4294967295|I>>>18),I=O+(N^x&(C^N))+j[0]+3921069994&4294967295,O=C+(I<<20&4294967295|I>>>12),I=x+(C^N&(O^C))+j[5]+3593408605&4294967295,x=O+(I<<5&4294967295|I>>>27),I=N+(O^C&(x^O))+j[10]+38016083&4294967295,N=x+(I<<9&4294967295|I>>>23),I=C+(x^O&(N^x))+j[15]+3634488961&4294967295,C=N+(I<<14&4294967295|I>>>18),I=O+(N^x&(C^N))+j[4]+3889429448&4294967295,O=C+(I<<20&4294967295|I>>>12),I=x+(C^N&(O^C))+j[9]+568446438&4294967295,x=O+(I<<5&4294967295|I>>>27),I=N+(O^C&(x^O))+j[14]+3275163606&4294967295,N=x+(I<<9&4294967295|I>>>23),I=C+(x^O&(N^x))+j[3]+4107603335&4294967295,C=N+(I<<14&4294967295|I>>>18),I=O+(N^x&(C^N))+j[8]+1163531501&4294967295,O=C+(I<<20&4294967295|I>>>12),I=x+(C^N&(O^C))+j[13]+2850285829&4294967295,x=O+(I<<5&4294967295|I>>>27),I=N+(O^C&(x^O))+j[2]+4243563512&4294967295,N=x+(I<<9&4294967295|I>>>23),I=C+(x^O&(N^x))+j[7]+1735328473&4294967295,C=N+(I<<14&4294967295|I>>>18),I=O+(N^x&(C^N))+j[12]+2368359562&4294967295,O=C+(I<<20&4294967295|I>>>12),I=x+(O^C^N)+j[5]+4294588738&4294967295,x=O+(I<<4&4294967295|I>>>28),I=N+(x^O^C)+j[8]+2272392833&4294967295,N=x+(I<<11&4294967295|I>>>21),I=C+(N^x^O)+j[11]+1839030562&4294967295,C=N+(I<<16&4294967295|I>>>16),I=O+(C^N^x)+j[14]+4259657740&4294967295,O=C+(I<<23&4294967295|I>>>9),I=x+(O^C^N)+j[1]+2763975236&4294967295,x=O+(I<<4&4294967295|I>>>28),I=N+(x^O^C)+j[4]+1272893353&4294967295,N=x+(I<<11&4294967295|I>>>21),I=C+(N^x^O)+j[7]+4139469664&4294967295,C=N+(I<<16&4294967295|I>>>16),I=O+(C^N^x)+j[10]+3200236656&4294967295,O=C+(I<<23&4294967295|I>>>9),I=x+(O^C^N)+j[13]+681279174&4294967295,x=O+(I<<4&4294967295|I>>>28),I=N+(x^O^C)+j[0]+3936430074&4294967295,N=x+(I<<11&4294967295|I>>>21),I=C+(N^x^O)+j[3]+3572445317&4294967295,C=N+(I<<16&4294967295|I>>>16),I=O+(C^N^x)+j[6]+76029189&4294967295,O=C+(I<<23&4294967295|I>>>9),I=x+(O^C^N)+j[9]+3654602809&4294967295,x=O+(I<<4&4294967295|I>>>28),I=N+(x^O^C)+j[12]+3873151461&4294967295,N=x+(I<<11&4294967295|I>>>21),I=C+(N^x^O)+j[15]+530742520&4294967295,C=N+(I<<16&4294967295|I>>>16),I=O+(C^N^x)+j[2]+3299628645&4294967295,O=C+(I<<23&4294967295|I>>>9),I=x+(C^(O|~N))+j[0]+4096336452&4294967295,x=O+(I<<6&4294967295|I>>>26),I=N+(O^(x|~C))+j[7]+1126891415&4294967295,N=x+(I<<10&4294967295|I>>>22),I=C+(x^(N|~O))+j[14]+2878612391&4294967295,C=N+(I<<15&4294967295|I>>>17),I=O+(N^(C|~x))+j[5]+4237533241&4294967295,O=C+(I<<21&4294967295|I>>>11),I=x+(C^(O|~N))+j[12]+1700485571&4294967295,x=O+(I<<6&4294967295|I>>>26),I=N+(O^(x|~C))+j[3]+2399980690&4294967295,N=x+(I<<10&4294967295|I>>>22),I=C+(x^(N|~O))+j[10]+4293915773&4294967295,C=N+(I<<15&4294967295|I>>>17),I=O+(N^(C|~x))+j[1]+2240044497&4294967295,O=C+(I<<21&4294967295|I>>>11),I=x+(C^(O|~N))+j[8]+1873313359&4294967295,x=O+(I<<6&4294967295|I>>>26),I=N+(O^(x|~C))+j[15]+4264355552&4294967295,N=x+(I<<10&4294967295|I>>>22),I=C+(x^(N|~O))+j[6]+2734768916&4294967295,C=N+(I<<15&4294967295|I>>>17),I=O+(N^(C|~x))+j[13]+1309151649&4294967295,O=C+(I<<21&4294967295|I>>>11),I=x+(C^(O|~N))+j[4]+4149444226&4294967295,x=O+(I<<6&4294967295|I>>>26),I=N+(O^(x|~C))+j[11]+3174756917&4294967295,N=x+(I<<10&4294967295|I>>>22),I=C+(x^(N|~O))+j[2]+718787259&4294967295,C=N+(I<<15&4294967295|I>>>17),I=O+(N^(C|~x))+j[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+N&4294967295}n.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var O=x-this.blockSize,j=this.B,C=this.h,N=0;N<x;){if(C==0)for(;N<=O;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<x;)if(j[C++]=S.charCodeAt(N++),C==this.blockSize){i(this,j),C=0;break}}else for(;N<x;)if(j[C++]=S[N++],C==this.blockSize){i(this,j),C=0;break}}this.h=C,this.o+=x},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var O=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=O&255,O/=256;for(this.u(S),S=Array(16),x=O=0;4>x;++x)for(var j=0;32>j;j+=8)S[O++]=this.g[x]>>>j&255;return S};function a(S,x){var O=s;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=x(S)}function o(S,x){this.h=x;for(var O=[],j=!0,C=S.length-1;0<=C;C--){var N=S[C]|0;j&&N==x||(O[C]=N,j=!1)}this.g=O}var s={};function l(S){return-128<=S&&128>S?a(S,function(x){return new o([x|0],0>x?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(u(-S));for(var x=[],O=1,j=0;S>=O;j++)x[j]=S/O|0,O*=4294967296;return new o(x,0)}function c(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return v(c(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(x,8)),j=f,C=0;C<S.length;C+=8){var N=Math.min(8,S.length-C),I=parseInt(S.substring(C,C+N),x);8>N?(N=u(Math.pow(x,N)),j=j.j(N).add(u(I))):(j=j.j(O),j=j.add(u(I)))}return j}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();for(var S=0,x=1,O=0;O<this.g.length;O++){var j=this.i(O);S+=(0<=j?j:4294967296+j)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+v(this).toString(S);for(var x=u(Math.pow(S,6)),O=this,j="";;){var C=k(O,x).g;O=_(O,C.j(x));var N=((0<O.g.length?O.g[0]:O.h)>>>0).toString(S);if(O=C,g(O))return N+j;for(;6>N.length;)N="0"+N;j=N+j}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:g(S)?0:1};function v(S){for(var x=S.g.length,O=[],j=0;j<x;j++)O[j]=~S.g[j];return new o(O,~S.h).add(h)}t.abs=function(){return y(this)?v(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),O=[],j=0,C=0;C<=x;C++){var N=j+(this.i(C)&65535)+(S.i(C)&65535),I=(N>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);j=I>>>16,N&=65535,I&=65535,O[C]=I<<16|N}return new o(O,O[O.length-1]&-2147483648?-1:0)};function _(S,x){return S.add(v(x))}t.j=function(S){if(g(this)||g(S))return f;if(y(this))return y(S)?v(this).j(v(S)):v(v(this).j(S));if(y(S))return v(this.j(v(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var x=this.g.length+S.g.length,O=[],j=0;j<2*x;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(var C=0;C<S.g.length;C++){var N=this.i(j)>>>16,I=this.i(j)&65535,z=S.i(C)>>>16,V=S.i(C)&65535;O[2*j+2*C]+=I*V,b(O,2*j+2*C),O[2*j+2*C+1]+=N*V,b(O,2*j+2*C+1),O[2*j+2*C+1]+=I*z,b(O,2*j+2*C+1),O[2*j+2*C+2]+=N*z,b(O,2*j+2*C+2)}for(j=0;j<x;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=x;j<2*x;j++)O[j]=0;return new o(O,0)};function b(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function E(S,x){this.g=S,this.h=x}function k(S,x){if(g(x))throw Error("division by zero");if(g(S))return new E(f,f);if(y(S))return x=k(v(S),x),new E(v(x.g),v(x.h));if(y(x))return x=k(S,v(x)),new E(v(x.g),x.h);if(30<S.g.length){if(y(S)||y(x))throw Error("slowDivide_ only works with positive integers.");for(var O=h,j=x;0>=j.l(S);)O=T(O),j=T(j);var C=P(O,1),N=P(j,1);for(j=P(j,2),O=P(O,2);!g(j);){var I=N.add(j);0>=I.l(S)&&(C=C.add(O),N=I),j=P(j,1),O=P(O,1)}return x=_(S,C.j(x)),new E(C,x)}for(C=f;0<=S.l(x);){for(O=Math.max(1,Math.floor(S.m()/x.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),N=u(O),I=N.j(x);y(I)||0<I.l(S);)O-=j,N=u(O),I=N.j(x);g(N)&&(N=h),C=C.add(N),S=_(S,I)}return new E(C,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),O=[],j=0;j<x;j++)O[j]=this.i(j)&S.i(j);return new o(O,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),O=[],j=0;j<x;j++)O[j]=this.i(j)|S.i(j);return new o(O,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),O=[],j=0;j<x;j++)O[j]=this.i(j)^S.i(j);return new o(O,this.h^S.h)};function T(S){for(var x=S.g.length+1,O=[],j=0;j<x;j++)O[j]=S.i(j)<<1|S.i(j-1)>>>31;return new o(O,S.h)}function P(S,x){var O=x>>5;x%=32;for(var j=S.g.length-O,C=[],N=0;N<j;N++)C[N]=0<x?S.i(N+O)>>>x|S.i(N+O+1)<<32-x:S.i(N+O);return new o(C,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,wC=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,eo=o}).apply(typeof tS<"u"?tS:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bC,tu,xC,wd,cv,_C,SC,EC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,A){return d==Array.prototype||d==Object.prototype||(d[w]=A.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var w=0;w<d.length;++w){var A=d[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(d,w){if(w)e:{var A=n;d=d.split(".");for(var M=0;M<d.length-1;M++){var U=d[M];if(!(U in A))break e;A=A[U]}d=d[d.length-1],M=A[d],w=w(M),w!=M&&w!=null&&e(A,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var A=0,M=!1,U={next:function(){if(!M&&A<d.length){var q=A++;return{value:w(q,d[q]),done:!1}}return M=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function c(d,w,A){return d.call.apply(d.bind,arguments)}function f(d,w,A){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,M),d.apply(w,U)}}return function(){return d.apply(w,arguments)}}function h(d,w,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,w){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function g(d,w){function A(){}A.prototype=w.prototype,d.aa=w.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(M,U,q){for(var re=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)re[qe-2]=arguments[qe];return w.prototype[U].apply(M,re)}}function y(d){const w=d.length;if(0<w){const A=Array(w);for(let M=0;M<w;M++)A[M]=d[M];return A}return[]}function v(d,w){for(let A=1;A<arguments.length;A++){const M=arguments[A];if(l(M)){const U=d.length||0,q=M.length||0;d.length=U+q;for(let re=0;re<q;re++)d[U+re]=M[re]}else d.push(M)}}class _{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var T=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function P(d,w,A){for(const M in d)w.call(A,d[M],M,d)}function S(d,w){for(const A in d)w.call(void 0,d[A],A,d)}function x(d){const w={};for(const A in d)w[A]=d[A];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,w){let A,M;for(let U=1;U<arguments.length;U++){M=arguments[U];for(A in M)d[A]=M[A];for(let q=0;q<O.length;q++)A=O[q],Object.prototype.hasOwnProperty.call(M,A)&&(d[A]=M[A])}}function C(d){var w=1;d=d.split(":");const A=[];for(;0<w&&d.length;)A.push(d.shift()),w--;return d.length&&A.push(d.join(":")),A}function N(d){s.setTimeout(()=>{throw d},0)}function I(){var d=R;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class z{constructor(){this.h=this.g=null}add(w,A){const M=V.get();M.set(w,A),this.h?this.h.next=M:this.g=M,this.h=M}}var V=new _(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let L,$=!1,R=new z,B=()=>{const d=s.Promise.resolve(void 0);L=()=>{d.then(W)}};var W=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(A){N(A)}var w=V;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}$=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return d}();function Pe(d,w){if(Z.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(T){e:{try{k(w.nodeName);var U=!0;break e}catch{}U=!1}U||(w=null)}}else A=="mouseover"?w=d.fromElement:A=="mouseout"&&(w=d.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Te[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}g(Pe,Z);var Te={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),Je=0;function ie(d,w,A,M,U){this.listener=d,this.proxy=null,this.src=w,this.type=A,this.capture=!!M,this.ha=U,this.key=++Je,this.da=this.fa=!1}function he(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d){this.src=d,this.g={},this.h=0}ge.prototype.add=function(d,w,A,M,U){var q=d.toString();d=this.g[q],d||(d=this.g[q]=[],this.h++);var re=We(d,w,M,U);return-1<re?(w=d[re],A||(w.fa=!1)):(w=new ie(w,this.src,q,!!M,U),w.fa=A,d.push(w)),w};function X(d,w){var A=w.type;if(A in d.g){var M=d.g[A],U=Array.prototype.indexOf.call(M,w,void 0),q;(q=0<=U)&&Array.prototype.splice.call(M,U,1),q&&(he(w),d.g[A].length==0&&(delete d.g[A],d.h--))}}function We(d,w,A,M){for(var U=0;U<d.length;++U){var q=d[U];if(!q.da&&q.listener==w&&q.capture==!!A&&q.ha==M)return U}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Ze={};function st(d,w,A,M,U){if(Array.isArray(w)){for(var q=0;q<w.length;q++)st(d,w[q],A,M,U);return null}return A=Ca(A),d&&d[ot]?d.K(w,A,u(M)?!!M.capture:!1,U):Dt(d,w,A,!1,M,U)}function Dt(d,w,A,M,U,q){if(!w)throw Error("Invalid event type");var re=u(U)?!!U.capture:!!U,qe=ti(d);if(qe||(d[Se]=qe=new ge(d)),A=qe.add(w,A,M,re,q),A.proxy)return A;if(M=qr(),A.proxy=M,M.src=d,M.listener=A,d.addEventListener)ye||(U=re),U===void 0&&(U=!1),d.addEventListener(w.toString(),M,U);else if(d.attachEvent)d.attachEvent(Qr(w.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function qr(){function d(A){return w.call(d.src,d.listener,A)}const w=pn;return d}function Hr(d,w,A,M,U){if(Array.isArray(w))for(var q=0;q<w.length;q++)Hr(d,w[q],A,M,U);else M=u(M)?!!M.capture:!!M,A=Ca(A),d&&d[ot]?(d=d.i,w=String(w).toString(),w in d.g&&(q=d.g[w],A=We(q,A,M,U),-1<A&&(he(q[A]),Array.prototype.splice.call(q,A,1),q.length==0&&(delete d.g[w],d.h--)))):d&&(d=ti(d))&&(w=d.g[w.toString()],d=-1,w&&(d=We(w,A,M,U)),(A=-1<d?w[d]:null)&&Gr(A))}function Gr(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[ot])X(w.i,d);else{var A=d.type,M=d.proxy;w.removeEventListener?w.removeEventListener(A,M,d.capture):w.detachEvent?w.detachEvent(Qr(A),M):w.addListener&&w.removeListener&&w.removeListener(M),(A=ti(w))?(X(A,d),A.h==0&&(A.src=null,w[Se]=null)):he(d)}}}function Qr(d){return d in Ze?Ze[d]:Ze[d]="on"+d}function pn(d,w){if(d.da)d=!0;else{w=new Pe(w,this);var A=d.listener,M=d.ha||d.src;d.fa&&Gr(d),d=A.call(M,w)}return d}function ti(d){return d=d[Se],d instanceof ge?d:null}var Li="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ca(d){return typeof d=="function"?d:(d[Li]||(d[Li]=function(w){return d.handleEvent(w)}),d[Li])}function Mt(){H.call(this),this.i=new ge(this),this.M=this,this.F=null}g(Mt,H),Mt.prototype[ot]=!0,Mt.prototype.removeEventListener=function(d,w,A,M){Hr(this,d,w,A,M)};function Bt(d,w){var A,M=d.F;if(M)for(A=[];M;M=M.F)A.push(M);if(d=d.M,M=w.type||w,typeof w=="string")w=new Z(w,d);else if(w instanceof Z)w.target=w.target||d;else{var U=w;w=new Z(M,d),j(w,U)}if(U=!0,A)for(var q=A.length-1;0<=q;q--){var re=w.g=A[q];U=ri(re,M,!0,w)&&U}if(re=w.g=d,U=ri(re,M,!0,w)&&U,U=ri(re,M,!1,w)&&U,A)for(q=0;q<A.length;q++)re=w.g=A[q],U=ri(re,M,!1,w)&&U}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var A=d.g[w],M=0;M<A.length;M++)he(A[M]);delete d.g[w],d.h--}}this.F=null},Mt.prototype.K=function(d,w,A,M){return this.i.add(String(d),w,!1,A,M)},Mt.prototype.L=function(d,w,A,M){return this.i.add(String(d),w,!0,A,M)};function ri(d,w,A,M){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var U=!0,q=0;q<w.length;++q){var re=w[q];if(re&&!re.da&&re.capture==A){var qe=re.listener,zt=re.ha||re.src;re.fa&&X(d.i,re),U=qe.call(zt,M)!==!1&&U}}return U&&!M.defaultPrevented}function sf(d,w,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(d,w||0)}function lf(d){d.g=sf(()=>{d.g=null,d.i&&(d.i=!1,lf(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Cm extends H{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:lf(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(d){H.call(this),this.h=d,this.g={}}g(Ia,H);var uf=[];function G(d){P(d.g,function(w,A){this.g.hasOwnProperty(A)&&Gr(w)},d),d.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),G(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=s.JSON.stringify,Oe=s.JSON.parse,Ut=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function Zt(){}Zt.prototype.h=null;function dr(d){return d.h||(d.h=d.i())}function mn(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){Z.call(this,"d")}g(ii,Z);function Fi(){Z.call(this,"c")}g(Fi,Z);var Xr={},ja=null;function Na(){return ja=ja||new Mt}Xr.La="serverreachability";function cf(d){Z.call(this,Xr.La,d)}g(cf,Z);function xl(d){const w=Na();Bt(w,new cf(w))}Xr.STAT_EVENT="statevent";function Ux(d,w){Z.call(this,Xr.STAT_EVENT,d),this.stat=w}g(Ux,Z);function hr(d){const w=Na();Bt(w,new Ux(w,d))}Xr.Ma="timingevent";function zx(d,w){Z.call(this,Xr.Ma,d),this.size=w}g(zx,Z);function _l(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},w)}function Sl(){this.g=!0}Sl.prototype.xa=function(){this.g=!1};function PD(d,w,A,M,U,q){d.info(function(){if(d.g)if(q)for(var re="",qe=q.split("&"),zt=0;zt<qe.length;zt++){var $e=qe[zt].split("=");if(1<$e.length){var er=$e[0];$e=$e[1];var tr=er.split("_");re=2<=tr.length&&tr[1]=="type"?re+(er+"="+$e+"&"):re+(er+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+M+") [attempt "+U+"]: "+w+`
`+A+`
`+re})}function OD(d,w,A,M,U,q,re){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+U+"]: "+w+`
`+A+`
`+q+" "+re})}function Co(d,w,A,M){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+CD(d,A)+(M?" "+M:"")})}function kD(d,w){d.info(function(){return"TIMEOUT: "+w})}Sl.prototype.info=function(){};function CD(d,w){if(!d.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var M=A[d];if(!(2>M.length)){var U=M[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return ae(A)}catch{return w}}var ff={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Im;function df(){}g(df,Zt),df.prototype.g=function(){return new XMLHttpRequest},df.prototype.i=function(){return{}},Im=new df;function Vi(d,w,A,M){this.j=d,this.i=w,this.l=A,this.R=M||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kx}function Kx(){this.i=null,this.g="",this.h=!1}var qx={},jm={};function Nm(d,w,A){d.L=1,d.v=gf(ai(w)),d.m=A,d.P=!0,Hx(d,null)}function Hx(d,w){d.F=Date.now(),hf(d),d.A=ai(d.v);var A=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),s_(A.i,"t",M),d.C=0,A=d.j.J,d.h=new Kx,d.g=T_(d.j,A?w:null,!d.m),0<d.O&&(d.M=new Cm(h(d.Y,d,d.g),d.O)),w=d.U,A=d.g,M=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(uf[0]=U.toString()),U=uf);for(var q=0;q<U.length;q++){var re=st(A,U[q],M||w.handleEvent,!1,w.h||w);if(!re)break;w.g[re.key]=re}w=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),xl(),PD(d.i,d.u,d.A,d.l,d.R,d.m)}Vi.prototype.ca=function(d){d=d.target;const w=this.M;w&&oi(d)==3?w.j():this.Y(d)},Vi.prototype.Y=function(d){try{if(d==this.g)e:{const tr=oi(this.g);var w=this.g.Ba();const No=this.g.Z();if(!(3>tr)&&(tr!=3||this.g&&(this.h.h||this.g.oa()||p_(this.g)))){this.J||tr!=4||w==7||(w==8||0>=No?xl(3):xl(2)),Dm(this);var A=this.g.Z();this.X=A;t:if(Gx(this)){var M=p_(this.g);d="";var U=M.length,q=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Da(this),El(this);var re="";break t}this.h.i=new s.TextDecoder}for(w=0;w<U;w++)this.h.h=!0,d+=this.h.i.decode(M[w],{stream:!(q&&w==U-1)});M.length=0,this.h.g+=d,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=A==200,OD(this.i,this.u,this.A,this.l,this.R,tr,A),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,zt=this.g;if((qe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(qe)){var $e=qe;break t}}$e=null}if(A=$e)Co(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mm(this,A);else{this.o=!1,this.s=3,hr(12),Da(this),El(this);break e}}if(this.P){A=!0;let gn;for(;!this.J&&this.C<re.length;)if(gn=ID(this,re),gn==jm){tr==4&&(this.s=4,hr(14),A=!1),Co(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==qx){this.s=4,hr(15),Co(this.i,this.l,re,"[Invalid Chunk]"),A=!1;break}else Co(this.i,this.l,gn,null),Mm(this,gn);if(Gx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tr!=4||re.length!=0||this.h.h||(this.s=1,hr(16),A=!1),this.o=this.o&&A,!A)Co(this.i,this.l,re,"[Invalid Chunked Response]"),Da(this),El(this);else if(0<re.length&&!this.W){this.W=!0;var er=this.j;er.g==this&&er.ba&&!er.M&&(er.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Bm(er),er.M=!0,hr(11))}}else Co(this.i,this.l,re,null),Mm(this,re);tr==4&&Da(this),this.o&&!this.J&&(tr==4?x_(this.j,this):(this.o=!1,hf(this)))}else GD(this.g),A==400&&0<re.indexOf("Unknown SID")?(this.s=3,hr(12)):(this.s=0,hr(13)),Da(this),El(this)}}}catch{}finally{}};function Gx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ID(d,w){var A=d.C,M=w.indexOf(`
`,A);return M==-1?jm:(A=Number(w.substring(A,M)),isNaN(A)?qx:(M+=1,M+A>w.length?jm:(w=w.slice(M,M+A),d.C=M+A,w)))}Vi.prototype.cancel=function(){this.J=!0,Da(this)};function hf(d){d.S=Date.now()+d.I,Qx(d,d.I)}function Qx(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_l(h(d.ba,d),w)}function Dm(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Vi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(kD(this.i,this.A),this.L!=2&&(xl(),hr(17)),Da(this),this.s=2,El(this)):Qx(this,this.S-d)};function El(d){d.j.G==0||d.J||x_(d.j,d)}function Da(d){Dm(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,G(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Mm(d,w){try{var A=d.j;if(A.G!=0&&(A.g==d||Rm(A.h,d))){if(!d.K&&Rm(A.h,d)&&A.G==3){try{var M=A.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var U=M;if(U[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)_f(A),bf(A);else break e;Vm(A),hr(18)}}else A.za=U[1],0<A.za-A.T&&37500>U[2]&&A.F&&A.v==0&&!A.C&&(A.C=_l(h(A.Za,A),6e3));if(1>=Jx(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ra(A,11)}else if((d.K||A.g==d)&&_f(A),!b(w))for(U=A.Da.g.parse(w),w=0;w<U.length;w++){let $e=U[w];if(A.T=$e[0],$e=$e[1],A.G==2)if($e[0]=="c"){A.K=$e[1],A.ia=$e[2];const er=$e[3];er!=null&&(A.la=er,A.j.info("VER="+A.la));const tr=$e[4];tr!=null&&(A.Aa=tr,A.j.info("SVER="+A.Aa));const No=$e[5];No!=null&&typeof No=="number"&&0<No&&(M=1.5*No,A.L=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const gn=d.g;if(gn){const Ef=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ef){var q=M.h;q.g||Ef.indexOf("spdy")==-1&&Ef.indexOf("quic")==-1&&Ef.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&($m(q,q.h),q.h=null))}if(M.D){const Um=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Um&&(M.ya=Um,et(M.I,M.D,Um))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),M=A;var re=d;if(M.qa=E_(M,M.J?M.ia:null,M.W),re.K){Zx(M.h,re);var qe=re,zt=M.L;zt&&(qe.I=zt),qe.B&&(Dm(qe),hf(qe)),M.g=re}else w_(M);0<A.i.length&&xf(A)}else $e[0]!="stop"&&$e[0]!="close"||Ra(A,7);else A.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ra(A,7):Fm(A):$e[0]!="noop"&&A.l&&A.l.ta($e),A.v=0)}}xl(4)}catch{}}var jD=class{constructor(d,w){this.g=d,this.map=w}};function Xx(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Jx(d){return d.h?1:d.g?d.g.size:0}function Rm(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function $m(d,w){d.g?d.g.add(w):d.h=w}function Zx(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Xx.prototype.cancel=function(){if(this.i=e_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function e_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const A of d.g.values())w=w.concat(A.D);return w}return y(d.i)}function ND(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],A=d.length,M=0;M<A;M++)w.push(d[M]);return w}w=[],A=0;for(M in d)w[A++]=d[M];return w}function DD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var A=0;A<d;A++)w.push(A);return w}w=[],A=0;for(const M in d)w[A++]=M;return w}}}function t_(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var A=DD(d),M=ND(d),U=M.length,q=0;q<U;q++)w.call(void 0,M[q],A&&A[q],d)}var r_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MD(d,w){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var M=d[A].indexOf("="),U=null;if(0<=M){var q=d[A].substring(0,M);U=d[A].substring(M+1)}else q=d[A];w(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ma(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ma){this.h=d.h,pf(this,d.j),this.o=d.o,this.g=d.g,mf(this,d.s),this.l=d.l;var w=d.i,A=new Pl;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),n_(this,A),this.m=d.m}else d&&(w=String(d).match(r_))?(this.h=!1,pf(this,w[1]||"",!0),this.o=Tl(w[2]||""),this.g=Tl(w[3]||"",!0),mf(this,w[4]),this.l=Tl(w[5]||"",!0),n_(this,w[6]||"",!0),this.m=Tl(w[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}Ma.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Al(w,i_,!0),":");var A=this.g;return(A||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Al(w,i_,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Al(A,A.charAt(0)=="/"?LD:$D,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Al(A,VD)),d.join("")};function ai(d){return new Ma(d)}function pf(d,w,A){d.j=A?Tl(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function mf(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function n_(d,w,A){w instanceof Pl?(d.i=w,BD(d.i,d.h)):(A||(w=Al(w,FD)),d.i=new Pl(w,d.h))}function et(d,w,A){d.i.set(w,A)}function gf(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tl(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Al(d,w,A){return typeof d=="string"?(d=encodeURI(d).replace(w,RD),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function RD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var i_=/[#\/\?@]/g,$D=/[#\?:]/g,LD=/[#\?]/g,FD=/[#\?@]/g,VD=/#/g;function Pl(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Bi(d){d.g||(d.g=new Map,d.h=0,d.i&&MD(d.i,function(w,A){d.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Pl.prototype,t.add=function(d,w){Bi(this),this.i=null,d=Io(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(w),this.h+=1,this};function a_(d,w){Bi(d),w=Io(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function o_(d,w){return Bi(d),w=Io(d,w),d.g.has(w)}t.forEach=function(d,w){Bi(this),this.g.forEach(function(A,M){A.forEach(function(U){d.call(w,U,M,this)},this)},this)},t.na=function(){Bi(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let M=0;M<w.length;M++){const U=d[M];for(let q=0;q<U.length;q++)A.push(w[M])}return A},t.V=function(d){Bi(this);let w=[];if(typeof d=="string")o_(this,d)&&(w=w.concat(this.g.get(Io(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)w=w.concat(d[A])}return w},t.set=function(d,w){return Bi(this),this.i=null,d=Io(this,d),o_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function s_(d,w,A){a_(d,w),0<A.length&&(d.i=null,d.g.set(Io(d,w),y(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var M=w[A];const q=encodeURIComponent(String(M)),re=this.V(M);for(M=0;M<re.length;M++){var U=q;re[M]!==""&&(U+="="+encodeURIComponent(String(re[M]))),d.push(U)}}return this.i=d.join("&")};function Io(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function BD(d,w){w&&!d.j&&(Bi(d),d.i=null,d.g.forEach(function(A,M){var U=M.toLowerCase();M!=U&&(a_(this,M),s_(this,U,A))},d)),d.j=w}function UD(d,w){const A=new Sl;if(s.Image){const M=new Image;M.onload=p(Ui,A,"TestLoadImage: loaded",!0,w,M),M.onerror=p(Ui,A,"TestLoadImage: error",!1,w,M),M.onabort=p(Ui,A,"TestLoadImage: abort",!1,w,M),M.ontimeout=p(Ui,A,"TestLoadImage: timeout",!1,w,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else w(!1)}function zD(d,w){const A=new Sl,M=new AbortController,U=setTimeout(()=>{M.abort(),Ui(A,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:M.signal}).then(q=>{clearTimeout(U),q.ok?Ui(A,"TestPingServer: ok",!0,w):Ui(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(U),Ui(A,"TestPingServer: error",!1,w)})}function Ui(d,w,A,M,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),M(A)}catch{}}function WD(){this.g=new Ut}function KD(d,w,A){const M=A||"";try{t_(d,function(U,q){let re=U;u(U)&&(re=ae(U)),w.push(M+q+"="+encodeURIComponent(re))})}catch(U){throw w.push(M+"type="+encodeURIComponent("_badmap")),U}}function yf(d){this.l=d.Ub||null,this.j=d.eb||!1}g(yf,Zt),yf.prototype.g=function(){return new vf(this.l,this.j)},yf.prototype.i=function(d){return function(){return d}}({});function vf(d,w){Mt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(vf,Mt),t=vf.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,kl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ol(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function l_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Ol(this):kl(this),this.readyState==3&&l_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ol(this))},t.Qa=function(d){this.g&&(this.response=d,Ol(this))},t.ga=function(){this.g&&Ol(this)};function Ol(d){d.readyState=4,d.l=null,d.j=null,d.v=null,kl(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=w.next();return d.join(`\r
`)};function kl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function u_(d){let w="";return P(d,function(A,M){w+=M,w+=":",w+=A,w+=`\r
`}),w}function Lm(d,w,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=u_(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):et(d,w,A))}function mt(d){Mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(mt,Mt);var qD=/^https?$/i,HD=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Im.g(),this.v=this.o?dr(this.o):dr(Im),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(q){c_(this,q);return}if(d=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var U in M)A.set(U,M[U]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const q of M.keys())A.set(q,M.get(q));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(q=>q.toLowerCase()=="content-type"),U=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(HD,w,void 0))||M||U||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of A)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{h_(this),this.u=!0,this.g.send(d),this.u=!1}catch(q){c_(this,q)}};function c_(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,f_(d),wf(d)}function f_(d){d.A||(d.A=!0,Bt(d,"complete"),Bt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Bt(this,"complete"),Bt(this,"abort"),wf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wf(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d_(this):this.bb())},t.bb=function(){d_(this)};function d_(d){if(d.h&&typeof o<"u"&&(!d.v[1]||oi(d)!=4||d.Z()!=2)){if(d.u&&oi(d)==4)sf(d.Ea,0,d);else if(Bt(d,"readystatechange"),oi(d)==4){d.h=!1;try{const re=d.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var M;if(M=re===0){var U=String(d.D).match(r_)[1]||null;!U&&s.self&&s.self.location&&(U=s.self.location.protocol.slice(0,-1)),M=!qD.test(U?U.toLowerCase():"")}A=M}if(A)Bt(d,"complete"),Bt(d,"success");else{d.m=6;try{var q=2<oi(d)?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.Z()+"]",f_(d)}}finally{wf(d)}}}}function wf(d,w){if(d.g){h_(d);const A=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||Bt(d,"ready");try{A.onreadystatechange=M}catch{}}}function h_(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function oi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Oe(w)}};function p_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function GD(d){const w={};d=(d.g&&2<=oi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(b(d[M]))continue;var A=C(d[M]);const U=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const q=w[U]||[];w[U]=q,q.push(A)}S(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(d,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||w}function m_(d){this.Aa=0,this.i=[],this.j=new Sl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,d),this.cb=Cl("retryDelaySeedMs",1e4,d),this.Wa=Cl("forwardChannelMaxRetries",2,d),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Xx(d&&d.concurrentRequestLimit),this.Da=new WD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m_.prototype,t.la=8,t.G=1,t.connect=function(d,w,A,M){hr(0),this.W=d,this.H=w||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.I=E_(this,null,this.W),xf(this)};function Fm(d){if(g_(d),d.G==3){var w=d.U++,A=ai(d.I);if(et(A,"SID",d.K),et(A,"RID",w),et(A,"TYPE","terminate"),Il(d,A),w=new Vi(d,d.j,w),w.L=2,w.v=gf(ai(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.v,A=!0),A||(w.g=T_(w.j,null),w.g.ea(w.v)),w.F=Date.now(),hf(w)}S_(d)}function bf(d){d.g&&(Bm(d),d.g.cancel(),d.g=null)}function g_(d){bf(d),d.u&&(s.clearTimeout(d.u),d.u=null),_f(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function xf(d){if(!Yx(d.h)&&!d.s){d.s=!0;var w=d.Ga;L||B(),$||(L(),$=!0),R.add(w,d),d.B=0}}function QD(d,w){return Jx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_l(h(d.Ga,d,w),__(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new Vi(this,this.j,d);let q=this.o;if(this.S&&(q?(q=x(q),j(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=v_(this,U,w),A=ai(this.I),et(A,"RID",d),et(A,"CVER",22),this.D&&et(A,"X-HTTP-Session-Id",this.D),Il(this,A),q&&(this.O?w="headers="+encodeURIComponent(String(u_(q)))+"&"+w:this.m&&Lm(A,this.m,q)),$m(this.h,U),this.Ua&&et(A,"TYPE","init"),this.P?(et(A,"$req",w),et(A,"SID","null"),U.T=!0,Nm(U,A,null)):Nm(U,A,w),this.G=2}}else this.G==3&&(d?y_(this,d):this.i.length==0||Yx(this.h)||y_(this))};function y_(d,w){var A;w?A=w.l:A=d.U++;const M=ai(d.I);et(M,"SID",d.K),et(M,"RID",A),et(M,"AID",d.T),Il(d,M),d.m&&d.o&&Lm(M,d.m,d.o),A=new Vi(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),w&&(d.i=w.D.concat(d.i)),w=v_(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$m(d.h,A),Nm(A,M,w)}function Il(d,w){d.H&&P(d.H,function(A,M){et(w,M,A)}),d.l&&t_({},function(A,M){et(w,M,A)})}function v_(d,w,A){A=Math.min(d.i.length,A);var M=d.l?h(d.l.Na,d.l,d):null;e:{var U=d.i;let q=-1;for(;;){const re=["count="+A];q==-1?0<A?(q=U[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let qe=!0;for(let zt=0;zt<A;zt++){let $e=U[zt].g;const er=U[zt].map;if($e-=q,0>$e)q=Math.max(0,U[zt].g-100),qe=!1;else try{KD(er,re,"req"+$e+"_")}catch{M&&M(er)}}if(qe){M=re.join("&");break e}}}return d=d.i.splice(0,A),w.D=d,M}function w_(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;L||B(),$||(L(),$=!0),R.add(w,d),d.v=0}}function Vm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_l(h(d.Fa,d),__(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,b_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_l(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hr(10),bf(this),b_(this))};function Bm(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function b_(d){d.g=new Vi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=ai(d.qa);et(w,"RID","rpc"),et(w,"SID",d.K),et(w,"AID",d.T),et(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(w,"TO",d.ja),et(w,"TYPE","xmlhttp"),Il(d,w),d.m&&d.o&&Lm(w,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=gf(ai(w)),A.m=null,A.P=!0,Hx(A,d)}t.Za=function(){this.C!=null&&(this.C=null,bf(this),Vm(this),hr(19))};function _f(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function x_(d,w){var A=null;if(d.g==w){_f(d),Bm(d),d.g=null;var M=2}else if(Rm(d.h,w))A=w.D,Zx(d.h,w),M=1;else return;if(d.G!=0){if(w.o)if(M==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var U=d.B;M=Na(),Bt(M,new zx(M,A)),xf(d)}else w_(d);else if(U=w.s,U==3||U==0&&0<w.X||!(M==1&&QD(d,w)||M==2&&Vm(d)))switch(A&&0<A.length&&(w=d.h,w.i=w.i.concat(A)),U){case 1:Ra(d,5);break;case 4:Ra(d,10);break;case 3:Ra(d,6);break;default:Ra(d,2)}}}function __(d,w){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*w}function Ra(d,w){if(d.j.info("Error code "+w),w==2){var A=h(d.fb,d),M=d.Xa;const U=!M;M=new Ma(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||pf(M,"https"),gf(M),U?UD(M.toString(),A):zD(M.toString(),A)}else hr(2);d.G=0,d.l&&d.l.sa(w),S_(d),g_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),hr(2)):(this.j.info("Failed to ping google.com"),hr(1))};function S_(d){if(d.G=0,d.ka=[],d.l){const w=e_(d.h);(w.length!=0||d.i.length!=0)&&(v(d.ka,w),v(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function E_(d,w,A){var M=A instanceof Ma?ai(A):new Ma(A);if(M.g!="")w&&(M.g=w+"."+M.g),mf(M,M.s);else{var U=s.location;M=U.protocol,w=w?w+"."+U.hostname:U.hostname,U=+U.port;var q=new Ma(null);M&&pf(q,M),w&&(q.g=w),U&&mf(q,U),A&&(q.l=A),M=q}return A=d.D,w=d.ya,A&&w&&et(M,A,w),et(M,"VER",d.la),Il(d,M),M}function T_(d,w,A){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new mt(new yf({eb:A})):new mt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function A_(){}t=A_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sf(){}Sf.prototype.g=function(d,w){return new jr(d,w)};function jr(d,w){Mt.call(this),this.g=new m_(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!b(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!b(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new jo(this)}g(jr,Mt),jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){Fm(this.g)},jr.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=ae(d),d=A);w.i.push(new jD(w.Ya++,d)),w.G==3&&xf(w)},jr.prototype.N=function(){this.g.l=null,delete this.j,Fm(this.g),delete this.g,jr.aa.N.call(this)};function P_(d){ii.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const A in w){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}g(P_,ii);function O_(){Fi.call(this),this.status=1}g(O_,Fi);function jo(d){this.g=d}g(jo,A_),jo.prototype.ua=function(){Bt(this.g,"a")},jo.prototype.ta=function(d){Bt(this.g,new P_(d))},jo.prototype.sa=function(d){Bt(this.g,new O_)},jo.prototype.ra=function(){Bt(this.g,"b")},Sf.prototype.createWebChannel=Sf.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,EC=function(){return new Sf},SC=function(){return Na()},_C=Xr,cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ff.NO_ERROR=0,ff.TIMEOUT=8,ff.HTTP_ERROR=6,wd=ff,Wx.COMPLETE="complete",xC=Wx,mn.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,tu=mn,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,bC=mt}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const rS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let or=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new hC("@firebase/firestore");function Vl(){return lo.logLevel}function ue(t,...e){if(lo.logLevel<=De.DEBUG){const r=e.map(Zw);lo.debug(`Firestore (${il}): ${t}`,...r)}}function Ai(t,...e){if(lo.logLevel<=De.ERROR){const r=e.map(Zw);lo.error(`Firestore (${il}): ${t}`,...r)}}function Ss(t,...e){if(lo.logLevel<=De.WARN){const r=e.map(Zw);lo.warn(`Firestore (${il}): ${t}`,...r)}}function Zw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+t;throw Ai(e),new Error(e)}function Ue(t,e){t||we()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends nl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(or.UNAUTHENTICATED))}shutdown(){}}class S3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class E3{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ue(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yi)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ue(typeof n.accessToken=="string"),new TC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new or(e)}}class T3{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=or.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A3{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new T3(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ue(this.o===void 0);const n=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ue(typeof r.token=="string"),this.R=r.token,new P3(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=k3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Le(t,e){return t<e?-1:t>e?1:0}function Es(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new jt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new jt(0,0))}static max(){return new be(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,r,n){r===void 0?r=0:r>e.length&&we(),n===void 0?n=e.length-r:n>e.length-r&&we(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Gu.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Gu?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class it extends Gu{construct(e,r,n){return new it(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new oe(Y.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new it(r)}static emptyPath(){return new it([])}}const C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Gu{construct(e,r,n){return new Ht(e,r,n)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new oe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new oe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(r)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(it.fromString(e))}static fromName(e){return new fe(it.fromString(e).popFirst(5))}static empty(){return new fe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return it.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new it(e.slice()))}}function I3(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(n===1e9?new jt(r+1,0):new jt(r,n));return new va(i,fe.empty(),e)}function j3(t){return new va(t.readTime,t.key,-1)}class va{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new va(be.min(),fe.empty(),-1)}static max(){return new va(be.max(),fe.empty(),-1)}}function N3(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=fe.comparator(t.documentKey,e.documentKey),r!==0?r:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==D3)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ee((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ee?r:ee.resolve(r)}catch(r){return ee.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ee.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ee.reject(r)}static resolve(e){return new ee((r,n)=>{r(e)})}static reject(e){return new ee((r,n)=>{n(e)})}static waitFor(e){return new ee((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=ee.resolve(!1);for(const n of e)r=r.next(i=>i?ee.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ee((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(e,r){return new ee((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function R3(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function zc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eb.oe=-1;function Ap(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function $3(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function _o(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,r){this.comparator=e,this.root=r||qt.EMPTY}insert(e,r){return new pt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??qt.RED,this.left=i??qt.EMPTY,this.right=a??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new qt(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return qt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,r,n,i,a){return this}insert(e,r,n){return new qt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new iS(this.data.getIterator())}getIteratorFrom(e){return new iS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Xt(this.comparator);return r.data=e,r}}class iS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Vr([])}unionWith(e){let r=new Xt(Ht.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Vr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new OC("Invalid base64 string: "+a):a}}(e);return new Jt(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Jt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const L3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(t){if(Ue(!!t),typeof t=="string"){let e=0;const r=L3.exec(t);if(Ue(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function rb(t){const e=t.mapValue.fields.__previous_value__;return tb(e)?rb(e):e}function Qu(t){const e=wa(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,r,n,i,a,o,s,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Xu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf={mapValue:{}};function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tb(t)?4:B3(t)?9007199254740991:V3(t)?10:11:we()}function Qn(t,e){if(t===e)return!0;const r=co(t);if(r!==co(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=wa(i.timestampValue),s=wa(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return uo(i.bytesValue).isEqual(uo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return vt(i.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return vt(i.integerValue)===vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=vt(i.doubleValue),s=vt(a.doubleValue);return o===s?Zd(o)===Zd(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Es(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(nS(o)!==nS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Qn(o[l],s[l])))return!1;return!0}(t,e);default:return we()}}function Yu(t,e){return(t.values||[]).find(r=>Qn(r,e))!==void 0}function Ts(t,e){if(t===e)return 0;const r=co(t),n=co(e);if(r!==n)return Le(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=vt(a.integerValue||a.doubleValue),l=vt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return aS(t.timestampValue,e.timestampValue);case 4:return aS(Qu(t),Qu(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(a,o){const s=uo(a),l=uo(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Le(s[u],l[u]);if(c!==0)return c}return Le(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Le(vt(a.latitude),vt(o.latitude));return s!==0?s:Le(vt(a.longitude),vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=Le(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:oS(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Kf.mapValue&&o===Kf.mapValue)return 0;if(a===Kf.mapValue)return 1;if(o===Kf.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Le(l[f],c[f]);if(h!==0)return h;const p=Ts(s[l[f]],u[c[f]]);if(p!==0)return p}return Le(l.length,c.length)}(t.mapValue,e.mapValue);default:throw we()}}function aS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const r=wa(t),n=wa(e),i=Le(r.seconds,n.seconds);return i!==0?i:Le(r.nanos,n.nanos)}function oS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ts(r[i],n[i]);if(a)return a}return Le(r.length,n.length)}function As(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=wa(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return uo(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=fv(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${fv(r.fields[o])}`;return i+"}"}(t.mapValue):we()}function sS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dv(t){return!!t&&"integerValue"in t}function nb(t){return!!t&&"arrayValue"in t}function lS(t){return!!t&&"nullValue"in t}function uS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bd(t){return!!t&&"mapValue"in t}function V3(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=mu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=mu(t.arrayValue.values[r]);return e}return Object.assign({},t)}function B3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!bd(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(r)}setAll(e){let r=Ht.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=mu(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());bd(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){_o(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Er(mu(this.value))}}function kC(t){const e=[];return _o(t.fields,(r,n)=>{const i=new Ht([r]);if(bd(n)){const a=kC(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new lr(e,0,be.min(),be.min(),be.min(),Er.empty(),0)}static newFoundDocument(e,r,n,i){return new lr(e,1,r,be.min(),n,i,0)}static newNoDocument(e,r){return new lr(e,2,r,be.min(),be.min(),Er.empty(),0)}static newUnknownDocument(e,r){return new lr(e,3,r,be.min(),be.min(),Er.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,r){this.position=e,this.inclusive=r}}function cS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=fe.comparator(fe.fromName(o.referenceValue),r.key):n=Ts(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function fS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Qn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,r="asc"){this.field=e,this.dir=r}}function U3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{}class Et extends CC{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new W3(e,r,n):r==="array-contains"?new H3(e,n):r==="in"?new G3(e,n):r==="not-in"?new Q3(e,n):r==="array-contains-any"?new X3(e,n):new Et(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new K3(e,n):new q3(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ts(r,this.value)):r!==null&&co(this.value)===co(r)&&this.matchesComparison(Ts(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends CC{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Nn(e,r)}matches(e){return IC(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function IC(t){return t.op==="and"}function jC(t){return z3(t)&&IC(t)}function z3(t){for(const e of t.filters)if(e instanceof Nn)return!1;return!0}function hv(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+As(t.value);if(jC(t))return t.filters.map(e=>hv(e)).join(",");{const e=t.filters.map(r=>hv(r)).join(",");return`${t.op}(${e})`}}function NC(t,e){return t instanceof Et?function(n,i){return i instanceof Et&&n.op===i.op&&n.field.isEqual(i.field)&&Qn(n.value,i.value)}(t,e):t instanceof Nn?function(n,i){return i instanceof Nn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&NC(o,i.filters[s]),!0):!1}(t,e):void we()}function DC(t){return t instanceof Et?function(r){return`${r.field.canonicalString()} ${r.op} ${As(r.value)}`}(t):t instanceof Nn?function(r){return r.op.toString()+" {"+r.getFilters().map(DC).join(" ,")+"}"}(t):"Filter"}class W3 extends Et{constructor(e,r,n){super(e,r,n),this.key=fe.fromName(n.referenceValue)}matches(e){const r=fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class K3 extends Et{constructor(e,r){super(e,"in",r),this.keys=MC("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class q3 extends Et{constructor(e,r){super(e,"not-in",r),this.keys=MC("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function MC(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>fe.fromName(n.referenceValue))}class H3 extends Et{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return nb(r)&&Yu(r.arrayValue,this.value)}}class G3 extends Et{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Yu(this.value.arrayValue,r)}}class Q3 extends Et{constructor(e,r){super(e,"not-in",r)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Yu(this.value.arrayValue,r)}}class X3 extends Et{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!nb(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Yu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function dS(t,e=null,r=[],n=[],i=null,a=null,o=null){return new Y3(t,e,r,n,i,a,o)}function ib(t){const e=xe(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>hv(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Ap(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>As(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>As(n)).join(",")),e.ue=r}return e.ue}function ab(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!U3(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!NC(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fS(t.startAt,e.startAt)&&fS(t.endAt,e.endAt)}function pv(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function J3(t,e,r,n,i,a,o,s){return new Wc(t,e,r,n,i,a,o,s)}function ob(t){return new Wc(t)}function hS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RC(t){return t.collectionGroup!==null}function gu(t){const e=xe(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Xt(Ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new th(a,n))}),r.has(Ht.keyField().canonicalString())||e.ce.push(new th(Ht.keyField(),n))}return e.ce}function Kn(t){const e=xe(t);return e.le||(e.le=Z3(e,gu(t))),e.le}function Z3(t,e){if(t.limitType==="F")return dS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new th(i.field,a)});const r=t.endAt?new eh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new eh(t.startAt.position,t.startAt.inclusive):null;return dS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function mv(t,e){const r=t.filters.concat([e]);return new Wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function gv(t,e,r){return new Wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Pp(t,e){return ab(Kn(t),Kn(e))&&t.limitType===e.limitType}function $C(t){return`${ib(Kn(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>DC(i)).join(", ")}]`),Ap(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>As(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>As(i)).join(",")),`Target(${n})`}(Kn(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):fe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of gu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=cS(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,gu(n),i)||n.endAt&&!function(o,s,l){const u=cS(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,gu(n),i))}(t,e)}function eF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LC(t){return(e,r)=>{let n=!1;for(const i of gu(t)){const a=tF(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function tF(t,e,r){const n=t.field.isKeyField()?fe.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Ts(l,u):we()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new pt(fe.comparator);function Pi(){return rF}const FC=new pt(fe.comparator);function ru(...t){let e=FC;for(const r of t)e=e.insert(r.key,r);return e}function VC(t){let e=FC;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ha(){return yu()}function BC(){return yu()}function yu(){return new al(t=>t.toString(),(t,e)=>t.isEqual(e))}const nF=new pt(fe.comparator),iF=new Xt(fe.comparator);function Ie(...t){let e=iF;for(const r of t)e=e.add(r);return e}const aF=new Xt(Le);function oF(){return aF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function UC(t){return{integerValue:""+t}}function sF(t,e){return $3(e)?UC(e):sb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this._=void 0}}function lF(t,e,r){return t instanceof rh?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&tb(a)&&(a=rb(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof Ju?WC(t,e):t instanceof Zu?KC(t,e):function(i,a){const o=zC(i,a),s=pS(o)+pS(i.Pe);return dv(o)&&dv(i.Pe)?UC(s):sb(i.serializer,s)}(t,e)}function uF(t,e,r){return t instanceof Ju?WC(t,e):t instanceof Zu?KC(t,e):r}function zC(t,e){return t instanceof nh?function(n){return dv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class rh extends kp{}class Ju extends kp{constructor(e){super(),this.elements=e}}function WC(t,e){const r=qC(e);for(const n of t.elements)r.some(i=>Qn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Zu extends kp{constructor(e){super(),this.elements=e}}function KC(t,e){let r=qC(e);for(const n of t.elements)r=r.filter(i=>!Qn(i,n));return{arrayValue:{values:r}}}class nh extends kp{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function pS(t){return vt(t.integerValue||t.doubleValue)}function qC(t){return nb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cF(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Ju&&i instanceof Ju||n instanceof Zu&&i instanceof Zu?Es(n.elements,i.elements,Qn):n instanceof nh&&i instanceof nh?Qn(n.Pe,i.Pe):n instanceof rh&&i instanceof rh}(t.transform,e.transform)}class fF{constructor(e,r){this.version=e,this.transformResults=r}}class Cr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cp{}function HC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ip(t.key,Cr.none()):new Kc(t.key,t.data,Cr.none());{const r=t.data,n=Er.empty();let i=new Xt(Ht.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Ea(t.key,n,new Vr(i.toArray()),Cr.none())}}function dF(t,e,r){t instanceof Kc?function(i,a,o){const s=i.value.clone(),l=gS(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof Ea?function(i,a,o){if(!xd(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=gS(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(GC(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function vu(t,e,r,n){return t instanceof Kc?function(a,o,s,l){if(!xd(a.precondition,o))return s;const u=a.value.clone(),c=yS(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ea?function(a,o,s,l){if(!xd(a.precondition,o))return s;const u=yS(a.fieldTransforms,l,o),c=o.data;return c.setAll(GC(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return xd(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function hF(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=zC(n.transform,i||null);a!=null&&(r===null&&(r=Er.empty()),r.set(n.field,a))}return r||null}function mS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Es(n,i,(a,o)=>cF(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends Cp{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ea extends Cp{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function GC(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function gS(t,e,r){const n=new Map;Ue(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,uF(o,s,r[i]))}return n}function yS(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,lF(a,o,e))}return n}class Ip extends Cp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pF extends Cp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&dF(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=vu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=vu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=BC();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=HC(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(r,n)=>mS(r,n))&&Es(this.baseMutations,e.baseMutations,(r,n)=>mS(r,n))}}class lb{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ue(e.mutations.length===n.length);let i=function(){return nF}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new lb(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ne;function vF(t){switch(t){default:return we();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function QC(t){if(t===void 0)return Ai("GRPC error has no .code"),Y.UNKNOWN;switch(t){case xt.OK:return Y.OK;case xt.CANCELLED:return Y.CANCELLED;case xt.UNKNOWN:return Y.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Y.INTERNAL;case xt.UNAVAILABLE:return Y.UNAVAILABLE;case xt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case xt.NOT_FOUND:return Y.NOT_FOUND;case xt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case xt.ABORTED:return Y.ABORTED;case xt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case xt.DATA_LOSS:return Y.DATA_LOSS;default:return we()}}(Ne=xt||(xt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new eo([4294967295,4294967295],0);function vS(t){const e=wF().encode(t),r=new wC;return r.update(e),new Uint8Array(r.digest())}function wS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new eo([r,n],0),new eo([i,a],0)]}class ub{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new nu(`Invalid padding: ${r}`);if(n<0)throw new nu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new nu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=eo.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(eo.fromNumber(n)));return i.compare(bF)===1&&(i=new eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=vS(e),[n,i]=wS(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new ub(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=vS(e),[n,i]=wS(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new jp(be.min(),i,new pt(Le),Pi(),Ie())}}class qc{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new qc(n,r,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class XC{constructor(e,r){this.targetId=e,this.me=r}}class YC{constructor(e,r,n=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class bS{constructor(){this.fe=0,this.ge=_S(),this.pe=Jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),r=Ie(),n=Ie();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:we()}}),new qc(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=_S()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=xS(),this.Qe=new pt(Le)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:we()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(pv(a))if(n===0){const o=new fe(a.path);this.Ue(r,o,lr.newNoDocument(o,be.min()))}else Ue(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=uo(n).toUint8Array()}catch(l){if(l instanceof OC)return Ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new ub(o,i,a)}catch(l){return Ss(l instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&pv(s.target)){const l=new fe(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,lr.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=Ie();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new jp(e,r,this.Qe,this.ke,n);return this.ke=Pi(),this.qe=xS(),this.Qe=new pt(Le),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new bS,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Xt(Le),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ue("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bS),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function xS(){return new pt(fe.comparator)}function _S(){return new pt(fe.comparator)}const _F={asc:"ASCENDING",desc:"DESCENDING"},SF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EF={and:"AND",or:"OR"};class TF{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function yv(t,e){return t.useProto3Json||Ap(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AF(t,e){return ih(t,e.toTimestamp())}function qn(t){return Ue(!!t),be.fromTimestamp(function(r){const n=wa(r);return new jt(n.seconds,n.nanos)}(t))}function cb(t,e){return vv(t,e).canonicalString()}function vv(t,e){const r=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function ZC(t){const e=it.fromString(t);return Ue(iI(e)),e}function wv(t,e){return cb(t.databaseId,e.path)}function bg(t,e){const r=ZC(e);if(r.get(1)!==t.databaseId.projectId)throw new oe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new oe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new fe(tI(r))}function eI(t,e){return cb(t.databaseId,e)}function PF(t){const e=ZC(t);return e.length===4?it.emptyPath():tI(e)}function bv(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tI(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SS(t,e,r){return{name:wv(t,e),fields:r.value.mapValue.fields}}function OF(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Ue(c===void 0||typeof c=="string"),Jt.fromBase64String(c||"")):(Ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Jt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?Y.UNKNOWN:QC(u.code);return new oe(c,u.message||"")}(o);r=new YC(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=bg(t,n.document.name),a=qn(n.document.updateTime),o=n.document.createTime?qn(n.document.createTime):be.min(),s=new Er({mapValue:{fields:n.document.fields}}),l=lr.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new _d(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=bg(t,n.document),a=n.readTime?qn(n.readTime):be.min(),o=lr.newNoDocument(i,a),s=n.removedTargetIds||[];r=new _d([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=bg(t,n.document),a=n.removedTargetIds||[];r=new _d([],a,i,null)}else{if(!("filter"in e))return we();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new yF(i,a),s=n.targetId;r=new XC(s,o)}}return r}function kF(t,e){let r;if(e instanceof Kc)r={update:SS(t,e.key,e.value)};else if(e instanceof Ip)r={delete:wv(t,e.key)};else if(e instanceof Ea)r={update:SS(t,e.key,e.data),updateMask:LF(e.fieldMask)};else{if(!(e instanceof pF))return we();r={verify:wv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ju)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Zu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof nh)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw we()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:AF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:we()}(t,e.precondition)),r}function CF(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?qn(i.updateTime):qn(a);return o.isEqual(be.min())&&(o=qn(a)),new fF(o,i.transformResults||[])}(r,e))):[]}function IF(t,e){return{documents:[eI(t,e.path)]}}function jF(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=eI(t,i);const a=function(u){if(u.length!==0)return nI(Nn.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Vo(h.field),direction:MF(h.dir)}}(c))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=yv(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function NF(t){let e=PF(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ue(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];r.where&&(a=function(f){const h=rI(f);return h instanceof Nn&&jC(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(g){return new th(Bo(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Ap(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new eh(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new eh(p,h)}(r.endAt)),J3(e,i,o,a,s,"F",l,u)}function DF(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function rI(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Bo(r.unaryFilter.field);return Et.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Bo(r.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bo(r.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bo(r.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(r){return Et.create(Bo(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Nn.create(r.compositeFilter.filters.map(n=>rI(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(r.compositeFilter.op))}(t):we()}function MF(t){return _F[t]}function RF(t){return SF[t]}function $F(t){return EF[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function Bo(t){return Ht.fromServerFormat(t.fieldPath)}function nI(t){return t instanceof Et?function(r){if(r.op==="=="){if(uS(r.value))return{unaryFilter:{field:Vo(r.field),op:"IS_NAN"}};if(lS(r.value))return{unaryFilter:{field:Vo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(uS(r.value))return{unaryFilter:{field:Vo(r.field),op:"IS_NOT_NAN"}};if(lS(r.value))return{unaryFilter:{field:Vo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(r.field),op:RF(r.op),value:r.value}}}(t):t instanceof Nn?function(r){const n=r.getFilters().map(i=>nI(i));return n.length===1?n[0]:{compositeFilter:{op:$F(r.op),filters:n}}}(t):we()}function LF(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function iI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,r,n,i,a=be.min(),o=be.min(),s=Jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.ct=e}}function VF(t){const e=NF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.un=new UF}addToCollectionParentIndex(e,r){return this.un.add(r),ee.resolve()}getCollectionParents(e,r){return ee.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ee.resolve()}deleteFieldIndex(e,r){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,r){return ee.resolve()}getDocumentsMatchingTarget(e,r){return ee.resolve(null)}getIndexType(e,r){return ee.resolve(0)}getFieldIndexes(e,r){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,r){return ee.resolve(va.min())}getMinOffsetFromCollectionGroup(e,r){return ee.resolve(va.min())}updateCollectionGroup(e,r,n){return ee.resolve()}updateIndexEntries(e,r){return ee.resolve()}}class UF{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Xt(it.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Xt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ps(0)}static kn(){return new Ps(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.changes=new al(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ee.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&vu(n.mutation,i,Vr.empty(),jt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ie()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ie()){const i=Ha();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=ru();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Ha();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ie()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=Pi();const o=yu(),s=function(){return yu()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ea)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),vu(c.mutation,u,c.mutation.getFieldMask(),jt.now())):o.set(u.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>{var f;return s.set(u,new WF(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=yu();let i=new pt((o,s)=>o-s),a=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Vr.empty();c=s.applyToLocalView(u,c),n.set(l,c);const f=(i.get(s.batchId)||Ie()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=BC();c.forEach(h=>{if(!a.has(h)){const p=HC(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):RC(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ee.resolve(Ha());let s=-1,l=a;return o.next(u=>ee.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Ie())).next(c=>({batchId:s,changes:VC(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fe(r)).next(n=>{let i=ru();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=ru();return this.indexManager.getCollectionParents(e,a).next(s=>ee.forEach(s,l=>{const u=function(f,h){return new Wc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,lr.newInvalidDocument(c)))});let s=ru();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&vu(c.mutation,u,Vr.empty(),jt.now()),Op(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ee.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:qn(i.createTime)}}(r)),ee.resolve()}getNamedQuery(e,r){return ee.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:VF(i.bundledQuery),readTime:qn(i.readTime)}}(r)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.overlays=new pt(fe.comparator),this.Ir=new Map}getOverlay(e,r){return ee.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ha();return ee.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),ee.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),ee.resolve()}getOverlaysForCollection(e,r,n){const i=Ha(),a=r.length+1,o=new fe(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new pt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Ha(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ha(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return ee.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new gF(r,n));let a=this.Ir.get(r);a===void 0&&(a=Ie(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.Tr=new Xt(Rt.Er),this.dr=new Xt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Rt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Rt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new fe(new it([])),n=new Rt(r,e),i=new Rt(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new fe(new it([])),n=new Rt(r,e),i=new Rt(r,e+1);let a=Ie();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Rt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Rt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return fe.comparator(e.key,r.key)||Le(e.wr,r.wr)}static Ar(e,r){return Le(e.wr,r.wr)||fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Xt(Rt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mF(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Rt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,r){return ee.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Rt(r,0),i=new Rt(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Xt(Le);return r.forEach(i=>{const a=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),ee.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;fe.isDocumentKey(a)||(a=a.child(""));const o=new Rt(new fe(a),0);let s=new Xt(Le);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),ee.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ue(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ee.forEach(r.mutations,i=>{const a=new Rt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Rt(r,0),i=this.br.firstAfterOrEqual(n);return ee.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.Mr=e,this.docs=function(){return new pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ee.resolve(n?n.document.mutableCopy():lr.newInvalidDocument(r))}getEntries(e,r){let n=Pi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():lr.newInvalidDocument(i))}),ee.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Pi();const o=r.path,s=new fe(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||N3(j3(c),n)<=0||(i.has(c.key)||Op(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,r,n,i){we()}Or(e,r){return ee.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new YF(this)}getSize(e){return ee.resolve(this.size)}}class YF extends zF{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ee.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.persistence=e,this.Nr=new al(r=>ib(r),ab),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fb,this.targetCount=0,this.kr=Ps.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Ps(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ee.resolve()}updateTargetData(e,r){return this.Kn(r),ee.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ee.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ee.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ee.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ee.resolve(n)}containsKey(e,r){return ee.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,r){this.qr={},this.overlays={},this.Qr=new eb(0),this.Kr=!1,this.Kr=!0,this.$r=new GF,this.referenceDelegate=e(this),this.Ur=new JF(this),this.indexManager=new BF,this.remoteDocumentCache=function(i){return new XF(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new FF(r),this.Gr=new qF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new HF,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new QF(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ue("MemoryPersistence","Starting transaction:",e);const i=new eV(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return ee.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class eV extends M3{constructor(e){super(),this.currentSequenceNumber=e}}class db{constructor(e){this.persistence=e,this.Jr=new fb,this.Yr=null}static Zr(e){return new db(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ee.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ee.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ee.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,n=>{const i=fe.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ee.or([()=>ee.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ie(),i=Ie();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new hb(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iL()?8:R3(rL())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new tV;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Vl()<=De.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Fo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Vl()<=De.DEBUG&&ue("QueryEngine","Query:",Fo(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Vl()<=De.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Fo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(r))):ee.resolve())}Yi(e,r){if(hS(r))return ee.resolve(null);let n=Kn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=gv(r,null,"F"),n=Kn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Ie(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,s);return this.ns(r,u,o,l.readTime)?this.Yi(e,gv(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return hS(r)||i.isEqual(be.min())?ee.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?ee.resolve(null):(Vl()<=De.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fo(r)),this.rs(e,o,r,I3(i,-1)).next(s=>s))})}ts(e,r){let n=new Xt(LC(e));return r.forEach((i,a)=>{Op(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Vl()<=De.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Fo(r)),this.Ji.getDocumentsMatchingQuery(e,r,va.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new pt(Le),this._s=new al(a=>ib(a),ab),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function iV(t,e,r,n){return new nV(t,e,r,n)}async function aI(t,e){const r=xe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Ie();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function aV(t,e){const r=xe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=ee.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(y=>{const v=u.docVersions.get(g);Ue(v!==null),y.version.compareTo(v)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Ie();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function oI(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function oV(t,e){const r=xe(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(f,p),function(y,v,_){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,c)&&s.push(r.Ur.updateTargetData(a,p))});let l=Pi(),u=Ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(sV(a,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(be.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return ee.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function sV(t,e,r){let n=Ie(),i=Ie();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Pi();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ue("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function lV(t,e){const r=xe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function uV(t,e){const r=xe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,ee.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new ea(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function xv(t,e,r){const n=xe(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zc(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function ES(t,e,r){const n=xe(t);let i=be.min(),a=Ie();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=xe(l),h=f._s.get(c);return h!==void 0?ee.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(n,o,Kn(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:be.min(),r?a:Ie())).next(s=>(cV(n,eF(e),s),{documents:s,Ts:a})))}function cV(t,e,r){let n=t.us.get(e)||be.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class TS{constructor(){this.activeTargetIds=oF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fV{constructor(){this.so=new TS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new TS,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=null;function xg(){return qf===null?qf=function(){return 268435456+Math.round(2147483648*Math.random())}():qf++,"0x"+qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="WebChannelConnection";class mV extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=xg(),l=this.xo(r,n.toUriEncodedString());ue("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(r,l,u,i).then(c=>(ue("RestConnection",`Received RPC '${r}' ${s}: `,c),c),c=>{throw Ss("RestConnection",`RPC '${r}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=hV[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=xg();return new Promise((o,s)=>{const l=new bC;l.setWithCredentials(!0),l.listenOnce(xC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wd.NO_ERROR:const c=l.getResponseJson();ue(ir,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case wd.TIMEOUT:ue(ir,`RPC '${e}' ${a} timed out`),s(new oe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const f=l.getStatus();if(ue(ir,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_)>=0?_:Y.UNKNOWN}(p.status);s(new oe(g,p.message))}else s(new oe(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new oe(Y.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(ir,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);ue(ir,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=xg(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EC(),s=SC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");ue(ir,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let h=!1,p=!1;const g=new pV({Io:v=>{p?ue(ir,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ue(ir,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ue(ir,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),y=(v,_,b)=>{v.listen(_,E=>{try{b(E)}catch(k){setTimeout(()=>{throw k},0)}})};return y(f,tu.EventType.OPEN,()=>{p||(ue(ir,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(f,tu.EventType.CLOSE,()=>{p||(p=!0,ue(ir,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(f,tu.EventType.ERROR,v=>{p||(p=!0,Ss(ir,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new oe(Y.UNAVAILABLE,"The operation could not be completed")))}),y(f,tu.EventType.MESSAGE,v=>{var _;if(!p){const b=v.data[0];Ue(!!b);const E=b,k=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(k){ue(ir,`RPC '${e}' stream ${i} received error:`,k);const T=k.status;let P=function(O){const j=xt[O];if(j!==void 0)return QC(j)}(T),S=k.message;P===void 0&&(P=Y.INTERNAL,S="Unknown error status: "+T+" with message "+k.message),p=!0,g.So(new oe(P,S)),f.close()}else ue(ir,`RPC '${e}' stream ${i} received:`,b),g.bo(b)}}),y(s,_C.STAT_EVENT,v=>{v.stat===cv.PROXY?ue(ir,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===cv.NOPROXY&&ue(ir,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){return new TF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sI(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(Ai(r.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new oe(Y.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gV extends lI{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=OF(this.serializer,e),n=function(a){if(!("targetChange"in a))return be.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?qn(o.readTime):be.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=bv(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=pv(l)?{documents:IF(a,l)}:{query:jF(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=JC(a,o.resumeToken);const u=yv(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(be.min())>0){s.readTime=ih(a,o.snapshotVersion.toTimestamp());const u=yv(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=DF(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=bv(this.serializer),r.removeTarget=e,this.a_(r)}}class yV extends lI{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=CF(e.writeResults,e.commitTime),n=qn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=bv(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>kF(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,vv(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new oe(Y.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,vv(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class wV{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ai(r),this.D_=!1):ue("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{So(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await Hc(u),u.q_.set("Unknown"),u.L_.delete(4),await Dp(u)}(this))})}),this.q_=new wV(n,i)}}async function Dp(t){if(So(t))for(const e of t.B_)await e(!0)}async function Hc(t){for(const e of t.B_)await e(!1)}function uI(t,e){const r=xe(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),yb(r)?gb(r):ol(r).r_()&&mb(r,e))}function pb(t,e){const r=xe(t),n=ol(r);r.N_.delete(e),n.r_()&&cI(r,e),r.N_.size===0&&(n.r_()?n.o_():So(r)&&r.q_.set("Unknown"))}function mb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ol(t).A_(e)}function cI(t,e){t.Q_.xe(e),ol(t).R_(e)}function gb(t){t.Q_=new xF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.q_.v_()}function yb(t){return So(t)&&!ol(t).n_()&&t.N_.size>0}function So(t){return xe(t).L_.size===0}function fI(t){t.Q_=void 0}async function xV(t){t.q_.set("Online")}async function _V(t){t.N_.forEach((e,r)=>{mb(t,e)})}async function SV(t,e){fI(t),yb(t)?(t.q_.M_(e),gb(t)):t.q_.set("Unknown")}async function EV(t,e,r){if(t.q_.set("Online"),e instanceof YC&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ah(t,n)}else if(e instanceof _d?t.Q_.Ke(e):e instanceof XC?t.Q_.He(e):t.Q_.We(e),!r.isEqual(be.min()))try{const n=await oI(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Jt.EMPTY_BYTE_STRING,c.snapshotVersion)),cI(a,l);const f=new ea(c.target,l,u,c.sequenceNumber);mb(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ue("RemoteStore","Failed to raise snapshot:",n),await ah(t,n)}}async function ah(t,e,r){if(!zc(e))throw e;t.L_.add(1),await Hc(t),t.q_.set("Offline"),r||(r=()=>oI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Dp(t)})}function dI(t,e){return e().catch(r=>ah(t,r,e))}async function Mp(t){const e=xe(t),r=ba(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;TV(e);)try{const i=await lV(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,AV(e,i)}catch(i){await ah(e,i)}hI(e)&&pI(e)}function TV(t){return So(t)&&t.O_.length<10}function AV(t,e){t.O_.push(e);const r=ba(t);r.r_()&&r.V_&&r.m_(e.mutations)}function hI(t){return So(t)&&!ba(t).n_()&&t.O_.length>0}function pI(t){ba(t).start()}async function PV(t){ba(t).p_()}async function OV(t){const e=ba(t);for(const r of t.O_)e.m_(r.mutations)}async function kV(t,e,r){const n=t.O_.shift(),i=lb.from(n,e,r);await dI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mp(t)}async function CV(t,e){e&&ba(t).V_&&await async function(n,i){if(function(o){return vF(o)&&o!==Y.ABORTED}(i.code)){const a=n.O_.shift();ba(n).s_(),await dI(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Mp(n)}}(t,e),hI(t)&&pI(t)}async function PS(t,e){const r=xe(t);r.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const n=So(r);r.L_.add(3),await Hc(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Dp(r)}async function IV(t,e){const r=xe(t);e?(r.L_.delete(2),await Dp(r)):e||(r.L_.add(2),await Hc(r),r.q_.set("Unknown"))}function ol(t){return t.K_||(t.K_=function(r,n,i){const a=xe(r);return a.w_(),new gV(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:xV.bind(null,t),Ro:_V.bind(null,t),mo:SV.bind(null,t),d_:EV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),yb(t)?gb(t):t.q_.set("Unknown")):(await t.K_.stop(),fI(t))})),t.K_}function ba(t){return t.U_||(t.U_=function(r,n,i){const a=xe(r);return a.w_(),new yV(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:PV.bind(null,t),mo:CV.bind(null,t),f_:OV.bind(null,t),g_:kV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Mp(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new vb(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wb(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),zc(t))return new oe(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.comparator=e?(r,n)=>e(r,n)||fe.comparator(r.key,n.key):(r,n)=>fe.comparator(r.key,n.key),this.keyedMap=ru(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new cs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new cs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.W_=new pt(fe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Os{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Os(e,r,cs.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class NV{constructor(){this.queries=kS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=xe(r),a=i.queries;i.queries=kS(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new oe(Y.ABORTED,"Firestore shutting down"))}}function kS(){return new al(t=>$C(t),Pp)}async function mI(t,e){const r=xe(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new jV,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=wb(o,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&bb(r)}async function gI(t,e){const r=xe(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function DV(t,e){const r=xe(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&bb(r)}function MV(t,e,r){const n=xe(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function bb(t){t.Y_.forEach(e=>{e.next()})}var _v,CS;(CS=_v||(_v={})).ea="default",CS.Cache="cache";class yI{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Os(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_v.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.key=e}}class wI{constructor(e){this.key=e}}class RV{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=LC(e),this.Ra=new cs(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new OS,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Op(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(n.track({type:3,doc:p}),v=!0):this.ga(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(o=o.add(p),a=y?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,f)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return y(p)-y(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Os(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new OS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new wI(n))}),this.da.forEach(n=>{e.has(n)||r.push(new vI(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ie();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Os.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $V{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class LV{constructor(e){this.key=e,this.va=!1}}class FV{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new al(s=>$C(s),Pp),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(fe.comparator),this.Na=new Map,this.La=new fb,this.Ba={},this.ka=new Map,this.qa=Ps.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function VV(t,e,r=!0){const n=TI(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await bI(n,e,r,!0),i}async function BV(t,e){const r=TI(t);await bI(r,e,!0,!1)}async function bI(t,e,r,n){const i=await uV(t.localStore,Kn(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await UV(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&uI(t.remoteStore,i),s}async function UV(t,e,r,n,i){t.Ka=(f,h,p)=>async function(y,v,_,b){let E=v.view.ma(_);E.ns&&(E=await ES(y.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,E)));const k=b&&b.targetChanges.get(v.targetId),T=b&&b.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(E,y.isPrimaryClient,k,T);return jS(y,v.targetId,P.wa),P.snapshot}(t,f,h,p);const a=await ES(t.localStore,e,!0),o=new RV(e,a.Ts),s=o.ma(a.documents),l=qc.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);jS(t,r,u.wa);const c=new $V(e,r,o);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function zV(t,e,r){const n=xe(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Pp(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await xv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&pb(n.remoteStore,i.targetId),Sv(n,i.targetId)}).catch(Uc)):(Sv(n,i.targetId),await xv(n.localStore,i.targetId,!0))}async function WV(t,e){const r=xe(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),pb(r.remoteStore,n.targetId))}async function KV(t,e,r){const n=JV(t);try{const i=await function(o,s){const l=xe(o),u=jt.now(),c=s.reduce((p,g)=>p.add(g.key),Ie());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Pi(),y=Ie();return l.cs.getEntries(p,c).next(v=>{g=v,g.forEach((_,b)=>{b.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const _=[];for(const b of s){const E=hF(b,f.get(b.key).overlayedDocument);E!=null&&_.push(new Ea(b.key,E,kC(E.value.mapValue),Cr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:VC(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new pt(Le)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(n,i.batchId,r),await Gc(n,i.changes),await Mp(n.remoteStore)}catch(i){const a=wb(i,"Failed to persist write");r.reject(a)}}async function xI(t,e){const r=xe(t);try{const n=await oV(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ue(o.va):i.removedDocuments.size>0&&(Ue(o.va),o.va=!1))}),await Gc(r,n,e)}catch(n){await Uc(n)}}function IS(t,e,r){const n=xe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=xe(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&bb(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function qV(t,e,r){const n=xe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new pt(fe.comparator);o=o.insert(a,lr.newNoDocument(a,be.min()));const s=Ie().add(a),l=new jp(be.min(),new Map,new pt(Le),o,s);await xI(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),xb(n)}else await xv(n.localStore,e,!1).then(()=>Sv(n,e,r)).catch(Uc)}async function HV(t,e){const r=xe(t),n=e.batch.batchId;try{const i=await aV(r.localStore,e);SI(r,n,null),_I(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Gc(r,i)}catch(i){await Uc(i)}}async function GV(t,e,r){const n=xe(t);try{const i=await function(o,s){const l=xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ue(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);SI(n,e,r),_I(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Gc(n,i)}catch(i){await Uc(i)}}function _I(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function SI(t,e,r){const n=xe(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Sv(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||EI(t,n)})}function EI(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(pb(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),xb(t))}function jS(t,e,r){for(const n of r)n instanceof vI?(t.La.addReference(n.key,e),QV(t,n)):n instanceof wI?(ue("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||EI(t,n.key)):we()}function QV(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ue("SyncEngine","New document in limbo: "+r),t.xa.add(n),xb(t))}function xb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new fe(it.fromString(e)),n=t.qa.next();t.Na.set(n,new LV(r)),t.Oa=t.Oa.insert(r,n),uI(t.remoteStore,new ea(Kn(ob(r.path)),n,"TargetPurposeLimboResolution",eb.oe))}}async function Gc(t,e,r){const n=xe(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=hb.Wi(l.targetId,u);a.push(f)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,u){const c=xe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,h=>ee.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ee.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!zc(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,y)}}}(n.localStore,a))}async function XV(t,e){const r=xe(t);if(!r.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const n=await aI(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new oe(Y.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Gc(r,n.hs)}}function YV(t,e){const r=xe(t),n=r.Na.get(e);if(n&&n.va)return Ie().add(n.key);{let i=Ie();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function TI(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qV.bind(null,e),e.Ca.d_=DV.bind(null,e.eventManager),e.Ca.$a=MV.bind(null,e.eventManager),e}function JV(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GV.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Np(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return iV(this.persistence,new rV,e.initialUser,this.serializer)}Ga(e){return new ZF(db.Zr,this.serializer)}Wa(e){return new fV}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class Ev{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>IS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=XV.bind(null,this.syncEngine),await IV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NV}()}createDatastore(e){const r=Np(e.databaseInfo.databaseId),n=function(a){return new mV(a)}(e.databaseInfo);return function(a,o,s,l){return new vV(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new bV(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>IS(this.syncEngine,r,0),function(){return AS.D()?new AS:new dV}())}createSyncEngine(e,r){return function(i,a,o,s,l,u,c){const f=new FV(i,a,o,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=xe(i);ue("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Hc(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ev.provider={build:()=>new Ev};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=or.UNAUTHENTICATED,this.clientId=AC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=wb(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sg(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await aI(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NS(t,e){t.asyncQueue.verifyOperationInProgress();const r=await e6(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>PS(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>PS(e.remoteStore,i)),t._onlineComponents=e}async function e6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Ss("Error using user provided cache. Falling back to memory cache: "+r),await Sg(t,new oh)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Sg(t,new oh);return t._offlineComponents}async function PI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await NS(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await NS(t,new Ev))),t._onlineComponents}function t6(t){return PI(t).then(e=>e.syncEngine)}async function OI(t){const e=await PI(t),r=e.eventManager;return r.onListen=VV.bind(null,e.syncEngine),r.onUnlisten=zV.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=BV.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=WV.bind(null,e.syncEngine),r}function r6(t,e,r={}){const n=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new AI({next:h=>{c.Za(),o.enqueueAndForget(()=>gI(a,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new oe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new oe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new yI(ob(s.path),c,{includeMetadataChanges:!0,_a:!0});return mI(a,f)}(await OI(t),t.asyncQueue,e,r,n)),n.promise}function n6(t,e,r={}){const n=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new AI({next:h=>{c.Za(),o.enqueueAndForget(()=>gI(a,f)),h.fromCache&&l.source==="server"?u.reject(new oe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new yI(s,c,{includeMetadataChanges:!0,_a:!0});return mI(a,f)}(await OI(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e,r){if(!r)throw new oe(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i6(t,e,r,n){if(e===!0&&n===!0)throw new oe(Y.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function MS(t){if(!fe.isDocumentKey(t))throw new oe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RS(t){if(fe.isDocumentKey(t))throw new oe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Rp(t);throw new oe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kI((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $p{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $S({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $S(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _3;switch(n.type){case"firstParty":return new A3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new oe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=DS.get(r);n&&(ue("ComponentProvider","Removing Datastore"),DS.delete(r),n.terminate())}(this),Promise.resolve()}}function a6(t,e,r,n={}){var i;const a=(t=Dn(t,$p))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=or.MOCK_USER;else{s=tL(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new oe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new or(u)}t._authCredentials=new S3(new TC(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sl(this.firestore,e,this._query)}}class wr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class ha extends sl{constructor(e,r,n){super(e,r,ob(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new fe(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function Nr(t,e,...r){if(t=jn(t),CI("collection","path",e),t instanceof $p){const n=it.fromString(e,...r);return RS(n),new ha(t,null,n)}{if(!(t instanceof wr||t instanceof ha))throw new oe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(it.fromString(e,...r));return RS(n),new ha(t.firestore,null,n)}}function At(t,e,...r){if(t=jn(t),arguments.length===1&&(e=AC.newId()),CI("doc","path",e),t instanceof $p){const n=it.fromString(e,...r);return MS(n),new wr(t,null,new fe(n))}{if(!(t instanceof wr||t instanceof ha))throw new oe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(it.fromString(e,...r));return MS(n),new wr(t.firestore,t instanceof ha?t.converter:null,new fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sI(this,"async_queue_retry"),this.Vu=()=>{const n=_g();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=_g();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=_g();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new yi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zc(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw Ai("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=vb.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Eo extends $p{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new LS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LS(e),this._firestoreClient=void 0,await e}}}function o6(t,e){const r=typeof t=="object"?t:c3(),n=typeof t=="string"?t:"(default)",i=o3(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Z4("firestore");a&&a6(i,...a)}return i}function Lp(t){if(t._terminated)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||s6(t),t._firestoreClient}function s6(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,u,c){return new F3(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ZV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(Jt.fromBase64String(e))}catch(r){throw new oe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ks(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new oe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new oe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new oe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=/^__.*__$/;class u6{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,r,this.fieldTransforms):new Kc(e,this.data,r,this.fieldTransforms)}}class II{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ea(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function jI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Tb{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Tb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jI(this.Cu)&&l6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class c6{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Np(e)}Qu(e,r,n,i=!1){return new Tb({Cu:e,methodName:r,qu:n,path:Ht.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fp(t){const e=t._freezeSettings(),r=Np(t._databaseId);return new c6(t._databaseId,!!e.ignoreUndefinedProperties,r)}function NI(t,e,r,n,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);Ab("Data must be an object, but it was:",o,n);const s=RI(n,o);let l,u;if(a.merge)l=new Vr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=Tv(e,f,r);if(!o.contains(h))throw new oe(Y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);LI(c,h)||c.push(h)}l=new Vr(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new u6(new Er(s),l,u)}class Vp extends _b{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vp}}function DI(t,e,r,n){const i=t.Qu(1,e,r);Ab("Data must be an object, but it was:",i,n);const a=[],o=Er.empty();_o(n,(l,u)=>{const c=Pb(e,l,r);u=jn(u);const f=i.Nu(c);if(u instanceof Vp)a.push(c);else{const h=Xc(u,f);h!=null&&(a.push(c),o.set(c,h))}});const s=new Vr(a);return new II(o,s,i.fieldTransforms)}function MI(t,e,r,n,i,a){const o=t.Qu(1,e,r),s=[Tv(e,n,r)],l=[i];if(a.length%2!=0)throw new oe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Tv(e,a[h])),l.push(a[h+1]);const u=[],c=Er.empty();for(let h=s.length-1;h>=0;--h)if(!LI(u,s[h])){const p=s[h];let g=l[h];g=jn(g);const y=o.Nu(p);if(g instanceof Vp)u.push(p);else{const v=Xc(g,y);v!=null&&(u.push(p),c.set(p,v))}}const f=new Vr(u);return new II(c,f,o.fieldTransforms)}function f6(t,e,r,n=!1){return Xc(r,t.Qu(n?4:3,e))}function Xc(t,e){if($I(t=jn(t)))return Ab("Unsupported field value:",e,t),RI(t,e);if(t instanceof _b)return function(n,i){if(!jI(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Xc(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=jn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=jt.fromDate(n);return{timestampValue:ih(i.serializer,a)}}if(n instanceof jt){const a=new jt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ih(i.serializer,a)}}if(n instanceof Sb)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ks)return{bytesValue:JC(i.serializer,n._byteString)};if(n instanceof wr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cb(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Eb)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return sb(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Rp(n)}`)}(t,e)}function RI(t,e){const r={};return PC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(n,i)=>{const a=Xc(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function $I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof Sb||t instanceof ks||t instanceof wr||t instanceof _b||t instanceof Eb)}function Ab(t,e,r){if(!$I(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Rp(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Tv(t,e,r){if((e=jn(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return Pb(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,r)}const d6=new RegExp("[~\\*/\\[\\]]");function Pb(t,e,r){if(e.search(d6)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Qc(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function sh(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new oe(Y.INVALID_ARGUMENT,s+t+l)}function LI(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ob("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class h6 extends FI{data(){return super.data()}}function Ob(t,e){return typeof e=="string"?Pb(t,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kb{}class m6 extends kb{}function Eg(t,e,...r){let n=[];e instanceof kb&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof Cb).length,s=a.filter(l=>l instanceof Bp).length;if(o>1||o>0&&s>0)throw new oe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Bp extends m6{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Bp(e,r,n)}_apply(e){const r=this._parse(e);return VI(e._query,r),new sl(e.firestore,e.converter,mv(e._query,r))}_parse(e){const r=Fp(e.firestore);return function(a,o,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new oe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){BS(f,c);const p=[];for(const g of f)p.push(VS(l,a,g));h={arrayValue:{values:p}}}else h=VS(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||BS(f,c),h=f6(s,o,f,c==="in"||c==="not-in");return Et.create(u,c,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function FS(t,e,r){const n=e,i=Ob("where",t);return Bp._create(i,n,r)}class Cb extends kb{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Cb(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Nn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)VI(o,l),o=mv(o,l)}(e._query,r),new sl(e.firestore,e.converter,mv(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function VS(t,e,r){if(typeof(r=jn(r))=="string"){if(r==="")throw new oe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RC(e)&&r.indexOf("/")!==-1)throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(it.fromString(r));if(!fe.isDocumentKey(n))throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return sS(t,new fe(n))}if(r instanceof wr)return sS(t,r._key);throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rp(r)}.`)}function BS(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VI(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new oe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class g6{convertValue(e,r="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return _o(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>vt(o.doubleValue));return new Eb(a)}convertGeoPoint(e){return new Sb(vt(e.latitude),vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=rb(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const r=wa(e);return new jt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=it.fromString(e);Ue(iI(n));const i=new Xu(n.get(1),n.get(3)),a=new fe(n.popFirst(5));return i.isEqual(r)||Ai(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UI extends FI{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Ob("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Sd extends UI{data(e={}){return super.data(e)}}class y6{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new iu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Sd(this._firestore,this._userDataWriter,n.key,n,new iu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new oe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Sd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new iu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Sd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new iu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:v6(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function v6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){t=Dn(t,wr);const e=Dn(t.firestore,Eo);return r6(Lp(e),t._key).then(r=>w6(e,t,r))}class zI extends g6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,r)}}function $n(t){t=Dn(t,sl);const e=Dn(t.firestore,Eo),r=Lp(e),n=new zI(e);return p6(t._query),n6(r,t._query).then(i=>new y6(e,n,t,i))}function Ag(t,e,r){t=Dn(t,wr);const n=Dn(t.firestore,Eo),i=BI(t.converter,e,r);return Up(n,[NI(Fp(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Cr.none())])}function Pg(t,e,r,...n){t=Dn(t,wr);const i=Dn(t.firestore,Eo),a=Fp(i);let o;return o=typeof(e=jn(e))=="string"||e instanceof Qc?MI(a,"updateDoc",t._key,e,r,n):DI(a,"updateDoc",t._key,e),Up(i,[o.toMutation(t._key,Cr.exists(!0))])}function US(t){return Up(Dn(t.firestore,Eo),[new Ip(t._key,Cr.none())])}function Up(t,e){return function(n,i){const a=new yi;return n.asyncQueue.enqueueAndForget(async()=>KV(await t6(n),i,a)),a.promise}(Lp(t),e)}function w6(t,e,r){const n=r.docs.get(e._key),i=new zI(t);return new UI(t,i,e._key,n,new iu(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Fp(e)}set(e,r,n){this._verifyNotCommitted();const i=Og(e,this._firestore),a=BI(i.converter,r,n),o=NI(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,Cr.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=Og(e,this._firestore);let o;return o=typeof(r=jn(r))=="string"||r instanceof Qc?MI(this._dataReader,"WriteBatch.update",a._key,r,n,i):DI(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,Cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Og(e,this._firestore);return this._mutations=this._mutations.concat(new Ip(r._key,Cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Og(t,e){if((t=jn(t)).firestore!==e)throw new oe(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return Lp(t=Dn(t,Eo)),new b6(t,e=>Up(t,e))}(function(e,r=!0){(function(i){il=i})(u3),Jd(new qu("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Eo(new E3(n.getProvider("auth-internal")),new O3(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),us(rS,"4.7.3",e),us(rS,"4.7.3","esm2017")})();const x6={apiKey:"",authDomain:"gen-lang-client-0762353481.firebaseapp.com",projectId:"gen-lang-client-0762353481",storageBucket:"gen-lang-client-0762353481.firebasestorage.app",messagingSenderId:"295805539111",appId:"1:295805539111:web:b39fde57f54d4a77448f02",measurementId:"G-VWVCJ4Z0HT"},_6=gC(x6),Ae=o6(_6),zS=[{id:"1",fullName:"Owner User",email:"owner@demo.com",password:"123456",role:J.Owner,teamId:null},{id:"2",fullName:"Supervisor User",email:"supervisor@demo.com",password:"123456",role:J.Supervisor,teamId:null},{id:"3",fullName:"Team Leader User",email:"leader@demo.com",password:"123456",role:J.TeamLeader,teamId:"t1"},{id:"4",fullName:"Assistant User",email:"assistant@demo.com",password:"123456",role:J.Assistant,teamId:"t1"},{id:"5",fullName:"Agent One",email:"agent1@demo.com",password:"123456",role:J.Agent,teamId:"t1"},{id:"6",fullName:"Agent Two",email:"agent2@demo.com",password:"123456",role:J.Agent,teamId:"t1"},{id:"7",fullName:"Agent Three",email:"agent3@demo.com",password:"123456",role:J.Agent,teamId:"t2"}],WS=[{id:"t1",teamName:"Alpha Team",leaderId:"3",assistantId:"4"},{id:"t2",teamName:"Bravo Team",leaderId:null,assistantId:null}],S6=z4.map((t,e)=>({id:`task-${e+1}`,taskName:t})),kg=[{key:"Attendance %",calculationSource:"Attendance %",displayName:"Attendance",weight:5,isEditable:!0,description:"Contribution from daily attendance score (0-5).",isDeletable:!0,isCustom:!1,formula:"Score (0-5) maps to 0-100%, multiplied by Weight."},{key:"login %",calculationSource:"login %",displayName:"Login",weight:10,isEditable:!0,description:"Contribution from login time based on duty hours.",isDeletable:!0,isCustom:!1,formula:"Login time maps to 0-100% based on duty hours, multiplied by Weight."},{key:"On Queue %",calculationSource:"On Queue %",displayName:"On Queue",weight:15,isEditable:!0,description:"For Call Center tasks. Contribution from time spent on queue.",isDeletable:!0,isCustom:!1,formula:"Queue time maps to 0-100% based on duty hours, multiplied by Weight."},{key:"Target %",calculationSource:"Target %",displayName:"Target",weight:15,isEditable:!0,description:"For Dispatch tasks. Contribution from meeting targets.",isDeletable:!0,isCustom:!1,formula:"(Achieved / Baseline Target) * 100 * Weight."},{key:"Avg Talk %",calculationSource:"Avg Talk %",displayName:"Avg Talk",weight:5,isEditable:!0,description:"For Call Center tasks. Penalty/reward based on average talk time.",isDeletable:!0,isCustom:!1,formula:"Starts at max score, penalty applied for time over 90s."},{key:"ASA %",calculationSource:"ASA %",displayName:"ASA",weight:5,isEditable:!0,description:"For Call Center tasks. Penalty/reward based on Average Speed of Answer.",isDeletable:!0,isCustom:!1,formula:"Starts at max score, penalty applied for ASA over 5s."},{key:"DS Productivity %",calculationSource:"DS Productivity %",displayName:"DS Productivity",weight:10,isEditable:!0,description:"For Dispatch tasks. Penalty for productivity issues.",isDeletable:!0,isCustom:!1,formula:"Max score minus penalty points."},{key:"AMS Productivity %",calculationSource:"AMS Productivity %",displayName:"AMS Productivity",weight:25,isEditable:!0,description:"For AMS & Social Media tasks. Penalty for productivity issues.",isDeletable:!0,isCustom:!1,formula:"Max score minus penalty points."},{key:"Productivity %",calculationSource:"Productivity %",displayName:"Productivity",weight:25,isEditable:!0,description:"For other tasks. Contribution from productivity score.",isDeletable:!0,isCustom:!1,formula:"(Productivity / 100) * (Weight * 100)."},{key:"Mistakes %",calculationSource:"Mistakes %",displayName:"Mistakes",weight:15,isEditable:!0,description:"Penalty based on number of mistakes.",isDeletable:!0,isCustom:!1,formula:"Max score minus penalty points."},{key:"Bonus %",calculationSource:"Bonus %",displayName:"Bonus",weight:0,isEditable:!0,description:"Bonus points are added directly to the overall score. Weight is not applicable.",isDeletable:!0,isCustom:!1,formula:"Direct value added to final score."},{key:"QA %",calculationSource:"QA %",displayName:"QA %",weight:35,isEditable:!0,description:"Score from Quality Assurance. This value is the maximum possible score.",isDeletable:!0,isCustom:!1,formula:"Direct value added to final score."},{key:"PK %",calculationSource:"PK %",displayName:"PK %",weight:10,isEditable:!0,description:"Score from Product Knowledge test. This value is the maximum possible score.",isDeletable:!0,isCustom:!1,formula:"Direct value added to final score."}],Cg=(t,e)=>{try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`Error reading from localStorage key “${t}”:`,r),e}},Ig=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error writing to localStorage key “${t}”:`,r)}};class E6{constructor(){this.users=[],this.teams=[],this.tasks=[],this.kpiFactors=[],this.activityLogs=[],this.auditLogs=[],this.activityLogs=Cg("activityLogs",[]),this.auditLogs=Cg("auditLogs",[]),this.init()}async init(){localStorage.getItem("seeded_v3")!=="true"&&(await this.seedData(),localStorage.setItem("seeded_v3","true")),await this.populateLocalCache()}async populateLocalCache(){this.users=await this.getUsers(),this.teams=await this.getTeams(),this.tasks=await this.getTasks(),this.kpiFactors=await this.getKpiFactors(),this.populateTeamsWithAgents()}async seedData(){console.log("Seeding data to Firestore..."),await this.seedUsers(),await this.seedTeams(),await this.seedTasks(),await this.seedKpiFactors(),await this.seedKpis(),console.log("Seeding complete.")}async seedUsers(){const e=Nr(Ae,"users");if((await $n(e)).empty){console.log("Seeding Users...");const n=si(Ae);zS.forEach(i=>{const a=At(Ae,"users",i.id);n.set(a,i)}),await n.commit()}}async seedTeams(){const e=Nr(Ae,"teams");if((await $n(e)).empty){console.log("Seeding Teams...");const n=si(Ae);WS.forEach(i=>{const a=At(Ae,"teams",i.id);n.set(a,i)}),await n.commit()}}async seedTasks(){const e=Nr(Ae,"tasks");if((await $n(e)).empty){console.log("Seeding Tasks...");const n=si(Ae);S6.forEach(i=>{const a=At(Ae,"tasks",i.id);n.set(a,i)}),await n.commit()}}async seedKpiFactors(){const e=Nr(Ae,"kpiFactors");if((await $n(e)).empty){console.log("Seeding KPI Factors...");const n=si(Ae);kg.forEach(i=>{const a=At(Ae,"kpiFactors",i.key);n.set(a,i)}),await n.commit()}}async seedKpis(){const e=Nr(Ae,"kpis");if((await $n(e)).empty){console.log("Seeding KPIs...");const n=zS.filter(u=>u.role===J.Agent),i=[],a=new Date,o=kg.find(u=>u.calculationSource==="QA %")??{weight:35},s=kg.find(u=>u.calculationSource==="PK %")??{weight:10};for(let u=0;u<30;u++)for(const c of n){const f=new Date(a);f.setDate(a.getDate()-u);const h=f.toISOString().split("T")[0],p=f.toLocaleDateString("en-US",{weekday:"long"}),g=WS.find(y=>y.id===c.teamId);i.push({userId:c.id,"Agent name":c.fullName,Team:(g==null?void 0:g.teamName)||"Unknown",Date:h,Day:p,Task:de.CQ,"Duty Hours":8,Attendance:5,login:"08:00:00","On Queue":"07:30:00","Avg Talk":`00:0${Math.floor(Math.random()*5)}:${Math.floor(Math.random()*60)}`,ASA:Math.floor(Math.random()*10),Mistakes:Math.floor(Math.random()*5),Bonus:Math.floor(Math.random()*3),"QA %":Math.floor(Math.random()*(o.weight-o.weight*.8+1)+o.weight*.8),"PK %":Math.floor(Math.random()*(s.weight-s.weight*.5+1)+s.weight*.5),Remarks:"Seeded data"})}const l=si(Ae);i.forEach(u=>{const c=At(Nr(Ae,"kpis"));l.set(c,u)}),await l.commit()}}populateTeamsWithAgents(){this.users.length&&this.teams.forEach(e=>{e.agents=this.users.filter(r=>r.teamId===e.id)})}saveData(){Ig("activityLogs",this.activityLogs),Ig("auditLogs",this.auditLogs)}getCurrentUser(){return Cg("user",null)}async login(e,r){const n=this.users.find(i=>i.email===e&&i.password===r);if(n)return this.logActivity({action:"LOGIN",affectedTable:"users",recordId:n.id,details:"User logged in"}),Ig("user",n),n;throw new Error("Invalid email or password")}async logActivity(e){const r=this.getCurrentUser();if(!r)return;const n={id:crypto.randomUUID(),timestamp:new Date().toISOString(),userId:r.id,userFullName:r.fullName,...e};this.activityLogs.unshift(n),this.saveData()}logAudit(e,r){const n=this.getCurrentUser();if(!n||n.role===J.Agent)return;const i=this.users.find(l=>l.id===r.userId);if(!i)return;const a=e?"UPDATE":"CREATE",o=[];for(const l in r){const u=l;String(e==null?void 0:e[u])!==String(r[u])&&o.push({field:String(u),oldValue:(e==null?void 0:e[u])??"N/A",newValue:r[u]??"N/A"})}if(o.length===0)return;const s={id:crypto.randomUUID(),timestamp:new Date().toISOString(),userId:n.id,userFullName:n.fullName,action:a,agentName:i.fullName,teamName:r.Team,kpiDate:r.Date,changes:o};this.auditLogs.unshift(s),this.saveData()}async getUsers(){const e=Nr(Ae,"users");return(await $n(e)).docs.map(n=>n.data())}async createUser(e){const r=crypto.randomUUID(),n={id:r,...e};return await Ag(At(Ae,"users",r),n),this.logActivity({action:"CREATE_USER",affectedTable:"users",recordId:n.id,details:`Created user ${n.fullName}`}),await this.populateLocalCache(),n}async updateUser(e,r){const n=At(Ae,"users",e);return await Pg(n,r),this.logActivity({action:"UPDATE_USER",affectedTable:"users",recordId:e,details:"Updated user info"}),await this.populateLocalCache(),(await Tg(n)).data()}async deleteUser(e){await US(At(Ae,"users",e)),this.logActivity({action:"DELETE_USER",affectedTable:"users",recordId:e,details:"Deleted user"}),await this.populateLocalCache()}async createUsersBulk(e){const r=si(Ae);e.forEach(n=>{const i=crypto.randomUUID(),a=At(Ae,"users",i);r.set(a,{id:i,...n})}),await r.commit(),this.logActivity({action:"BULK_CREATE_USERS",affectedTable:"users",recordId:"",details:`Imported ${e.length} users.`}),await this.populateLocalCache()}async deleteUsersBulk(e){const r=si(Ae);e.forEach(n=>{const i=At(Ae,"users",n);r.delete(i)}),await r.commit(),this.logActivity({action:"BULK_DELETE_USERS",affectedTable:"users",recordId:"",details:`Deleted ${e.length} users`}),await this.populateLocalCache()}async getTeams(){const e=Nr(Ae,"teams"),n=(await $n(e)).docs.map(i=>({...i.data(),id:i.id}));return this.teams=n,this.populateTeamsWithAgents(),this.teams}async getTeamById(e){const r=At(Ae,"teams",e),n=await Tg(r);if(n.exists()){const i={...n.data(),id:n.id};return i.agents=this.users.filter(a=>a.teamId===e),i}}async createTeam(e){const r=At(Nr(Ae,"teams")),n={teamName:e,leaderId:null,assistantId:null};await Ag(r,n);const i={...n,id:r.id,agents:[]};return this.logActivity({action:"CREATE_TEAM",affectedTable:"teams",recordId:r.id,details:`Created team ${e}`}),await this.populateLocalCache(),i}async renameTeam(e,r){const n=At(Ae,"teams",e);await Pg(n,{teamName:r}),this.logActivity({action:"RENAME_TEAM",affectedTable:"teams",recordId:e,details:`Renamed team to ${r}`}),await this.populateLocalCache();const i=await this.getTeamById(e);if(!i)throw new Error("Team not found after update");return i}async getTasks(){const e=Nr(Ae,"tasks");return(await $n(e)).docs.map(n=>n.data())}async getKpiFactors(){if(this.kpiFactors.length>0)return this.kpiFactors;const e=Nr(Ae,"kpiFactors"),r=await $n(e);return r.empty?[]:r.docs.map(n=>n.data())}async updateKpiFactors(e){const r=si(Ae);e.forEach(n=>{const i=At(Ae,"kpiFactors",n.key);r.set(i,n)}),await r.commit(),this.logActivity({action:"UPDATE_KPI_FACTORS",affectedTable:"settings",recordId:"",details:"Updated KPI calculation factors."}),await this.populateLocalCache()}async getKpis(e){const r=Nr(Ae,"kpis");let n=Eg(r);if(e.userId&&(n=Eg(n,FS("userId","==",e.userId))),e.teamId){const s=await this.getTeamById(e.teamId);if(s)n=Eg(n,FS("Team","==",s.teamName));else return[]}const a=(await $n(n)).docs.map(s=>({...s.data(),id:s.id})),o=await this.getKpiFactors();return a.map(s=>U4(s,o)).sort((s,l)=>new Date(l.Date).getTime()-new Date(s.Date).getTime())}async getKpiById(e){const r=At(Ae,"kpis",e),n=await Tg(r);return n.exists()?{...n.data(),id:n.id}:void 0}async createKpi(e){const r=At(Nr(Ae,"kpis")),n={...e,id:r.id};return await Ag(r,n),this.logActivity({action:"CREATE_KPI",affectedTable:"kpis",recordId:n.id,details:"Created KPI entry"}),this.logAudit(void 0,n),n}async updateKpi(e,r){const n=At(Ae,"kpis",e),i=await this.getKpiById(e);if(!i)throw new Error("KPI not found");await Pg(n,r);const a={...i,...r};return this.logActivity({action:"UPDATE_KPI",affectedTable:"kpis",recordId:e,details:"Updated KPI entry"}),this.logAudit(i,a),a}async deleteKpi(e){const r=At(Ae,"kpis",e);await US(r),this.logActivity({action:"DELETE_KPI",affectedTable:"kpis",recordId:e,details:"Deleted KPI entry"})}async deleteKpisBulk(e){const r=si(Ae);e.forEach(n=>{const i=At(Ae,"kpis",n);r.delete(i)}),await r.commit(),this.logActivity({action:"BULK_DELETE_KPIS",affectedTable:"kpis",recordId:"",details:`Deleted ${e.length} KPI entries.`})}async getActivityLogs(){return[...this.activityLogs]}async getAuditLogs(){return[...this.auditLogs]}async createTask(e){throw new Error("Deprecated")}async updateTask(e,r){throw new Error("Deprecated")}async deleteTask(e){throw new Error("Deprecated")}async deleteTasksBulk(e){throw new Error("Deprecated")}async getMissingEntries(e){return[]}async getTeamRank(e,r,n){return{}}async getAgentPerformanceSummary(e,r,n){return[]}}const ce=new E6,WI=D.createContext(void 0),T6=({children:t})=>{const[e,r]=D.useState(null),[n,i]=D.useState(!0),a=Bc(),o=D.useCallback(async()=>{try{const c=localStorage.getItem("user");if(c){const f=JSON.parse(c);r(f)}}catch(c){console.error("Failed to check user session",c),r(null),localStorage.removeItem("user")}finally{i(!1)}},[]);D.useEffect(()=>{o()},[o]);const s=async(c,f)=>{i(!0);try{const h=await ce.login(c,f);r(h),localStorage.setItem("user",JSON.stringify(h)),a("/dashboard")}catch(h){throw console.error(h),h}finally{i(!1)}},l=()=>{e&&ce.logActivity({action:"LOGOUT",affectedTable:"users",recordId:e.id,details:"User logged out"}),r(null),localStorage.removeItem("user"),window.location.hash="/login"},u=c=>{r(c),localStorage.setItem("user",JSON.stringify(c))};return m.jsx(WI.Provider,{value:{user:e,isAuthenticated:!!e,login:s,logout:l,loading:n,updateUserContext:u},children:t})},_r=()=>{const t=D.useContext(WI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},me=({children:t,variant:e="primary",size:r="md",isLoading:n=!1,className:i="",...a})=>{const o="inline-flex items-center justify-center rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",s={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 dark:bg-primary-500 dark:hover:bg-primary-600",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-primary-500 dark:bg-gray-600 dark:text-gray-100 dark:hover:bg-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 dark:bg-red-700 dark:text-gray-100 dark:hover:bg-red-600"},l={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return m.jsxs("button",{className:`${o} ${s[e]} ${l[r]} ${i}`,disabled:n||a.disabled,...a,children:[n?m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,t]})},ve=({label:t,id:e,...r})=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),m.jsx("input",{id:e,className:"block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm text-gray-900 dark:text-white",...r})]}),_e=({children:t,className:e="",title:r})=>m.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg ${e}`,children:[r&&m.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r})}),m.jsx("div",{className:"p-4",children:t})]});/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),KS=t=>{const e=P6(t);return e.charAt(0).toUpperCase()+e.slice(1)},KI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),O6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>D.createElement("svg",{ref:l,...k6,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:KI("lucide",i),...!a&&!O6(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,c])=>D.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(C6,{ref:a,iconNode:e,className:KI(`lucide-${A6(KS(t))}`,`lucide-${t}`,n),...i}));return r.displayName=KS(t),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],j6=Qe("arrow-down",I6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],D6=Qe("arrow-left",N6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],R6=Qe("arrow-up",M6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],L6=Qe("bell",$6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qI=Qe("chevron-down",F6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],wu=Qe("circle-plus",V6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],U6=Qe("circle-user",B6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],W6=Qe("clipboard-list",z6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HI=Qe("download",K6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],H6=Qe("file-chart-column-increasing",q6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Q6=Qe("file-plus",G6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Y6=Qe("file-text",X6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Z6=Qe("history",J6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],t5=Qe("layout-dashboard",e5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],n5=Qe("log-out",r5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],a5=Qe("mail",i5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],s5=Qe("moon",o5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],GI=Qe("save",l5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c5=Qe("settings",u5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QI=Qe("shield-check",f5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ec=Qe("square-pen",d5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],p5=Qe("sun",h5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qi=Qe("trash-2",m5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],y5=Qe("upload",g5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Av=Qe("user",v5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ib=Qe("users",w5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jb=Qe("x",b5),x5=()=>{const[t,e]=D.useState(""),[r,n]=D.useState(""),[i,a]=D.useState(""),{login:o,loading:s}=_r(),l=async c=>{c.preventDefault(),a("");try{await o(t,r)}catch(f){a(f.message||"Failed to login")}},u=c=>{e(c),n("123456")};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"mx-auto flex items-center justify-center h-12 w-auto",children:[m.jsx(QI,{className:"h-12 w-12 text-primary-600"}),m.jsx("span",{className:"ml-3 text-3xl font-bold text-gray-800 dark:text-white",children:"KPI Pro"})]}),m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to your account"})]}),m.jsx(_e,{children:m.jsxs("form",{className:"space-y-6",onSubmit:l,children:[m.jsx(ve,{id:"email",label:"Email address",type:"email",autoComplete:"email",required:!0,value:t,onChange:c=>e(c.target.value)}),m.jsx(ve,{id:"password",label:"Password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:c=>n(c.target.value)}),i&&m.jsx("p",{className:"text-sm text-red-600",children:i}),m.jsx("div",{children:m.jsx(me,{type:"submit",className:"w-full",isLoading:s,children:"Sign in"})})]})}),m.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[m.jsx("p",{children:"Demo accounts (password: 123456)"}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-2",children:[m.jsx("button",{onClick:()=>u("owner@demo.com"),className:"text-xs text-primary-600 hover:underline",children:"Owner"}),m.jsx("button",{onClick:()=>u("supervisor@demo.com"),className:"text-xs text-primary-600 hover:underline",children:"Supervisor"}),m.jsx("button",{onClick:()=>u("leader@demo.com"),className:"text-xs text-primary-600 hover:underline",children:"Team Leader"}),m.jsx("button",{onClick:()=>u("assistant@demo.com"),className:"text-xs text-primary-600 hover:underline",children:"Assistant"}),m.jsx("button",{onClick:()=>u("agent1@demo.com"),className:"text-xs text-primary-600 hover:underline",children:"Agent"})]})]})]})})};function XI(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=XI(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Re(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=XI(t))&&(n&&(n+=" "),n+=e);return n}var _5=Array.isArray,Ir=_5,S5=typeof Tf=="object"&&Tf&&Tf.Object===Object&&Tf,YI=S5,E5=YI,T5=typeof self=="object"&&self&&self.Object===Object&&self,A5=E5||T5||Function("return this")(),ei=A5,P5=ei,O5=P5.Symbol,Yc=O5,qS=Yc,JI=Object.prototype,k5=JI.hasOwnProperty,C5=JI.toString,Bl=qS?qS.toStringTag:void 0;function I5(t){var e=k5.call(t,Bl),r=t[Bl];try{t[Bl]=void 0;var n=!0}catch{}var i=C5.call(t);return n&&(e?t[Bl]=r:delete t[Bl]),i}var j5=I5,N5=Object.prototype,D5=N5.toString;function M5(t){return D5.call(t)}var R5=M5,HS=Yc,$5=j5,L5=R5,F5="[object Null]",V5="[object Undefined]",GS=HS?HS.toStringTag:void 0;function B5(t){return t==null?t===void 0?V5:F5:GS&&GS in Object(t)?$5(t):L5(t)}var Di=B5;function U5(t){return t!=null&&typeof t=="object"}var Mi=U5,z5=Di,W5=Mi,K5="[object Symbol]";function q5(t){return typeof t=="symbol"||W5(t)&&z5(t)==K5}var ll=q5,H5=Ir,G5=ll,Q5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X5=/^\w*$/;function Y5(t,e){if(H5(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||G5(t)?!0:X5.test(t)||!Q5.test(t)||e!=null&&t in Object(e)}var Nb=Y5;function J5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ta=J5;const ul=Ge(Ta);var Z5=Di,eB=Ta,tB="[object AsyncFunction]",rB="[object Function]",nB="[object GeneratorFunction]",iB="[object Proxy]";function aB(t){if(!eB(t))return!1;var e=Z5(t);return e==rB||e==nB||e==tB||e==iB}var Db=aB;const Ee=Ge(Db);var oB=ei,sB=oB["__core-js_shared__"],lB=sB,jg=lB,QS=function(){var t=/[^.]+$/.exec(jg&&jg.keys&&jg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function uB(t){return!!QS&&QS in t}var cB=uB,fB=Function.prototype,dB=fB.toString;function hB(t){if(t!=null){try{return dB.call(t)}catch{}try{return t+""}catch{}}return""}var ZI=hB,pB=Db,mB=cB,gB=Ta,yB=ZI,vB=/[\\^$.*+?()[\]{}|]/g,wB=/^\[object .+?Constructor\]$/,bB=Function.prototype,xB=Object.prototype,_B=bB.toString,SB=xB.hasOwnProperty,EB=RegExp("^"+_B.call(SB).replace(vB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TB(t){if(!gB(t)||mB(t))return!1;var e=pB(t)?EB:wB;return e.test(yB(t))}var AB=TB;function PB(t,e){return t==null?void 0:t[e]}var OB=PB,kB=AB,CB=OB;function IB(t,e){var r=CB(t,e);return kB(r)?r:void 0}var To=IB,jB=To,NB=jB(Object,"create"),zp=NB,XS=zp;function DB(){this.__data__=XS?XS(null):{},this.size=0}var MB=DB;function RB(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $B=RB,LB=zp,FB="__lodash_hash_undefined__",VB=Object.prototype,BB=VB.hasOwnProperty;function UB(t){var e=this.__data__;if(LB){var r=e[t];return r===FB?void 0:r}return BB.call(e,t)?e[t]:void 0}var zB=UB,WB=zp,KB=Object.prototype,qB=KB.hasOwnProperty;function HB(t){var e=this.__data__;return WB?e[t]!==void 0:qB.call(e,t)}var GB=HB,QB=zp,XB="__lodash_hash_undefined__";function YB(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=QB&&e===void 0?XB:e,this}var JB=YB,ZB=MB,e9=$B,t9=zB,r9=GB,n9=JB;function cl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cl.prototype.clear=ZB;cl.prototype.delete=e9;cl.prototype.get=t9;cl.prototype.has=r9;cl.prototype.set=n9;var i9=cl;function a9(){this.__data__=[],this.size=0}var o9=a9;function s9(t,e){return t===e||t!==t&&e!==e}var Mb=s9,l9=Mb;function u9(t,e){for(var r=t.length;r--;)if(l9(t[r][0],e))return r;return-1}var Wp=u9,c9=Wp,f9=Array.prototype,d9=f9.splice;function h9(t){var e=this.__data__,r=c9(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():d9.call(e,r,1),--this.size,!0}var p9=h9,m9=Wp;function g9(t){var e=this.__data__,r=m9(e,t);return r<0?void 0:e[r][1]}var y9=g9,v9=Wp;function w9(t){return v9(this.__data__,t)>-1}var b9=w9,x9=Wp;function _9(t,e){var r=this.__data__,n=x9(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var S9=_9,E9=o9,T9=p9,A9=y9,P9=b9,O9=S9;function fl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fl.prototype.clear=E9;fl.prototype.delete=T9;fl.prototype.get=A9;fl.prototype.has=P9;fl.prototype.set=O9;var Kp=fl,k9=To,C9=ei,I9=k9(C9,"Map"),Rb=I9,YS=i9,j9=Kp,N9=Rb;function D9(){this.size=0,this.__data__={hash:new YS,map:new(N9||j9),string:new YS}}var M9=D9;function R9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $9=R9,L9=$9;function F9(t,e){var r=t.__data__;return L9(e)?r[typeof e=="string"?"string":"hash"]:r.map}var qp=F9,V9=qp;function B9(t){var e=V9(this,t).delete(t);return this.size-=e?1:0,e}var U9=B9,z9=qp;function W9(t){return z9(this,t).get(t)}var K9=W9,q9=qp;function H9(t){return q9(this,t).has(t)}var G9=H9,Q9=qp;function X9(t,e){var r=Q9(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Y9=X9,J9=M9,Z9=U9,eU=K9,tU=G9,rU=Y9;function dl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dl.prototype.clear=J9;dl.prototype.delete=Z9;dl.prototype.get=eU;dl.prototype.has=tU;dl.prototype.set=rU;var $b=dl,e2=$b,nU="Expected a function";function Lb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(nU);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Lb.Cache||e2),r}Lb.Cache=e2;var t2=Lb;const iU=Ge(t2);var aU=t2,oU=500;function sU(t){var e=aU(t,function(n){return r.size===oU&&r.clear(),n}),r=e.cache;return e}var lU=sU,uU=lU,cU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fU=/\\(\\)?/g,dU=uU(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(cU,function(r,n,i,a){e.push(i?a.replace(fU,"$1"):n||r)}),e}),hU=dU;function pU(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Fb=pU,JS=Yc,mU=Fb,gU=Ir,yU=ll,ZS=JS?JS.prototype:void 0,eE=ZS?ZS.toString:void 0;function r2(t){if(typeof t=="string")return t;if(gU(t))return mU(t,r2)+"";if(yU(t))return eE?eE.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var vU=r2,wU=vU;function bU(t){return t==null?"":wU(t)}var n2=bU,xU=Ir,_U=Nb,SU=hU,EU=n2;function TU(t,e){return xU(t)?t:_U(t,e)?[t]:SU(EU(t))}var i2=TU,AU=ll;function PU(t){if(typeof t=="string"||AU(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Hp=PU,OU=i2,kU=Hp;function CU(t,e){e=OU(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[kU(e[r++])];return r&&r==n?t:void 0}var Vb=CU,IU=Vb;function jU(t,e,r){var n=t==null?void 0:IU(t,e);return n===void 0?r:n}var a2=jU;const sn=Ge(a2);function NU(t){return t==null}var DU=NU;const ke=Ge(DU);var MU=Di,RU=Ir,$U=Mi,LU="[object String]";function FU(t){return typeof t=="string"||!RU(t)&&$U(t)&&MU(t)==LU}var VU=FU;const fo=Ge(VU);var o2={exports:{}},ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Gp=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),BU=Symbol.for("react.server_context"),Zp=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),nm=Symbol.for("react.lazy"),UU=Symbol.for("react.offscreen"),s2;s2=Symbol.for("react.module.reference");function dn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bb:switch(t=t.type,t){case Gp:case Xp:case Qp:case em:case tm:return t;default:switch(t=t&&t.$$typeof,t){case BU:case Jp:case Zp:case nm:case rm:case Yp:return t;default:return e}}case Ub:return e}}}ze.ContextConsumer=Jp;ze.ContextProvider=Yp;ze.Element=Bb;ze.ForwardRef=Zp;ze.Fragment=Gp;ze.Lazy=nm;ze.Memo=rm;ze.Portal=Ub;ze.Profiler=Xp;ze.StrictMode=Qp;ze.Suspense=em;ze.SuspenseList=tm;ze.isAsyncMode=function(){return!1};ze.isConcurrentMode=function(){return!1};ze.isContextConsumer=function(t){return dn(t)===Jp};ze.isContextProvider=function(t){return dn(t)===Yp};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bb};ze.isForwardRef=function(t){return dn(t)===Zp};ze.isFragment=function(t){return dn(t)===Gp};ze.isLazy=function(t){return dn(t)===nm};ze.isMemo=function(t){return dn(t)===rm};ze.isPortal=function(t){return dn(t)===Ub};ze.isProfiler=function(t){return dn(t)===Xp};ze.isStrictMode=function(t){return dn(t)===Qp};ze.isSuspense=function(t){return dn(t)===em};ze.isSuspenseList=function(t){return dn(t)===tm};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gp||t===Xp||t===Qp||t===em||t===tm||t===UU||typeof t=="object"&&t!==null&&(t.$$typeof===nm||t.$$typeof===rm||t.$$typeof===Yp||t.$$typeof===Jp||t.$$typeof===Zp||t.$$typeof===s2||t.getModuleId!==void 0)};ze.typeOf=dn;o2.exports=ze;var zU=o2.exports,WU=Di,KU=Mi,qU="[object Number]";function HU(t){return typeof t=="number"||KU(t)&&WU(t)==qU}var l2=HU;const GU=Ge(l2);var QU=l2;function XU(t){return QU(t)&&t!=+t}var YU=XU;const Jc=Ge(YU);var An=function(e){return e===0?0:e>0?1:-1},Ga=function(e){return fo(e)&&e.indexOf("%")===e.length-1},ne=function(e){return GU(e)&&!Jc(e)},JU=function(e){return ke(e)},It=function(e){return ne(e)||fo(e)},ZU=0,Zc=function(e){var r=++ZU;return"".concat(e||"").concat(r)},ho=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!fo(e))return n;var a;if(Ga(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Jc(a)&&(a=n),i&&a>r&&(a=r),a},Xi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},ez=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},En=function(e,r){return ne(e)&&ne(r)?function(n){return e+n*(r-e)}:function(){return r}};function lh(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):sn(n,e))===r})}var tz=function(e,r){return ne(e)&&ne(r)?e-r:fo(e)&&fo(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function fs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}var rz=["viewBox","children"],nz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tE=["points","pathLength"],Ng={svg:rz,polygon:tE,polyline:tE},zb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uh=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!ul(n))return null;var i={};return Object.keys(n).forEach(function(a){zb.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},iz=function(e,r,n){return function(i){return e(r,n,i),null}},ch=function(e,r,n){if(!ul(e)||Pv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];zb.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=iz(o,r,n))}),i},az=["children"],oz=["children"];function rE(t,e){if(t==null)return{};var r=sz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}var nE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iE=null,Dg=null,Wb=function t(e){if(e===iE&&Array.isArray(Dg))return Dg;var r=[];return D.Children.forEach(e,function(n){ke(n)||(zU.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Dg=r,iE=e,r};function ln(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return vi(i)}):n=[vi(e)],Wb(t).forEach(function(i){var a=sn(i,"type.displayName")||sn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function $r(t,e){var r=ln(t,e);return r&&r[0]}var aE=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ne(n)||n<=0||!ne(i)||i<=0)},lz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],uz=function(e){return e&&e.type&&fo(e.type)&&lz.indexOf(e.type)>=0},cz=function(e){return e&&Ov(e)==="object"&&"clipDot"in e},fz=function(e,r,n,i){var a,o=(a=Ng==null?void 0:Ng[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ee(e)&&(i&&o.includes(r)||nz.includes(r))||n&&zb.includes(r)},je=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!ul(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;fz((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},kv=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oE(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!oE(a,o))return!1}return!0},oE=function(e,r){if(ke(e)&&ke(r))return!0;if(!ke(e)&&!ke(r)){var n=e.props||{},i=n.children,a=rE(n,az),o=r.props||{},s=o.children,l=rE(o,oz);return i&&s?fs(a,l)&&kv(i,s):!i&&!s?fs(a,l):!1}return!1},sE=function(e,r){var n=[],i={};return Wb(e).forEach(function(a,o){if(uz(a))n.push(a);else if(a){var s=vi(a.type),l=r[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},dz=function(e){var r=e&&e.type;return r&&nE[r]?nE[r]:null},hz=function(e,r){return Wb(r).indexOf(e)},pz=["children","width","height","viewBox","className","style","title","desc"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}function mz(t,e){if(t==null)return{};var r=gz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Iv(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=mz(t,pz),c=i||{width:r,height:n,x:0,y:0},f=Re("recharts-surface",a);return F.createElement("svg",Cv({},je(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),F.createElement("title",null,s),F.createElement("desc",null,l),e)}var yz=["children","className"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jv.apply(this,arguments)}function vz(t,e){if(t==null)return{};var r=wz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bt=F.forwardRef(function(t,e){var r=t.children,n=t.className,i=vz(t,yz),a=Re("recharts-layer",n);return F.createElement("g",jv({className:a},je(i,!0),{ref:e}),r)}),wi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function bz(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var xz=bz,_z=xz;function Sz(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:_z(t,e,r)}var Ez=Sz,Tz="\\ud800-\\udfff",Az="\\u0300-\\u036f",Pz="\\ufe20-\\ufe2f",Oz="\\u20d0-\\u20ff",kz=Az+Pz+Oz,Cz="\\ufe0e\\ufe0f",Iz="\\u200d",jz=RegExp("["+Iz+Tz+kz+Cz+"]");function Nz(t){return jz.test(t)}var u2=Nz;function Dz(t){return t.split("")}var Mz=Dz,c2="\\ud800-\\udfff",Rz="\\u0300-\\u036f",$z="\\ufe20-\\ufe2f",Lz="\\u20d0-\\u20ff",Fz=Rz+$z+Lz,Vz="\\ufe0e\\ufe0f",Bz="["+c2+"]",Nv="["+Fz+"]",Dv="\\ud83c[\\udffb-\\udfff]",Uz="(?:"+Nv+"|"+Dv+")",f2="[^"+c2+"]",d2="(?:\\ud83c[\\udde6-\\uddff]){2}",h2="[\\ud800-\\udbff][\\udc00-\\udfff]",zz="\\u200d",p2=Uz+"?",m2="["+Vz+"]?",Wz="(?:"+zz+"(?:"+[f2,d2,h2].join("|")+")"+m2+p2+")*",Kz=m2+p2+Wz,qz="(?:"+[f2+Nv+"?",Nv,d2,h2,Bz].join("|")+")",Hz=RegExp(Dv+"(?="+Dv+")|"+qz+Kz,"g");function Gz(t){return t.match(Hz)||[]}var Qz=Gz,Xz=Mz,Yz=u2,Jz=Qz;function Zz(t){return Yz(t)?Jz(t):Xz(t)}var e8=Zz,t8=Ez,r8=u2,n8=e8,i8=n2;function a8(t){return function(e){e=i8(e);var r=r8(e)?n8(e):void 0,n=r?r[0]:e.charAt(0),i=r?t8(r,1).join(""):e.slice(1);return n[t]()+i}}var o8=a8,s8=o8,l8=s8("toUpperCase"),u8=l8;const im=Ge(u8);function Xe(t){return function(){return t}}const g2=Math.cos,fh=Math.sin,Mn=Math.sqrt,dh=Math.PI,am=2*dh,Mv=Math.PI,Rv=2*Mv,Ba=1e-6,c8=Rv-Ba;function y2(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function f8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return y2;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class d8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?y2:f8(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,c=o-e,f=s-r,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ba)if(!(Math.abs(f*l-u*c)>Ba)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,g=i-s,y=l*l+u*u,v=p*p+g*g,_=Math.sqrt(y),b=Math.sqrt(h),E=a*Math.tan((Mv-Math.acos((y+h-v)/(2*_*b)))/2),k=E/b,T=E/_;Math.abs(k-1)>Ba&&this._append`L${e+k*c},${r+k*f}`,this._append`A${a},${a},0,0,${+(f*p>c*g)},${this._x1=e+T*l},${this._y1=r+T*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,c=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ba||Math.abs(this._y1-c)>Ba)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%Rv+Rv),h>c8?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:h>Ba&&this._append`A${n},${n},0,${+(h>=Mv)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Kb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new d8(e)}function qb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function v2(t){this._context=t}v2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function om(t){return new v2(t)}function w2(t){return t[0]}function b2(t){return t[1]}function x2(t,e){var r=Xe(!0),n=null,i=om,a=null,o=Kb(s);t=typeof t=="function"?t:t===void 0?w2:Xe(t),e=typeof e=="function"?e:e===void 0?b2:Xe(e);function s(l){var u,c=(l=qb(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Xe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Xe(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Xe(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Hf(t,e,r){var n=null,i=Xe(!0),a=null,o=om,s=null,l=Kb(u);t=typeof t=="function"?t:t===void 0?w2:Xe(+t),e=typeof e=="function"?e:Xe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?b2:Xe(+r);function u(f){var h,p,g,y=(f=qb(f)).length,v,_=!1,b,E=new Array(y),k=new Array(y);for(a==null&&(s=o(b=l())),h=0;h<=y;++h){if(!(h<y&&i(v=f[h],h,f))===_)if(_=!_)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(E[g],k[g]);s.lineEnd(),s.areaEnd()}_&&(E[h]=+t(v,h,f),k[h]=+e(v,h,f),s.point(n?+n(v,h,f):E[h],r?+r(v,h,f):k[h]))}if(b)return s=null,b+""||null}function c(){return x2().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Xe(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Xe(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Xe(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class _2{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function h8(t){return new _2(t,!0)}function p8(t){return new _2(t,!1)}const Hb={draw(t,e){const r=Mn(e/dh);t.moveTo(r,0),t.arc(0,0,r,0,am)}},m8={draw(t,e){const r=Mn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},S2=Mn(1/3),g8=S2*2,y8={draw(t,e){const r=Mn(e/g8),n=r*S2;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},v8={draw(t,e){const r=Mn(e),n=-r/2;t.rect(n,n,r,r)}},w8=.8908130915292852,E2=fh(dh/10)/fh(7*dh/10),b8=fh(am/10)*E2,x8=-g2(am/10)*E2,_8={draw(t,e){const r=Mn(e*w8),n=b8*r,i=x8*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=am*a/5,s=g2(o),l=fh(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Mg=Mn(3),S8={draw(t,e){const r=-Mn(e/(Mg*3));t.moveTo(0,r*2),t.lineTo(-Mg*r,-r),t.lineTo(Mg*r,-r),t.closePath()}},Jr=-.5,Zr=Mn(3)/2,$v=1/Mn(12),E8=($v/2+1)*3,T8={draw(t,e){const r=Mn(e/E8),n=r/2,i=r*$v,a=n,o=r*$v+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Jr*n-Zr*i,Zr*n+Jr*i),t.lineTo(Jr*a-Zr*o,Zr*a+Jr*o),t.lineTo(Jr*s-Zr*l,Zr*s+Jr*l),t.lineTo(Jr*n+Zr*i,Jr*i-Zr*n),t.lineTo(Jr*a+Zr*o,Jr*o-Zr*a),t.lineTo(Jr*s+Zr*l,Jr*l-Zr*s),t.closePath()}};function A8(t,e){let r=null,n=Kb(i);t=typeof t=="function"?t:Xe(t||Hb),e=typeof e=="function"?e:Xe(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Xe(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function hh(){}function ph(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function T2(t){this._context=t}T2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ph(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function P8(t){return new T2(t)}function A2(t){this._context=t}A2.prototype={areaStart:hh,areaEnd:hh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O8(t){return new A2(t)}function P2(t){this._context=t}P2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function k8(t){return new P2(t)}function O2(t){this._context=t}O2.prototype={areaStart:hh,areaEnd:hh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function C8(t){return new O2(t)}function lE(t){return t<0?-1:1}function uE(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(lE(a)+lE(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function cE(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Rg(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function mh(t){this._context=t}mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rg(this,this._t0,cE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rg(this,cE(this,r=uE(this,t,e)),r);break;default:Rg(this,this._t0,r=uE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function k2(t){this._context=new C2(t)}(k2.prototype=Object.create(mh.prototype)).point=function(t,e){mh.prototype.point.call(this,e,t)};function C2(t){this._context=t}C2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function I8(t){return new mh(t)}function j8(t){return new k2(t)}function I2(t){this._context=t}I2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=fE(t),i=fE(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fE(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function N8(t){return new I2(t)}function sm(t,e){this._context=t,this._t=e}sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function D8(t){return new sm(t,.5)}function M8(t){return new sm(t,0)}function R8(t){return new sm(t,1)}function Cs(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Lv(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function $8(t,e){return t[e]}function L8(t){const e=[];return e.key=t,e}function F8(){var t=Xe([]),e=Lv,r=Cs,n=$8;function i(a){var o=Array.from(t.apply(this,arguments),L8),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,c=qb(e(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Xe(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Lv:typeof a=="function"?a:Xe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Cs,i):r},i}function V8(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Cs(t,e)}}function B8(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Cs(t,e)}}function U8(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[n][1]||0,h=c[n-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var y=t[e[g]],v=y[n][1]||0,_=y[n-1][1]||0;p+=v-_}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Cs(t,e)}}function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}var z8=["type","size","sizeType"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fv.apply(this,arguments)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){W8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W8(t,e,r){return e=K8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K8(t){var e=q8(t,"string");return tc(e)=="symbol"?e:e+""}function q8(t,e){if(tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H8(t,e){if(t==null)return{};var r=G8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var j2={symbolCircle:Hb,symbolCross:m8,symbolDiamond:y8,symbolSquare:v8,symbolStar:_8,symbolTriangle:S8,symbolWye:T8},Q8=Math.PI/180,X8=function(e){var r="symbol".concat(im(e));return j2[r]||Hb},Y8=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Q8;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},J8=function(e,r){j2["symbol".concat(im(e))]=r},Gb=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=H8(e,z8),u=hE(hE({},l),{},{type:n,size:a,sizeType:s}),c=function(){var v=X8(n),_=A8().type(v).size(Y8(a,s,n));return _()},f=u.className,h=u.cx,p=u.cy,g=je(u,!0);return h===+h&&p===+p&&a===+a?F.createElement("path",Fv({},g,{className:Re("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};Gb.registerSymbol=J8;function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vv.apply(this,arguments)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){rc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D2(n.key),n)}}function r7(t,e,r){return e&&t7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n7(t,e,r){return e=gh(e),i7(t,N2()?Reflect.construct(e,r||[],gh(t).constructor):e.apply(t,r))}function i7(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a7(t)}function a7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N2=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(t)}function o7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bv(t,e)}function rc(t,e,r){return e=D2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D2(t){var e=s7(t,"string");return Is(e)=="symbol"?e:e+""}function s7(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var en=32,Qb=function(t){function e(){return e7(this,e),n7(this,e,arguments)}return o7(e,t),r7(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=en/2,o=en/6,s=en/3,l=n.inactive?i:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:en,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(en,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(en/8,"h").concat(en,"v").concat(en*3/4,"h").concat(-en,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var u=Z8({},n);return delete u.legendIcon,F.cloneElement(n.legendIcon,u)}return F.createElement(Gb,{fill:l,cx:a,cy:a,size:en,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:en,height:en},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var y=p.formatter||l,v=Re(rc(rc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=Ee(p.value)?null:p.value;wi(!Ee(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return F.createElement("li",Vv({className:v,style:f,key:"legend-item-".concat(g)},ch(n.props,p,g)),F.createElement(Iv,{width:o,height:o,viewBox:c,style:h},n.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(_,p,g):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);rc(Qb,"displayName","Legend");rc(Qb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var l7=Kp;function u7(){this.__data__=new l7,this.size=0}var c7=u7;function f7(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var d7=f7;function h7(t){return this.__data__.get(t)}var p7=h7;function m7(t){return this.__data__.has(t)}var g7=m7,y7=Kp,v7=Rb,w7=$b,b7=200;function x7(t,e){var r=this.__data__;if(r instanceof y7){var n=r.__data__;if(!v7||n.length<b7-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new w7(n)}return r.set(t,e),this.size=r.size,this}var _7=x7,S7=Kp,E7=c7,T7=d7,A7=p7,P7=g7,O7=_7;function hl(t){var e=this.__data__=new S7(t);this.size=e.size}hl.prototype.clear=E7;hl.prototype.delete=T7;hl.prototype.get=A7;hl.prototype.has=P7;hl.prototype.set=O7;var M2=hl,k7="__lodash_hash_undefined__";function C7(t){return this.__data__.set(t,k7),this}var I7=C7;function j7(t){return this.__data__.has(t)}var N7=j7,D7=$b,M7=I7,R7=N7;function yh(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new D7;++e<r;)this.add(t[e])}yh.prototype.add=yh.prototype.push=M7;yh.prototype.has=R7;var R2=yh;function $7(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var $2=$7;function L7(t,e){return t.has(e)}var L2=L7,F7=R2,V7=$2,B7=L2,U7=1,z7=2;function W7(t,e,r,n,i,a){var o=r&U7,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=r&z7?new F7:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],y=e[f];if(n)var v=o?n(y,g,f,e,t,a):n(g,y,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!V7(e,function(_,b){if(!B7(p,b)&&(g===_||i(g,_,r,n,a)))return p.push(b)})){h=!1;break}}else if(!(g===y||i(g,y,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var F2=W7,K7=ei,q7=K7.Uint8Array,H7=q7;function G7(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Q7=G7;function X7(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Xb=X7,mE=Yc,gE=H7,Y7=Mb,J7=F2,Z7=Q7,eW=Xb,tW=1,rW=2,nW="[object Boolean]",iW="[object Date]",aW="[object Error]",oW="[object Map]",sW="[object Number]",lW="[object RegExp]",uW="[object Set]",cW="[object String]",fW="[object Symbol]",dW="[object ArrayBuffer]",hW="[object DataView]",yE=mE?mE.prototype:void 0,$g=yE?yE.valueOf:void 0;function pW(t,e,r,n,i,a,o){switch(r){case hW:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dW:return!(t.byteLength!=e.byteLength||!a(new gE(t),new gE(e)));case nW:case iW:case sW:return Y7(+t,+e);case aW:return t.name==e.name&&t.message==e.message;case lW:case cW:return t==e+"";case oW:var s=Z7;case uW:var l=n&tW;if(s||(s=eW),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=rW,o.set(t,e);var c=J7(s(t),s(e),n,i,a,o);return o.delete(t),c;case fW:if($g)return $g.call(t)==$g.call(e)}return!1}var mW=pW;function gW(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var V2=gW,yW=V2,vW=Ir;function wW(t,e,r){var n=e(t);return vW(t)?n:yW(n,r(t))}var bW=wW;function xW(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var _W=xW;function SW(){return[]}var EW=SW,TW=_W,AW=EW,PW=Object.prototype,OW=PW.propertyIsEnumerable,vE=Object.getOwnPropertySymbols,kW=vE?function(t){return t==null?[]:(t=Object(t),TW(vE(t),function(e){return OW.call(t,e)}))}:AW,CW=kW;function IW(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var jW=IW,NW=Di,DW=Mi,MW="[object Arguments]";function RW(t){return DW(t)&&NW(t)==MW}var $W=RW,wE=$W,LW=Mi,B2=Object.prototype,FW=B2.hasOwnProperty,VW=B2.propertyIsEnumerable,BW=wE(function(){return arguments}())?wE:function(t){return LW(t)&&FW.call(t,"callee")&&!VW.call(t,"callee")},Yb=BW,vh={exports:{}};function UW(){return!1}var zW=UW;vh.exports;(function(t,e){var r=ei,n=zW,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(vh,vh.exports);var U2=vh.exports,WW=9007199254740991,KW=/^(?:0|[1-9]\d*)$/;function qW(t,e){var r=typeof t;return e=e??WW,!!e&&(r=="number"||r!="symbol"&&KW.test(t))&&t>-1&&t%1==0&&t<e}var Jb=qW,HW=9007199254740991;function GW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=HW}var Zb=GW,QW=Di,XW=Zb,YW=Mi,JW="[object Arguments]",ZW="[object Array]",eK="[object Boolean]",tK="[object Date]",rK="[object Error]",nK="[object Function]",iK="[object Map]",aK="[object Number]",oK="[object Object]",sK="[object RegExp]",lK="[object Set]",uK="[object String]",cK="[object WeakMap]",fK="[object ArrayBuffer]",dK="[object DataView]",hK="[object Float32Array]",pK="[object Float64Array]",mK="[object Int8Array]",gK="[object Int16Array]",yK="[object Int32Array]",vK="[object Uint8Array]",wK="[object Uint8ClampedArray]",bK="[object Uint16Array]",xK="[object Uint32Array]",rt={};rt[hK]=rt[pK]=rt[mK]=rt[gK]=rt[yK]=rt[vK]=rt[wK]=rt[bK]=rt[xK]=!0;rt[JW]=rt[ZW]=rt[fK]=rt[eK]=rt[dK]=rt[tK]=rt[rK]=rt[nK]=rt[iK]=rt[aK]=rt[oK]=rt[sK]=rt[lK]=rt[uK]=rt[cK]=!1;function _K(t){return YW(t)&&XW(t.length)&&!!rt[QW(t)]}var SK=_K;function EK(t){return function(e){return t(e)}}var z2=EK,wh={exports:{}};wh.exports;(function(t,e){var r=YI,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(wh,wh.exports);var TK=wh.exports,AK=SK,PK=z2,bE=TK,xE=bE&&bE.isTypedArray,OK=xE?PK(xE):AK,W2=OK,kK=jW,CK=Yb,IK=Ir,jK=U2,NK=Jb,DK=W2,MK=Object.prototype,RK=MK.hasOwnProperty;function $K(t,e){var r=IK(t),n=!r&&CK(t),i=!r&&!n&&jK(t),a=!r&&!n&&!i&&DK(t),o=r||n||i||a,s=o?kK(t.length,String):[],l=s.length;for(var u in t)(e||RK.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||NK(u,l)))&&s.push(u);return s}var LK=$K,FK=Object.prototype;function VK(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||FK;return t===r}var BK=VK;function UK(t,e){return function(r){return t(e(r))}}var K2=UK,zK=K2,WK=zK(Object.keys,Object),KK=WK,qK=BK,HK=KK,GK=Object.prototype,QK=GK.hasOwnProperty;function XK(t){if(!qK(t))return HK(t);var e=[];for(var r in Object(t))QK.call(t,r)&&r!="constructor"&&e.push(r);return e}var YK=XK,JK=Db,ZK=Zb;function eq(t){return t!=null&&ZK(t.length)&&!JK(t)}var ef=eq,tq=LK,rq=YK,nq=ef;function iq(t){return nq(t)?tq(t):rq(t)}var lm=iq,aq=bW,oq=CW,sq=lm;function lq(t){return aq(t,sq,oq)}var uq=lq,_E=uq,cq=1,fq=Object.prototype,dq=fq.hasOwnProperty;function hq(t,e,r,n,i,a){var o=r&cq,s=_E(t),l=s.length,u=_E(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:dq.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var _=t[h],b=e[h];if(n)var E=o?n(b,_,h,e,t,a):n(_,b,h,t,e,a);if(!(E===void 0?_===b||i(_,b,r,n,a):E)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var k=t.constructor,T=e.constructor;k!=T&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof T=="function"&&T instanceof T)&&(y=!1)}return a.delete(t),a.delete(e),y}var pq=hq,mq=To,gq=ei,yq=mq(gq,"DataView"),vq=yq,wq=To,bq=ei,xq=wq(bq,"Promise"),_q=xq,Sq=To,Eq=ei,Tq=Sq(Eq,"Set"),q2=Tq,Aq=To,Pq=ei,Oq=Aq(Pq,"WeakMap"),kq=Oq,Uv=vq,zv=Rb,Wv=_q,Kv=q2,qv=kq,H2=Di,pl=ZI,SE="[object Map]",Cq="[object Object]",EE="[object Promise]",TE="[object Set]",AE="[object WeakMap]",PE="[object DataView]",Iq=pl(Uv),jq=pl(zv),Nq=pl(Wv),Dq=pl(Kv),Mq=pl(qv),Ua=H2;(Uv&&Ua(new Uv(new ArrayBuffer(1)))!=PE||zv&&Ua(new zv)!=SE||Wv&&Ua(Wv.resolve())!=EE||Kv&&Ua(new Kv)!=TE||qv&&Ua(new qv)!=AE)&&(Ua=function(t){var e=H2(t),r=e==Cq?t.constructor:void 0,n=r?pl(r):"";if(n)switch(n){case Iq:return PE;case jq:return SE;case Nq:return EE;case Dq:return TE;case Mq:return AE}return e});var Rq=Ua,Lg=M2,$q=F2,Lq=mW,Fq=pq,OE=Rq,kE=Ir,CE=U2,Vq=W2,Bq=1,IE="[object Arguments]",jE="[object Array]",Gf="[object Object]",Uq=Object.prototype,NE=Uq.hasOwnProperty;function zq(t,e,r,n,i,a){var o=kE(t),s=kE(e),l=o?jE:OE(t),u=s?jE:OE(e);l=l==IE?Gf:l,u=u==IE?Gf:u;var c=l==Gf,f=u==Gf,h=l==u;if(h&&CE(t)){if(!CE(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new Lg),o||Vq(t)?$q(t,e,r,n,i,a):Lq(t,e,l,r,n,i,a);if(!(r&Bq)){var p=c&&NE.call(t,"__wrapped__"),g=f&&NE.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,v=g?e.value():e;return a||(a=new Lg),i(y,v,r,n,a)}}return h?(a||(a=new Lg),Fq(t,e,r,n,i,a)):!1}var Wq=zq,Kq=Wq,DE=Mi;function G2(t,e,r,n,i){return t===e?!0:t==null||e==null||!DE(t)&&!DE(e)?t!==t&&e!==e:Kq(t,e,r,n,G2,i)}var ex=G2,qq=M2,Hq=ex,Gq=1,Qq=2;function Xq(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new qq;if(n)var h=n(u,c,l,t,e,f);if(!(h===void 0?Hq(c,u,Gq|Qq,n,f):h))return!1}}return!0}var Yq=Xq,Jq=Ta;function Zq(t){return t===t&&!Jq(t)}var Q2=Zq,eH=Q2,tH=lm;function rH(t){for(var e=tH(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,eH(i)]}return e}var nH=rH;function iH(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var X2=iH,aH=Yq,oH=nH,sH=X2;function lH(t){var e=oH(t);return e.length==1&&e[0][2]?sH(e[0][0],e[0][1]):function(r){return r===t||aH(r,t,e)}}var uH=lH;function cH(t,e){return t!=null&&e in Object(t)}var fH=cH,dH=i2,hH=Yb,pH=Ir,mH=Jb,gH=Zb,yH=Hp;function vH(t,e,r){e=dH(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=yH(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&gH(i)&&mH(o,i)&&(pH(t)||hH(t)))}var wH=vH,bH=fH,xH=wH;function _H(t,e){return t!=null&&xH(t,e,bH)}var SH=_H,EH=ex,TH=a2,AH=SH,PH=Nb,OH=Q2,kH=X2,CH=Hp,IH=1,jH=2;function NH(t,e){return PH(t)&&OH(e)?kH(CH(t),e):function(r){var n=TH(r,t);return n===void 0&&n===e?AH(r,t):EH(e,n,IH|jH)}}var DH=NH;function MH(t){return t}var ml=MH;function RH(t){return function(e){return e==null?void 0:e[t]}}var $H=RH,LH=Vb;function FH(t){return function(e){return LH(e,t)}}var VH=FH,BH=$H,UH=VH,zH=Nb,WH=Hp;function KH(t){return zH(t)?BH(WH(t)):UH(t)}var qH=KH,HH=uH,GH=DH,QH=ml,XH=Ir,YH=qH;function JH(t){return typeof t=="function"?t:t==null?QH:typeof t=="object"?XH(t)?GH(t[0],t[1]):HH(t):YH(t)}var Aa=JH;function ZH(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Y2=ZH;function eG(t){return t!==t}var tG=eG;function rG(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var nG=rG,iG=Y2,aG=tG,oG=nG;function sG(t,e,r){return e===e?oG(t,e,r):iG(t,aG,r)}var lG=sG,uG=lG;function cG(t,e){var r=t==null?0:t.length;return!!r&&uG(t,e,0)>-1}var fG=cG;function dG(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var hG=dG;function pG(){}var mG=pG,Fg=q2,gG=mG,yG=Xb,vG=1/0,wG=Fg&&1/yG(new Fg([,-0]))[1]==vG?function(t){return new Fg(t)}:gG,bG=wG,xG=R2,_G=fG,SG=hG,EG=L2,TG=bG,AG=Xb,PG=200;function OG(t,e,r){var n=-1,i=_G,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=SG;else if(a>=PG){var u=e?null:TG(t);if(u)return AG(u);o=!1,i=EG,l=new xG}else l=e?[]:s;e:for(;++n<a;){var c=t[n],f=e?e(c):c;if(c=r||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,r)||(l!==s&&l.push(f),s.push(c))}return s}var kG=OG,CG=Aa,IG=kG;function jG(t,e){return t&&t.length?IG(t,CG(e)):[]}var NG=jG;const ME=Ge(NG);function J2(t,e,r){return e===!0?ME(t,r):Ee(e)?ME(t,e):t}function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}var DG=["ref"];function RE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(r),!0).forEach(function(n){um(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ej(n.key),n)}}function RG(t,e,r){return e&&$E(t.prototype,e),r&&$E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $G(t,e,r){return e=bh(e),LG(t,Z2()?Reflect.construct(e,r||[],bh(t).constructor):e.apply(t,r))}function LG(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FG(t)}function FG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z2=function(){return!!t})()}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bh(t)}function VG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hv(t,e)}function um(t,e,r){return e=ej(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ej(t){var e=BG(t,"string");return js(e)=="symbol"?e:e+""}function BG(t,e){if(js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UG(t,e){if(t==null)return{};var r=zG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WG(t){return t.value}function KG(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var r=UG(e,DG);return F.createElement(Qb,r)}var LE=1,Cn=function(t){function e(){var r;MG(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$G(this,e,[].concat(i)),um(r,"lastBoundingBox",{width:-1,height:-1}),r}return VG(e,t),RG(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>LE||Math.abs(i.height-this.lastBoundingBox.height)>LE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return li(li({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=li(li({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},KG(a,li(li({},this.props),{},{payload:J2(c,u,WG)})))}}],[{key:"getWithHeight",value:function(n,i){var a=li(li({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ne(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(D.PureComponent);um(Cn,"displayName","Legend");um(Cn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var FE=Yc,qG=Yb,HG=Ir,VE=FE?FE.isConcatSpreadable:void 0;function GG(t){return HG(t)||qG(t)||!!(VE&&t&&t[VE])}var QG=GG,XG=V2,YG=QG;function tj(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=YG),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?tj(s,e-1,r,n,i):XG(i,s):n||(i[i.length]=s)}return i}var rj=tj;function JG(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var ZG=JG,eQ=ZG,tQ=eQ(),rQ=tQ,nQ=rQ,iQ=lm;function aQ(t,e){return t&&nQ(t,e,iQ)}var nj=aQ,oQ=ef;function sQ(t,e){return function(r,n){if(r==null)return r;if(!oQ(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var lQ=sQ,uQ=nj,cQ=lQ,fQ=cQ(uQ),tx=fQ,dQ=tx,hQ=ef;function pQ(t,e){var r=-1,n=hQ(t)?Array(t.length):[];return dQ(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var ij=pQ;function mQ(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var gQ=mQ,BE=ll;function yQ(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=BE(t),o=e!==void 0,s=e===null,l=e===e,u=BE(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var vQ=yQ,wQ=vQ;function bQ(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=wQ(i[n],a[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var xQ=bQ,Vg=Fb,_Q=Vb,SQ=Aa,EQ=ij,TQ=gQ,AQ=z2,PQ=xQ,OQ=ml,kQ=Ir;function CQ(t,e,r){e.length?e=Vg(e,function(a){return kQ(a)?function(o){return _Q(o,a.length===1?a[0]:a)}:a}):e=[OQ];var n=-1;e=Vg(e,AQ(SQ));var i=EQ(t,function(a,o,s){var l=Vg(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return TQ(i,function(a,o){return PQ(a,o,r)})}var IQ=CQ;function jQ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var NQ=jQ,DQ=NQ,UE=Math.max;function MQ(t,e,r){return e=UE(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=UE(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),DQ(t,this,s)}}var RQ=MQ;function $Q(t){return function(){return t}}var LQ=$Q,FQ=To,VQ=function(){try{var t=FQ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aj=VQ,BQ=LQ,zE=aj,UQ=ml,zQ=zE?function(t,e){return zE(t,"toString",{configurable:!0,enumerable:!1,value:BQ(e),writable:!0})}:UQ,WQ=zQ,KQ=800,qQ=16,HQ=Date.now;function GQ(t){var e=0,r=0;return function(){var n=HQ(),i=qQ-(n-r);if(r=n,i>0){if(++e>=KQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var QQ=GQ,XQ=WQ,YQ=QQ,JQ=YQ(XQ),ZQ=JQ,eX=ml,tX=RQ,rX=ZQ;function nX(t,e){return rX(tX(t,e,eX),t+"")}var iX=nX,aX=Mb,oX=ef,sX=Jb,lX=Ta;function uX(t,e,r){if(!lX(r))return!1;var n=typeof e;return(n=="number"?oX(r)&&sX(e,r.length):n=="string"&&e in r)?aX(r[e],t):!1}var cm=uX,cX=rj,fX=IQ,dX=iX,WE=cm,hX=dX(function(t,e){if(t==null)return[];var r=e.length;return r>1&&WE(t,e[0],e[1])?e=[]:r>2&&WE(e[0],e[1],e[2])&&(e=[e[0]]),fX(t,cX(e,1),[])}),pX=hX;const rx=Ge(pX);function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gv.apply(this,arguments)}function mX(t,e){return wX(t)||vX(t,e)||yX(t,e)||gX()}function gX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yX(t,e){if(t){if(typeof t=="string")return KE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(t,e)}}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function wX(t){if(Array.isArray(t))return t}function qE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(r),!0).forEach(function(n){bX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bX(t,e,r){return e=xX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xX(t){var e=_X(t,"string");return nc(e)=="symbol"?e:e+""}function _X(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SX(t){return Array.isArray(t)&&It(t[0])&&It(t[1])?t.join(" ~ "):t}var EX=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,_=e.accessibilityLayer,b=_===void 0?!1:_,E=function(){if(c&&c.length){var N={padding:0,margin:0},I=(h?rx(c,h):c).map(function(z,V){if(z.type==="none")return null;var K=Bg({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),L=z.formatter||f||SX,$=z.value,R=z.name,B=$,W=R;if(L&&B!=null&&W!=null){var H=L($,R,z,V,c);if(Array.isArray(H)){var Z=mX(H,2);B=Z[0],W=Z[1]}else B=H}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:K},It(W)?F.createElement("span",{className:"recharts-tooltip-item-name"},W):null,It(W)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},B),F.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:N},I)}return null},k=Bg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Bg({margin:0},u),P=!ke(y),S=P?y:"",x=Re("recharts-default-tooltip",p),O=Re("recharts-tooltip-label",g);P&&v&&c!==void 0&&c!==null&&(S=v(y,c));var j=b?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",Gv({className:x,style:k},j),F.createElement("p",{className:O,style:T},F.isValidElement(S)?S:"".concat(S)),E())};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Qf(t,e,r){return e=TX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TX(t){var e=AX(t,"string");return ic(e)=="symbol"?e:e+""}function AX(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ul="recharts-tooltip-wrapper",PX={visibility:"hidden"};function OX(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Re(Ul,Qf(Qf(Qf(Qf({},"".concat(Ul,"-right"),ne(r)&&e&&ne(e.x)&&r>=e.x),"".concat(Ul,"-left"),ne(r)&&e&&ne(e.x)&&r<e.x),"".concat(Ul,"-bottom"),ne(n)&&e&&ne(e.y)&&n>=e.y),"".concat(Ul,"-top"),ne(n)&&e&&ne(e.y)&&n<e.y))}function HE(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ne(a[n]))return a[n];var c=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?c:f;if(o[n]){var h=c,p=l[n];return h<p?Math.max(f,l[n]):Math.max(c,l[n])}var g=f+s,y=l[n]+u;return g>y?Math.max(c,l[n]):Math.max(f,l[n])}function kX(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function CX(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&r?(c=HE({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=HE({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=kX({translateX:c,translateY:f,useTranslate3d:s})):u=PX,{cssProperties:u,cssClasses:OX({translateX:c,translateY:f,coordinate:r})}}function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){Xv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sj(n.key),n)}}function NX(t,e,r){return e&&jX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DX(t,e,r){return e=xh(e),MX(t,oj()?Reflect.construct(e,r||[],xh(t).constructor):e.apply(t,r))}function MX(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(t)}function RX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oj=function(){return!!t})()}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(t)}function $X(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qv(t,e)}function Qv(t,e){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qv(t,e)}function Xv(t,e,r){return e=sj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sj(t){var e=LX(t,"string");return Ns(e)=="symbol"?e:e+""}function LX(t,e){if(Ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XE=1,FX=function(t){function e(){var r;IX(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=DX(this,e,[].concat(i)),Xv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xv(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return $X(e,t),NX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>XE||Math.abs(n.height-this.state.lastBoundingBox.height)>XE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,E=CX({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),k=E.cssClasses,T=E.cssProperties,P=QE(QE({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return F.createElement("div",{tabIndex:-1,className:k,style:P,ref:function(x){n.wrapperNode=x}},u)}}])}(D.PureComponent),VX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gl={isSsr:VX()};function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function YE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(r),!0).forEach(function(n){nx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uj(n.key),n)}}function zX(t,e,r){return e&&UX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WX(t,e,r){return e=_h(e),KX(t,lj()?Reflect.construct(e,r||[],_h(t).constructor):e.apply(t,r))}function KX(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qX(t)}function qX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lj=function(){return!!t})()}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(t)}function HX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yv(t,e)}function nx(t,e,r){return e=uj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uj(t){var e=GX(t,"string");return Ds(e)=="symbol"?e:e+""}function GX(t,e){if(Ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QX(t){return t.dataKey}function XX(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(EX,e)}var gr=function(t){function e(){return BX(this,e),WX(this,e,arguments)}return HX(e,t),zX(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,_=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,k=i.wrapperStyle,T=g??[];f&&T.length&&(T=J2(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,QX));var P=T.length>0;return F.createElement(FX,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:P,offset:p,position:v,reverseDirection:_,useTranslate3d:b,viewBox:E,wrapperStyle:k},XX(u,JE(JE({},this.props),{},{payload:T})))}}])}(D.PureComponent);nx(gr,"displayName","Tooltip");nx(gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YX=ei,JX=function(){return YX.Date.now()},ZX=JX,eY=/\s/;function tY(t){for(var e=t.length;e--&&eY.test(t.charAt(e)););return e}var rY=tY,nY=rY,iY=/^\s+/;function aY(t){return t&&t.slice(0,nY(t)+1).replace(iY,"")}var oY=aY,sY=oY,ZE=Ta,lY=ll,eT=NaN,uY=/^[-+]0x[0-9a-f]+$/i,cY=/^0b[01]+$/i,fY=/^0o[0-7]+$/i,dY=parseInt;function hY(t){if(typeof t=="number")return t;if(lY(t))return eT;if(ZE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ZE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=sY(t);var r=cY.test(t);return r||fY.test(t)?dY(t.slice(2),r?2:8):uY.test(t)?eT:+t}var cj=hY,pY=Ta,Ug=ZX,tT=cj,mY="Expected a function",gY=Math.max,yY=Math.min;function vY(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(mY);e=tT(e)||0,pY(r)&&(c=!!r.leading,f="maxWait"in r,a=f?gY(tT(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(P){var S=n,x=i;return n=i=void 0,u=P,o=t.apply(x,S),o}function g(P){return u=P,s=setTimeout(_,e),c?p(P):o}function y(P){var S=P-l,x=P-u,O=e-S;return f?yY(O,a-x):O}function v(P){var S=P-l,x=P-u;return l===void 0||S>=e||S<0||f&&x>=a}function _(){var P=Ug();if(v(P))return b(P);s=setTimeout(_,y(P))}function b(P){return s=void 0,h&&n?p(P):(n=i=void 0,o)}function E(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function k(){return s===void 0?o:b(Ug())}function T(){var P=Ug(),S=v(P);if(n=arguments,i=this,l=P,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),o}return T.cancel=E,T.flush=k,T}var wY=vY,bY=wY,xY=Ta,_Y="Expected a function";function SY(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(_Y);return xY(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),bY(t,e,{leading:n,maxWait:e,trailing:i})}var EY=SY;const fj=Ge(EY);function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function rT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(r),!0).forEach(function(n){TY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TY(t,e,r){return e=AY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AY(t){var e=PY(t,"string");return ac(e)=="symbol"?e:e+""}function PY(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OY(t,e){return jY(t)||IY(t,e)||CY(t,e)||kY()}function kY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CY(t,e){if(t){if(typeof t=="string")return nT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nT(t,e)}}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jY(t){if(Array.isArray(t))return t}var Ms=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,_=t.className,b=t.onResize,E=t.style,k=E===void 0?{}:E,T=D.useRef(null),P=D.useRef();P.current=b,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),x=OY(S,2),O=x[0],j=x[1],C=D.useCallback(function(I,z){j(function(V){var K=Math.round(I),L=Math.round(z);return V.containerWidth===K&&V.containerHeight===L?V:{containerWidth:K,containerHeight:L}})},[]);D.useEffect(function(){var I=function(R){var B,W=R[0].contentRect,H=W.width,Z=W.height;C(H,Z),(B=P.current)===null||B===void 0||B.call(P,H,Z)};y>0&&(I=fj(I,y,{trailing:!0,leading:!1}));var z=new ResizeObserver(I),V=T.current.getBoundingClientRect(),K=V.width,L=V.height;return C(K,L),z.observe(T.current),function(){z.disconnect()}},[C,y]);var N=D.useMemo(function(){var I=O.containerWidth,z=O.containerHeight;if(I<0||z<0)return null;wi(Ga(o)||Ga(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),wi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Ga(o)?I:o,K=Ga(l)?z:l;r&&r>0&&(V?K=V/r:K&&(V=K*r),h&&K>h&&(K=h)),wi(V>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,K,o,l,c,f,r);var L=!Array.isArray(p)&&vi(p.type).endsWith("Chart");return F.Children.map(p,function($){return F.isValidElement($)?D.cloneElement($,Xf({width:V,height:K},L?{style:Xf({height:"100%",width:"100%",maxHeight:K,maxWidth:V},$.props.style)}:{})):$})},[r,p,l,h,f,c,O,o]);return F.createElement("div",{id:v?"".concat(v):void 0,className:Re("recharts-responsive-container",_),style:Xf(Xf({},k),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:T},N)}),dj=function(e){return null};dj.displayName="Cell";function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function iT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(r),!0).forEach(function(n){NY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NY(t,e,r){return e=DY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DY(t){var e=MY(t,"string");return oc(e)=="symbol"?e:e+""}function MY(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mo={widthCache:{},cacheCount:0},RY=2e3,$Y={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aT="recharts_measurement_span";function LY(t){var e=Jv({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var bu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gl.isSsr)return{width:0,height:0};var n=LY(r),i=JSON.stringify({text:e,copyStyle:n});if(Mo.widthCache[i])return Mo.widthCache[i];try{var a=document.getElementById(aT);a||(a=document.createElement("span"),a.setAttribute("id",aT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Jv(Jv({},$Y),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Mo.widthCache[i]=l,++Mo.cacheCount>RY&&(Mo.cacheCount=0,Mo.widthCache={}),l}catch{return{width:0,height:0}}},FY=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function Sh(t,e){return zY(t)||UY(t,e)||BY(t,e)||VY()}function VY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(t,e){if(t){if(typeof t=="string")return oT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oT(t,e)}}function oT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zY(t){if(Array.isArray(t))return t}function WY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qY(n.key),n)}}function KY(t,e,r){return e&&sT(t.prototype,e),r&&sT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qY(t){var e=HY(t,"string");return sc(e)=="symbol"?e:e+""}function HY(t,e){if(sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XY=Object.keys(hj),es="NaN";function YY(t,e){return t*hj[e]}var Yf=function(){function t(e,r){WY(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!GY.test(r)&&(this.num=NaN,this.unit=""),XY.includes(r)&&(this.num=YY(e,r),this.unit="px")}return KY(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=QY.exec(r))!==null&&n!==void 0?n:[],a=Sh(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function pj(t){if(t.includes(es))return es;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=lT.exec(e))!==null&&r!==void 0?r:[],i=Sh(n,4),a=i[1],o=i[2],s=i[3],l=Yf.parse(a??""),u=Yf.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return es;e=e.replace(lT,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=uT.exec(e))!==null&&f!==void 0?f:[],p=Sh(h,4),g=p[1],y=p[2],v=p[3],_=Yf.parse(g??""),b=Yf.parse(v??""),E=y==="+"?_.add(b):_.subtract(b);if(E.isNaN())return es;e=e.replace(uT,E.toString())}return e}var cT=/\(([^()]*)\)/;function JY(t){for(var e=t;e.includes("(");){var r=cT.exec(e),n=Sh(r,2),i=n[1];e=e.replace(cT,pj(i))}return e}function ZY(t){var e=t.replace(/\s+/g,"");return e=JY(e),e=pj(e),e}function eJ(t){try{return ZY(t)}catch{return es}}function zg(t){var e=eJ(t.slice(5,-1));return e===es?"":e}var tJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rJ=["dx","dy","angle","className","breakAll"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zv.apply(this,arguments)}function fT(t,e){if(t==null)return{};var r=nJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dT(t,e){return sJ(t)||oJ(t,e)||aJ(t,e)||iJ()}function iJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aJ(t,e){if(t){if(typeof t=="string")return hT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hT(t,e)}}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function sJ(t){if(Array.isArray(t))return t}var mj=/[ \f\n\r\t\v\u2028\u2029]+/,gj=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ke(r)||(n?a=r.toString().split(""):a=r.toString().split(mj));var o=a.map(function(l){return{word:l,width:bu(l,i).width}}),s=n?0:bu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},lJ=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ne(o),f=s,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(K,L){var $=L.word,R=L.width,B=K[K.length-1];if(B&&(i==null||a||B.width+R+n<Number(i)))B.words.push($),B.width+=R+n;else{var W={words:[$],width:R};K.push(W)}return K},[])},p=h(r),g=function(V){return V.reduce(function(K,L){return K.width>L.width?K:L})};if(!c)return p;for(var y="…",v=function(V){var K=f.slice(0,V),L=gj({breakAll:u,style:l,children:K+y}).wordsWithComputedWidth,$=h(L),R=$.length>o||g($).width>Number(i);return[R,$]},_=0,b=f.length-1,E=0,k;_<=b&&E<=f.length-1;){var T=Math.floor((_+b)/2),P=T-1,S=v(P),x=dT(S,2),O=x[0],j=x[1],C=v(T),N=dT(C,1),I=N[0];if(!O&&!I&&(_=T+1),O&&I&&(b=T-1),!O&&I){k=j;break}E++}return k||p},pT=function(e){var r=ke(e)?[]:e.toString().split(mj);return[{words:r}]},uJ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!gl.isSsr){var l,u,c=gj({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return pT(i);return lJ({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return pT(i)},mT="#808080",Eh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,_=v===void 0?mT:v,b=fT(e,tJ),E=D.useMemo(function(){return uJ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),k=b.dx,T=b.dy,P=b.angle,S=b.className,x=b.breakAll,O=fT(b,rJ);if(!It(n)||!It(a))return null;var j=n+(ne(k)?k:0),C=a+(ne(T)?T:0),N;switch(y){case"start":N=zg("calc(".concat(u,")"));break;case"middle":N=zg("calc(".concat((E.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:N=zg("calc(".concat(E.length-1," * -").concat(s,")"));break}var I=[];if(f){var z=E[0].width,V=b.width;I.push("scale(".concat((ne(V)?V/z:1)/z,")"))}return P&&I.push("rotate(".concat(P,", ").concat(j,", ").concat(C,")")),I.length&&(O.transform=I.join(" ")),F.createElement("text",Zv({},je(O,!0),{x:j,y:C,className:Re("recharts-text",S),textAnchor:p,fill:_.includes("url")?mT:_}),E.map(function(K,L){var $=K.words.join(x?"":" ");return F.createElement("tspan",{x:j,dy:L===0?N:s,key:"".concat($,"-").concat(L)},$)}))};function pa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ix(t){let e,r,n;t.length!==2?(e=pa,r=(s,l)=>pa(t(s),l),n=(s,l)=>t(s)-l):(e=t===pa||t===cJ?t:fJ,r=t,n=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;r(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;r(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function fJ(){return 0}function yj(t){return t===null?NaN:+t}function*dJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const hJ=ix(pa),tf=hJ.right;ix(yj).center;class gT extends Map{constructor(e,r=gJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(yT(this,e))}has(e){return super.has(yT(this,e))}set(e,r){return super.set(pJ(this,e),r)}delete(e){return super.delete(mJ(this,e))}}function yT({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function pJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function mJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function gJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yJ(t=pa){if(t===pa)return vj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function vj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vJ=Math.sqrt(50),wJ=Math.sqrt(10),bJ=Math.sqrt(2);function Th(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=vJ?10:a>=wJ?5:a>=bJ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?Th(t,e,r*2):[s,l,u]}function e0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Th(e,t,r):Th(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function t0(t,e,r){return e=+e,t=+t,r=+r,Th(t,e,r)[2]}function r0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?t0(e,t,r):t0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function vT(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function wT(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wj(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?vj:yJ(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),g=Math.min(n,Math.floor(e+(l-u)*f/l+h));wj(t,e,p,g,i)}const a=t[e];let o=r,s=n;for(zl(t,r,e),i(t[n],a)>0&&zl(t,r,n);o<s;){for(zl(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?zl(t,r,s):(++s,zl(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function zl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xJ(t,e,r){if(t=Float64Array.from(dJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return wT(t);if(e>=1)return vT(t);var n,i=(n-1)*e,a=Math.floor(i),o=vT(wj(t,a).subarray(0,a+1)),s=wT(t.subarray(a+1));return o+(s-o)*(i-a)}}function _J(t,e,r=yj){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function SJ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function hn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ri(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const n0=Symbol("implicit");function ax(){var t=new gT,e=[],r=[],n=n0;function i(a){let o=t.get(a);if(o===void 0){if(n!==n0)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new gT;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ax(e,r).unknown(n)},hn.apply(i,arguments),i}function lc(){var t=ax().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<n,g=p?i:n,y=p?n:i;a=(y-g)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=SJ(h).map(function(_){return g+a*_});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return lc(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},hn.apply(f(),arguments)}function bj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bj(e())},t}function xu(){return bj(lc.apply(null,arguments).paddingInner(1))}function ox(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function xj(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function rf(){}var uc=.7,Ah=1/uc,ds="\\s*([+-]?\\d+)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EJ=/^#([0-9a-f]{3,8})$/,TJ=new RegExp(`^rgb\\(${ds},${ds},${ds}\\)$`),AJ=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),PJ=new RegExp(`^rgba\\(${ds},${ds},${ds},${cc}\\)$`),OJ=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${cc}\\)$`),kJ=new RegExp(`^hsl\\(${cc},${Hn},${Hn}\\)$`),CJ=new RegExp(`^hsla\\(${cc},${Hn},${Hn},${cc}\\)$`),bT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ox(rf,fc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xT,formatHex:xT,formatHex8:IJ,formatHsl:jJ,formatRgb:_T,toString:_T});function xT(){return this.rgb().formatHex()}function IJ(){return this.rgb().formatHex8()}function jJ(){return _j(this).formatHsl()}function _T(){return this.rgb().formatRgb()}function fc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=EJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ST(e):r===3?new Ar(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TJ.exec(t))?new Ar(e[1],e[2],e[3],1):(e=AJ.exec(t))?new Ar(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=PJ.exec(t))?Jf(e[1],e[2],e[3],e[4]):(e=OJ.exec(t))?Jf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kJ.exec(t))?AT(e[1],e[2]/100,e[3]/100,1):(e=CJ.exec(t))?AT(e[1],e[2]/100,e[3]/100,e[4]):bT.hasOwnProperty(t)?ST(bT[t]):t==="transparent"?new Ar(NaN,NaN,NaN,0):null}function ST(t){return new Ar(t>>16&255,t>>8&255,t&255,1)}function Jf(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ar(t,e,r,n)}function NJ(t){return t instanceof rf||(t=fc(t)),t?(t=t.rgb(),new Ar(t.r,t.g,t.b,t.opacity)):new Ar}function i0(t,e,r,n){return arguments.length===1?NJ(t):new Ar(t,e,r,n??1)}function Ar(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ox(Ar,i0,xj(rf,{brighter(t){return t=t==null?Ah:Math.pow(Ah,t),new Ar(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?uc:Math.pow(uc,t),new Ar(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ar(to(this.r),to(this.g),to(this.b),Ph(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ET,formatHex:ET,formatHex8:DJ,formatRgb:TT,toString:TT}));function ET(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}`}function DJ(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}${Qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function TT(){const t=Ph(this.opacity);return`${t===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${t===1?")":`, ${t})`}`}function Ph(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function to(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qa(t){return t=to(t),(t<16?"0":"")+t.toString(16)}function AT(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Tn(t,e,r,n)}function _j(t){if(t instanceof Tn)return new Tn(t.h,t.s,t.l,t.opacity);if(t instanceof rf||(t=fc(t)),!t)return new Tn;if(t instanceof Tn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Tn(o,s,l,t.opacity)}function MJ(t,e,r,n){return arguments.length===1?_j(t):new Tn(t,e,r,n??1)}function Tn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ox(Tn,MJ,xj(rf,{brighter(t){return t=t==null?Ah:Math.pow(Ah,t),new Tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?uc:Math.pow(uc,t),new Tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ar(Wg(t>=240?t-240:t+120,i,n),Wg(t,i,n),Wg(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Tn(PT(this.h),Zf(this.s),Zf(this.l),Ph(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ph(this.opacity);return`${t===1?"hsl(":"hsla("}${PT(this.h)}, ${Zf(this.s)*100}%, ${Zf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function PT(t){return t=(t||0)%360,t<0?t+360:t}function Zf(t){return Math.max(0,Math.min(1,t||0))}function Wg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const sx=t=>()=>t;function RJ(t,e){return function(r){return t+r*e}}function $J(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function LJ(t){return(t=+t)==1?Sj:function(e,r){return r-e?$J(e,r,t):sx(isNaN(e)?r:e)}}function Sj(t,e){var r=e-t;return r?RJ(t,r):sx(isNaN(t)?e:t)}const OT=function t(e){var r=LJ(e);function n(i,a){var o=r((i=i0(i)).r,(a=i0(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=Sj(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function FJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function VJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=yl(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function UJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Oh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function zJ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=yl(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var a0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kg=new RegExp(a0.source,"g");function WJ(t){return function(){return t}}function KJ(t){return function(e){return t(e)+""}}function qJ(t,e){var r=a0.lastIndex=Kg.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=a0.exec(t))&&(i=Kg.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Oh(n,i)})),r=Kg.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?KJ(l[0].x):WJ(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function yl(t,e){var r=typeof e,n;return e==null||r==="boolean"?sx(e):(r==="number"?Oh:r==="string"?(n=fc(e))?(e=n,OT):qJ:e instanceof fc?OT:e instanceof Date?UJ:VJ(e)?FJ:Array.isArray(e)?BJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zJ:Oh)(t,e)}function lx(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function HJ(t,e){e===void 0&&(e=t,t=yl);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function GJ(t){return function(){return t}}function kh(t){return+t}var kT=[0,1];function yr(t){return t}function o0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:GJ(isNaN(e)?NaN:.5)}function QJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function XJ(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=o0(i,n),a=r(o,a)):(n=o0(n,i),a=r(a,o)),function(s){return a(n(s))}}function YJ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=o0(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=tf(t,s,1,n)-1;return a[l](i[l](s))}}function nf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fm(){var t=kT,e=kT,r=yl,n,i,a,o=yr,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==yr&&(o=QJ(t[0],t[h-1])),s=h>2?YJ:XJ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(n),Oh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,kh),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=lx,c()},f.clamp=function(h){return arguments.length?(o=h?!0:yr,c()):o!==yr},f.interpolate=function(h){return arguments.length?(r=h,c()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,c()}}function ux(){return fm()(yr,yr)}function JJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ch(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Rs(t){return t=Ch(Math.abs(t)),t?t[1]:NaN}function ZJ(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function eZ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var tZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dc(t){if(!(e=tZ.exec(t)))throw new Error("invalid format: "+t);var e;return new cx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dc.prototype=cx.prototype;function cx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rZ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Ej;function nZ(t,e){var r=Ch(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Ej=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ch(t,Math.max(0,e+a-1))[0]}function CT(t,e){var r=Ch(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const IT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:JJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CT(t*100,e),r:CT,s:nZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jT(t){return t}var NT=Array.prototype.map,DT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function iZ(t){var e=t.grouping===void 0||t.thousands===void 0?jT:ZJ(NT.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?jT:eZ(NT.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=dc(f);var h=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,_=f.width,b=f.comma,E=f.precision,k=f.trim,T=f.type;T==="n"?(b=!0,T="g"):IT[T]||(E===void 0&&(E=12),k=!0,T="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var P=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=y==="$"?n:/[%p]/.test(T)?o:"",x=IT[T],O=/[defgprs%]/.test(T);E=E===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function j(C){var N=P,I=S,z,V,K;if(T==="c")I=x(C)+I,C="";else{C=+C;var L=C<0||1/C<0;if(C=isNaN(C)?l:x(Math.abs(C),E),k&&(C=rZ(C)),L&&+C==0&&g!=="+"&&(L=!1),N=(L?g==="("?g:s:g==="-"||g==="("?"":g)+N,I=(T==="s"?DT[8+Ej/3]:"")+I+(L&&g==="("?")":""),O){for(z=-1,V=C.length;++z<V;)if(K=C.charCodeAt(z),48>K||K>57){I=(K===46?i+C.slice(z+1):C.slice(z))+I,C=C.slice(0,z);break}}}b&&!v&&(C=e(C,1/0));var $=N.length+C.length+I.length,R=$<_?new Array(_-$+1).join(h):"";switch(b&&v&&(C=e(R+C,R.length?_-I.length:1/0),R=""),p){case"<":C=N+C+I+R;break;case"=":C=N+R+C+I;break;case"^":C=R.slice(0,$=R.length>>1)+N+C+I+R.slice($);break;default:C=R+N+C+I;break}return a(C)}return j.toString=function(){return f+""},j}function c(f,h){var p=u((f=dc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Rs(h)/3)))*3,y=Math.pow(10,-g),v=DT[8+g/3];return function(_){return p(y*_)+v}}return{format:u,formatPrefix:c}}var ed,fx,Tj;aZ({thousands:",",grouping:[3],currency:["$",""]});function aZ(t){return ed=iZ(t),fx=ed.format,Tj=ed.formatPrefix,ed}function oZ(t){return Math.max(0,-Rs(Math.abs(t)))}function sZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rs(e)/3)))*3-Rs(Math.abs(t)))}function lZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rs(e)-Rs(t))+1}function Aj(t,e,r,n){var i=r0(t,e,r),a;switch(n=dc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=sZ(i,o))&&(n.precision=a),Tj(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=lZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=oZ(i))&&(n.precision=a-(n.type==="%")*2);break}}return fx(n)}function Pa(t){var e=t.domain;return t.ticks=function(r){var n=e();return e0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Aj(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=t0(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Ih(){var t=ux();return t.copy=function(){return nf(t,Ih())},hn.apply(t,arguments),Pa(t)}function Pj(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,kh),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Pj(t).unknown(e)},t=arguments.length?Array.from(t,kh):[0,1],Pa(r)}function Oj(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function MT(t){return Math.log(t)}function RT(t){return Math.exp(t)}function uZ(t){return-Math.log(-t)}function cZ(t){return-Math.exp(-t)}function fZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dZ(t){return t===10?fZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $T(t){return(e,r)=>-t(-e,r)}function dx(t){const e=t(MT,RT),r=e.domain;let n=10,i,a;function o(){return i=hZ(n),a=dZ(n),r()[0]<0?(i=$T(i),a=$T(a),t(uZ,cZ)):t(MT,RT),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),g,y;const v=s==null?10:+s;let _=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;_.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;_.push(y)}_.length*2<v&&(_=e0(u,c,v))}else _=e0(h,p,Math.min(p-h,v)).map(a);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=dc(l)).precision==null&&(l.trim=!0),l=fx(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},e.nice=()=>r(Oj(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function kj(){const t=dx(fm()).domain([1,10]);return t.copy=()=>nf(t,kj()).base(t.base()),hn.apply(t,arguments),t}function LT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FT(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hx(t){var e=1,r=t(LT(e),FT(e));return r.constant=function(n){return arguments.length?t(LT(e=+n),FT(e)):e},Pa(r)}function Cj(){var t=hx(fm());return t.copy=function(){return nf(t,Cj()).constant(t.constant())},hn.apply(t,arguments)}function VT(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mZ(t){return t<0?-t*t:t*t}function px(t){var e=t(yr,yr),r=1;function n(){return r===1?t(yr,yr):r===.5?t(pZ,mZ):t(VT(r),VT(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Pa(e)}function mx(){var t=px(fm());return t.copy=function(){return nf(t,mx()).exponent(t.exponent())},hn.apply(t,arguments),t}function gZ(){return mx.apply(null,arguments).exponent(.5)}function BT(t){return Math.sign(t)*t*t}function yZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ij(){var t=ux(),e=[0,1],r=!1,n;function i(a){var o=yZ(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(BT(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,kh)).map(BT)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ij(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},hn.apply(i,arguments),Pa(i)}function jj(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=_J(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[tf(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(pa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return jj().domain(t).range(e).unknown(n)},hn.apply(a,arguments)}function Nj(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[tf(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Nj().domain([t,e]).range(i).unknown(a)},hn.apply(Pa(o),arguments)}function Dj(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[tf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Dj().domain(t).range(e).unknown(r)},hn.apply(i,arguments)}const qg=new Date,Hg=new Date;function Nt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Nt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(qg.setTime(+a),Hg.setTime(+o),t(qg),t(Hg),Math.floor(r(qg,Hg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const jh=Nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):jh);jh.range;const hi=1e3,an=hi*60,pi=an*60,Oi=pi*24,gx=Oi*7,UT=Oi*30,Gg=Oi*365,Xa=Nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getUTCSeconds());Xa.range;const yx=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hi)},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getMinutes());yx.range;const vx=Nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getUTCMinutes());vx.range;const wx=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hi-t.getMinutes()*an)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getHours());wx.range;const bx=Nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getUTCHours());bx.range;const af=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*an)/Oi,t=>t.getDate()-1);af.range;const dm=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);dm.range;const Mj=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));Mj.range;function Ao(t){return Nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*an)/gx)}const hm=Ao(0),Nh=Ao(1),vZ=Ao(2),wZ=Ao(3),$s=Ao(4),bZ=Ao(5),xZ=Ao(6);hm.range;Nh.range;vZ.range;wZ.range;$s.range;bZ.range;xZ.range;function Po(t){return Nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/gx)}const pm=Po(0),Dh=Po(1),_Z=Po(2),SZ=Po(3),Ls=Po(4),EZ=Po(5),TZ=Po(6);pm.range;Dh.range;_Z.range;SZ.range;Ls.range;EZ.range;TZ.range;const xx=Nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xx.range;const _x=Nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_x.range;const ki=Nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ki.range;const Ci=Nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ci.range;function Rj(t,e,r,n,i,a){const o=[[Xa,1,hi],[Xa,5,5*hi],[Xa,15,15*hi],[Xa,30,30*hi],[a,1,an],[a,5,5*an],[a,15,15*an],[a,30,30*an],[i,1,pi],[i,3,3*pi],[i,6,6*pi],[i,12,12*pi],[n,1,Oi],[n,2,2*Oi],[r,1,gx],[e,1,UT],[e,3,3*UT],[t,1,Gg]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,p=ix(([,,v])=>v).right(o,h);if(p===o.length)return t.every(r0(u/Gg,c/Gg,f));if(p===0)return jh.every(Math.max(r0(u,c,f),1));const[g,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(y)}return[s,l]}const[AZ,PZ]=Rj(Ci,_x,pm,Mj,bx,vx),[OZ,kZ]=Rj(ki,xx,hm,af,wx,yx);function Qg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function CZ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Kl(i),c=ql(i),f=Kl(a),h=ql(a),p=Kl(o),g=ql(o),y=Kl(s),v=ql(s),_=Kl(l),b=ql(l),E={a:L,A:$,b:R,B,c:null,d:GT,e:GT,f:ZZ,g:uee,G:fee,H:XZ,I:YZ,j:JZ,L:$j,m:eee,M:tee,p:W,q:H,Q:YT,s:JT,S:ree,u:nee,U:iee,V:aee,w:oee,W:see,x:null,X:null,y:lee,Y:cee,Z:dee,"%":XT},k={a:Z,A:ye,b:Pe,B:Te,c:null,d:QT,e:QT,f:gee,g:Aee,G:Oee,H:hee,I:pee,j:mee,L:Fj,m:yee,M:vee,p:ot,q:Je,Q:YT,s:JT,S:wee,u:bee,U:xee,V:_ee,w:See,W:Eee,x:null,X:null,y:Tee,Y:Pee,Z:kee,"%":XT},T={a:j,A:C,b:N,B:I,c:z,d:qT,e:qT,f:qZ,g:KT,G:WT,H:HT,I:HT,j:UZ,L:KZ,m:BZ,M:zZ,p:O,q:VZ,Q:GZ,s:QZ,S:WZ,u:MZ,U:RZ,V:$Z,w:DZ,W:LZ,x:V,X:K,y:KT,Y:WT,Z:FZ,"%":HZ};E.x=P(r,E),E.X=P(n,E),E.c=P(e,E),k.x=P(r,k),k.X=P(n,k),k.c=P(e,k);function P(ie,he){return function(ge){var X=[],We=-1,Se=0,Ze=ie.length,st,Dt,qr;for(ge instanceof Date||(ge=new Date(+ge));++We<Ze;)ie.charCodeAt(We)===37&&(X.push(ie.slice(Se,We)),(Dt=zT[st=ie.charAt(++We)])!=null?st=ie.charAt(++We):Dt=st==="e"?" ":"0",(qr=he[st])&&(st=qr(ge,Dt)),X.push(st),Se=We+1);return X.push(ie.slice(Se,We)),X.join("")}}function S(ie,he){return function(ge){var X=Wl(1900,void 0,1),We=x(X,ie,ge+="",0),Se,Ze;if(We!=ge.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(he&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Se=Xg(Wl(X.y,0,1)),Ze=Se.getUTCDay(),Se=Ze>4||Ze===0?Dh.ceil(Se):Dh(Se),Se=dm.offset(Se,(X.V-1)*7),X.y=Se.getUTCFullYear(),X.m=Se.getUTCMonth(),X.d=Se.getUTCDate()+(X.w+6)%7):(Se=Qg(Wl(X.y,0,1)),Ze=Se.getDay(),Se=Ze>4||Ze===0?Nh.ceil(Se):Nh(Se),Se=af.offset(Se,(X.V-1)*7),X.y=Se.getFullYear(),X.m=Se.getMonth(),X.d=Se.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Ze="Z"in X?Xg(Wl(X.y,0,1)).getUTCDay():Qg(Wl(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Ze+5)%7:X.w+X.U*7-(Ze+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Xg(X)):Qg(X)}}function x(ie,he,ge,X){for(var We=0,Se=he.length,Ze=ge.length,st,Dt;We<Se;){if(X>=Ze)return-1;if(st=he.charCodeAt(We++),st===37){if(st=he.charAt(We++),Dt=T[st in zT?he.charAt(We++):st],!Dt||(X=Dt(ie,ge,X))<0)return-1}else if(st!=ge.charCodeAt(X++))return-1}return X}function O(ie,he,ge){var X=u.exec(he.slice(ge));return X?(ie.p=c.get(X[0].toLowerCase()),ge+X[0].length):-1}function j(ie,he,ge){var X=p.exec(he.slice(ge));return X?(ie.w=g.get(X[0].toLowerCase()),ge+X[0].length):-1}function C(ie,he,ge){var X=f.exec(he.slice(ge));return X?(ie.w=h.get(X[0].toLowerCase()),ge+X[0].length):-1}function N(ie,he,ge){var X=_.exec(he.slice(ge));return X?(ie.m=b.get(X[0].toLowerCase()),ge+X[0].length):-1}function I(ie,he,ge){var X=y.exec(he.slice(ge));return X?(ie.m=v.get(X[0].toLowerCase()),ge+X[0].length):-1}function z(ie,he,ge){return x(ie,e,he,ge)}function V(ie,he,ge){return x(ie,r,he,ge)}function K(ie,he,ge){return x(ie,n,he,ge)}function L(ie){return o[ie.getDay()]}function $(ie){return a[ie.getDay()]}function R(ie){return l[ie.getMonth()]}function B(ie){return s[ie.getMonth()]}function W(ie){return i[+(ie.getHours()>=12)]}function H(ie){return 1+~~(ie.getMonth()/3)}function Z(ie){return o[ie.getUTCDay()]}function ye(ie){return a[ie.getUTCDay()]}function Pe(ie){return l[ie.getUTCMonth()]}function Te(ie){return s[ie.getUTCMonth()]}function ot(ie){return i[+(ie.getUTCHours()>=12)]}function Je(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var he=P(ie+="",E);return he.toString=function(){return ie},he},parse:function(ie){var he=S(ie+="",!1);return he.toString=function(){return ie},he},utcFormat:function(ie){var he=P(ie+="",k);return he.toString=function(){return ie},he},utcParse:function(ie){var he=S(ie+="",!0);return he.toString=function(){return ie},he}}}var zT={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,IZ=/^%/,jZ=/[\\^$*+?|[\]().{}]/g;function Fe(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function NZ(t){return t.replace(jZ,"\\$&")}function Kl(t){return new RegExp("^(?:"+t.map(NZ).join("|")+")","i")}function ql(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function DZ(t,e,r){var n=Vt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function MZ(t,e,r){var n=Vt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function RZ(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function $Z(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function LZ(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function WT(t,e,r){var n=Vt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function KT(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FZ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function VZ(t,e,r){var n=Vt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function BZ(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function qT(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function UZ(t,e,r){var n=Vt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function HT(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function zZ(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function WZ(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function KZ(t,e,r){var n=Vt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function qZ(t,e,r){var n=Vt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function HZ(t,e,r){var n=IZ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function GZ(t,e,r){var n=Vt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function QZ(t,e,r){var n=Vt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function GT(t,e){return Fe(t.getDate(),e,2)}function XZ(t,e){return Fe(t.getHours(),e,2)}function YZ(t,e){return Fe(t.getHours()%12||12,e,2)}function JZ(t,e){return Fe(1+af.count(ki(t),t),e,3)}function $j(t,e){return Fe(t.getMilliseconds(),e,3)}function ZZ(t,e){return $j(t,e)+"000"}function eee(t,e){return Fe(t.getMonth()+1,e,2)}function tee(t,e){return Fe(t.getMinutes(),e,2)}function ree(t,e){return Fe(t.getSeconds(),e,2)}function nee(t){var e=t.getDay();return e===0?7:e}function iee(t,e){return Fe(hm.count(ki(t)-1,t),e,2)}function Lj(t){var e=t.getDay();return e>=4||e===0?$s(t):$s.ceil(t)}function aee(t,e){return t=Lj(t),Fe($s.count(ki(t),t)+(ki(t).getDay()===4),e,2)}function oee(t){return t.getDay()}function see(t,e){return Fe(Nh.count(ki(t)-1,t),e,2)}function lee(t,e){return Fe(t.getFullYear()%100,e,2)}function uee(t,e){return t=Lj(t),Fe(t.getFullYear()%100,e,2)}function cee(t,e){return Fe(t.getFullYear()%1e4,e,4)}function fee(t,e){var r=t.getDay();return t=r>=4||r===0?$s(t):$s.ceil(t),Fe(t.getFullYear()%1e4,e,4)}function dee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fe(e/60|0,"0",2)+Fe(e%60,"0",2)}function QT(t,e){return Fe(t.getUTCDate(),e,2)}function hee(t,e){return Fe(t.getUTCHours(),e,2)}function pee(t,e){return Fe(t.getUTCHours()%12||12,e,2)}function mee(t,e){return Fe(1+dm.count(Ci(t),t),e,3)}function Fj(t,e){return Fe(t.getUTCMilliseconds(),e,3)}function gee(t,e){return Fj(t,e)+"000"}function yee(t,e){return Fe(t.getUTCMonth()+1,e,2)}function vee(t,e){return Fe(t.getUTCMinutes(),e,2)}function wee(t,e){return Fe(t.getUTCSeconds(),e,2)}function bee(t){var e=t.getUTCDay();return e===0?7:e}function xee(t,e){return Fe(pm.count(Ci(t)-1,t),e,2)}function Vj(t){var e=t.getUTCDay();return e>=4||e===0?Ls(t):Ls.ceil(t)}function _ee(t,e){return t=Vj(t),Fe(Ls.count(Ci(t),t)+(Ci(t).getUTCDay()===4),e,2)}function See(t){return t.getUTCDay()}function Eee(t,e){return Fe(Dh.count(Ci(t)-1,t),e,2)}function Tee(t,e){return Fe(t.getUTCFullYear()%100,e,2)}function Aee(t,e){return t=Vj(t),Fe(t.getUTCFullYear()%100,e,2)}function Pee(t,e){return Fe(t.getUTCFullYear()%1e4,e,4)}function Oee(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ls(t):Ls.ceil(t),Fe(t.getUTCFullYear()%1e4,e,4)}function kee(){return"+0000"}function XT(){return"%"}function YT(t){return+t}function JT(t){return Math.floor(+t/1e3)}var Ro,Bj,Uj;Cee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cee(t){return Ro=CZ(t),Bj=Ro.format,Ro.parse,Uj=Ro.utcFormat,Ro.utcParse,Ro}function Iee(t){return new Date(t)}function jee(t){return t instanceof Date?+t:+new Date(+t)}function Sx(t,e,r,n,i,a,o,s,l,u){var c=ux(),f=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),b=u("%b %d"),E=u("%B"),k=u("%Y");function T(P){return(l(P)<P?p:s(P)<P?g:o(P)<P?y:a(P)<P?v:n(P)<P?i(P)<P?_:b:r(P)<P?E:k)(P)}return c.invert=function(P){return new Date(f(P))},c.domain=function(P){return arguments.length?h(Array.from(P,jee)):h().map(Iee)},c.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?T:u(S)},c.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(Oj(S,P)):c},c.copy=function(){return nf(c,Sx(t,e,r,n,i,a,o,s,l,u))},c}function Nee(){return hn.apply(Sx(OZ,kZ,ki,xx,hm,af,wx,yx,Xa,Bj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dee(){return hn.apply(Sx(AZ,PZ,Ci,_x,pm,dm,bx,vx,Xa,Uj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mm(){var t=0,e=1,r,n,i,a,o=yr,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=c(yl),u.rangeRound=c(lx),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Oa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zj(){var t=Pa(mm()(yr));return t.copy=function(){return Oa(t,zj())},Ri.apply(t,arguments)}function Wj(){var t=dx(mm()).domain([1,10]);return t.copy=function(){return Oa(t,Wj()).base(t.base())},Ri.apply(t,arguments)}function Kj(){var t=hx(mm());return t.copy=function(){return Oa(t,Kj()).constant(t.constant())},Ri.apply(t,arguments)}function Ex(){var t=px(mm());return t.copy=function(){return Oa(t,Ex()).exponent(t.exponent())},Ri.apply(t,arguments)}function Mee(){return Ex.apply(null,arguments).exponent(.5)}function qj(){var t=[],e=yr;function r(n){if(n!=null&&!isNaN(n=+n))return e((tf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>xJ(t,a/n))},r.copy=function(){return qj(e).domain(t)},Ri.apply(r,arguments)}function gm(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=yr,c,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-a)*(n*y<n*a?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=c(t=+t),a=c(e=+e),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(v){var _,b,E;return arguments.length?([_,b,E]=v,u=HJ(y,[_,b,E]),p):[u(0),u(.5),u(1)]}}return p.range=g(yl),p.rangeRound=g(lx),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),a=y(e),o=y(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function Hj(){var t=Pa(gm()(yr));return t.copy=function(){return Oa(t,Hj())},Ri.apply(t,arguments)}function Gj(){var t=dx(gm()).domain([.1,1,10]);return t.copy=function(){return Oa(t,Gj()).base(t.base())},Ri.apply(t,arguments)}function Qj(){var t=hx(gm());return t.copy=function(){return Oa(t,Qj()).constant(t.constant())},Ri.apply(t,arguments)}function Tx(){var t=px(gm());return t.copy=function(){return Oa(t,Tx()).exponent(t.exponent())},Ri.apply(t,arguments)}function Ree(){return Tx.apply(null,arguments).exponent(.5)}const ZT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lc,scaleDiverging:Hj,scaleDivergingLog:Gj,scaleDivergingPow:Tx,scaleDivergingSqrt:Ree,scaleDivergingSymlog:Qj,scaleIdentity:Pj,scaleImplicit:n0,scaleLinear:Ih,scaleLog:kj,scaleOrdinal:ax,scalePoint:xu,scalePow:mx,scaleQuantile:jj,scaleQuantize:Nj,scaleRadial:Ij,scaleSequential:zj,scaleSequentialLog:Wj,scaleSequentialPow:Ex,scaleSequentialQuantile:qj,scaleSequentialSqrt:Mee,scaleSequentialSymlog:Kj,scaleSqrt:gZ,scaleSymlog:Cj,scaleThreshold:Dj,scaleTime:Nee,scaleUtc:Dee,tickFormat:Aj},Symbol.toStringTag,{value:"Module"}));var $ee=ll;function Lee(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!$ee(o):r(o,s)))var s=o,l=a}return l}var Xj=Lee;function Fee(t,e){return t>e}var Vee=Fee,Bee=Xj,Uee=Vee,zee=ml;function Wee(t){return t&&t.length?Bee(t,zee,Uee):void 0}var Kee=Wee;const ym=Ge(Kee);function qee(t,e){return t<e}var Hee=qee,Gee=Xj,Qee=Hee,Xee=ml;function Yee(t){return t&&t.length?Gee(t,Xee,Qee):void 0}var Jee=Yee;const vm=Ge(Jee);var Zee=Fb,ete=Aa,tte=ij,rte=Ir;function nte(t,e){var r=rte(t)?Zee:tte;return r(t,ete(e))}var ite=nte,ate=rj,ote=ite;function ste(t,e){return ate(ote(t,e),1)}var lte=ste;const ute=Ge(lte);var cte=ex;function fte(t,e){return cte(t,e)}var dte=fte;const wm=Ge(dte);var vl=1e9,hte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Px,ut=!0,fn="[DecimalError] ",ro=fn+"Invalid argument: ",Ax=fn+"Exponent out of range: ",wl=Math.floor,za=Math.pow,pte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Lr,$t=1e7,nt=7,Yj=9007199254740991,Mh=wl(Yj/nt),le={};le.absoluteValue=le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};le.comparedTo=le.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};le.decimalPlaces=le.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*nt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(t){return bi(this,new this.constructor(t))};le.dividedToIntegerBy=le.idiv=function(t){var e=this,r=e.constructor;return He(bi(e,new r(t),0,1),r.precision)};le.equals=le.eq=function(t){return!this.cmp(t)};le.exponent=function(){return Tt(this)};le.greaterThan=le.gt=function(t){return this.cmp(t)>0};le.greaterThanOrEqualTo=le.gte=function(t){return this.cmp(t)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(t){return this.cmp(t)<0};le.lessThanOrEqualTo=le.lte=function(t){return this.cmp(t)<1};le.logarithm=le.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Lr))throw Error(fn+"NaN");if(r.s<1)throw Error(fn+(r.s?"NaN":"-Infinity"));return r.eq(Lr)?new n(0):(ut=!1,e=bi(hc(r,a),hc(t,a),a),ut=!0,He(e,i))};le.minus=le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eN(e,t):Jj(e,(t.s=-t.s,t))};le.modulo=le.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(fn+"NaN");return r.s?(ut=!1,e=bi(r,t,0,1).times(t),ut=!0,r.minus(e)):He(new n(r),i)};le.naturalExponential=le.exp=function(){return Zj(this)};le.naturalLogarithm=le.ln=function(){return hc(this)};le.negated=le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};le.plus=le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jj(e,t):eN(e,(t.s=-t.s,t))};le.precision=le.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ro+t);if(e=Tt(i)+1,n=i.d.length-1,r=n*nt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};le.squareRoot=le.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(fn+"NaN")}for(t=Tt(s),ut=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Bn(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(bi(s,a,o+2)).times(.5),Bn(a.d).slice(0,o)===(e=Bn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(He(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return ut=!0,He(n,r)};le.times=le.mul=function(t){var e,r,n,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,r=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%$t|0,e=s/$t|0;a[i]=(a[i]+e)%$t|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ut?He(t,f.precision):t};le.toDecimalPlaces=le.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Xn(t,0,vl),e===void 0?e=n.rounding:Xn(e,0,8),He(r,t+Tt(r)+1,e))};le.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=po(n,!0):(Xn(t,0,vl),e===void 0?e=i.rounding:Xn(e,0,8),n=He(new i(n),t+1,e),r=po(n,!0,t+1)),r};le.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?po(i):(Xn(t,0,vl),e===void 0?e=a.rounding:Xn(e,0,8),n=He(new a(i),t+Tt(i)+1,e),r=po(n.abs(),!1,t+Tt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var t=this,e=t.constructor;return He(new e(t),Tt(t)+1,e.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Lr);if(s=new l(s),!s.s){if(t.s<1)throw Error(fn+"Infinity");return s}if(s.eq(Lr))return s;if(n=l.precision,t.eq(Lr))return He(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=c<0?-c:c)<=Yj){for(i=new l(Lr),e=Math.ceil(n/nt+4),ut=!1;r%2&&(i=i.times(s),tA(i.d,e)),r=wl(r/2),r!==0;)s=s.times(s),tA(s.d,e);return ut=!0,t.s<0?new l(Lr).div(i):He(i,n)}}else if(a<0)throw Error(fn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,ut=!1,i=t.times(hc(s,n+u)),ut=!0,i=Zj(i),i.s=a,i};le.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Tt(i),n=po(i,r<=a.toExpNeg||r>=a.toExpPos)):(Xn(t,1,vl),e===void 0?e=a.rounding:Xn(e,0,8),i=He(new a(i),t,e),r=Tt(i),n=po(i,t<=r||r<=a.toExpNeg,t)),n};le.toSignificantDigits=le.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Xn(t,1,vl),e===void 0?e=n.rounding:Xn(e,0,8)),He(new n(r),t,e)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tt(t),r=t.constructor;return po(t,e<=r.toExpNeg||e>=r.toExpPos)};function Jj(t,e){var r,n,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ut?He(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(f/nt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/$t|0,l[a]%=$t;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ut?He(e,f):e}function Xn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ro+t)}function Bn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=nt-n.length,r&&(a+=qi(r)),a+=n;o=t[e],n=o+"",r=nt-n.length,r&&(a+=qi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var bi=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%$t|0,o=a/$t|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*$t+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,f,h,p,g,y,v,_,b,E,k,T,P,S,x,O=n.constructor,j=n.s==i.s?1:-1,C=n.d,N=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(fn+"Division by zero");for(l=n.e-i.e,S=N.length,T=C.length,p=new O(j),g=p.d=[],u=0;N[u]==(C[u]||0);)++u;if(N[u]>(C[u]||0)&&--l,a==null?b=a=O.precision:o?b=a+(Tt(n)-Tt(i))+1:b=a,b<0)return new O(0);if(b=b/nt+2|0,u=0,S==1)for(c=0,N=N[0],b++;(u<T||c)&&b--;u++)E=c*$t+(C[u]||0),g[u]=E/N|0,c=E%N|0;else{for(c=$t/(N[0]+1)|0,c>1&&(N=t(N,c),C=t(C,c),S=N.length,T=C.length),k=S,y=C.slice(0,S),v=y.length;v<S;)y[v++]=0;x=N.slice(),x.unshift(0),P=N[0],N[1]>=$t/2&&++P;do c=0,s=e(N,y,S,v),s<0?(_=y[0],S!=v&&(_=_*$t+(y[1]||0)),c=_/P|0,c>1?(c>=$t&&(c=$t-1),f=t(N,c),h=f.length,v=y.length,s=e(f,y,h,v),s==1&&(c--,r(f,S<h?x:N,h))):(c==0&&(s=c=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),s==-1&&(v=y.length,s=e(N,y,S,v),s<1&&(c++,r(y,S<v?x:N,v))),v=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[v++]=C[k]||0:(y=[C[k]],v=1);while((k++<T||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,He(p,o?a+Tt(p)+1:a)}}();function Zj(t,e){var r,n,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(Tt(t)>16)throw Error(Ax+Tt(t));if(!t.s)return new c(Lr);for(ut=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(za(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(Lr),c.precision=s;;){if(i=He(i.times(t),s),r=r.times(++l),o=a.plus(bi(i,r,s)),Bn(o.d).slice(0,s)===Bn(a.d).slice(0,s)){for(;u--;)a=He(a.times(a),s);return c.precision=f,e==null?(ut=!0,He(a,f)):a}a=o}}function Tt(t){for(var e=t.e*nt,r=t.d[0];r>=10;r/=10)e++;return e}function Yg(t,e,r){if(e>t.LN10.sd())throw ut=!0,r&&(t.precision=r),Error(fn+"LN10 precision limit exceeded");return He(new t(t.LN10),e)}function qi(t){for(var e="";t--;)e+="0";return e}function hc(t,e){var r,n,i,a,o,s,l,u,c,f=1,h=10,p=t,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(fn+(p.s?"NaN":"-Infinity"));if(p.eq(Lr))return new y(0);if(e==null?(ut=!1,u=v):u=e,p.eq(10))return e==null&&(ut=!0),Yg(y,u);if(u+=h,y.precision=u,r=Bn(g),n=r.charAt(0),a=Tt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Bn(p.d),n=r.charAt(0),f++;a=Tt(p),n>1?(p=new y("0."+r),a++):p=new y(n+"."+r.slice(1))}else return l=Yg(y,u+2,v).times(a+""),p=hc(new y(n+"."+r.slice(1)),u-h).plus(l),y.precision=v,e==null?(ut=!0,He(p,v)):p;for(s=o=p=bi(p.minus(Lr),p.plus(Lr),u),c=He(p.times(p),u),i=3;;){if(o=He(o.times(c),u),l=s.plus(bi(o,new y(i),u)),Bn(l.d).slice(0,u)===Bn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Yg(y,u+2,v).times(a+""))),s=bi(s,new y(f),u),y.precision=v,e==null?(ut=!0,He(s,v)):s;s=l,i+=2}}function eA(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=wl(r/nt),t.d=[],n=(r+1)%nt,r<0&&(n+=nt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=nt;n<i;)t.d.push(+e.slice(n,n+=nt));e=e.slice(n),n=nt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ut&&(t.e>Mh||t.e<-Mh))throw Error(Ax+r)}else t.s=0,t.e=0,t.d=[0];return t}function He(t,e,r){var n,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=nt,i=e,u=f[c=0];else{if(c=Math.ceil((n+1)/nt),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;n%=nt,i=n-nt+o}if(r!==void 0&&(a=za(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/za(10,o-i):0:f[c-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Tt(t),f.length=1,e=e-a-1,f[0]=za(10,(nt-e%nt)%nt),t.e=wl(-e/nt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=za(10,nt-n),f[c]=i>0?(u/za(10,o-i)%za(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==$t&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=$t)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ut&&(t.e>Mh||t.e<-Mh))throw Error(Ax+Tt(t));return t}function eN(t,e){var r,n,i,a,o,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ut?He(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),i=Math.max(Math.ceil(p/nt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=$t-1;--l[a],l[i]+=$t}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ut?He(e,p):e):new h(0)}function po(t,e,r){var n,i=Tt(t),a=Bn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+qi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+qi(-i-1)+a,r&&(n=r-o)>0&&(a+=qi(n))):i>=o?(a+=qi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+qi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=qi(n))),t.s<0?"-"+a:a}function tA(t,e){if(t.length>e)return t.length=e,!0}function tN(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ro+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return eA(o,a.toString())}else if(typeof a!="string")throw Error(ro+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,pte.test(a))eA(o,a);else throw Error(ro+a)}if(i.prototype=le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tN,i.config=i.set=mte,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function mte(t){if(!t||typeof t!="object")throw Error(fn+"Object expected");var e,r,n,i=["precision",1,vl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(wl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ro+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ro+r+": "+n);return this}var Px=tN(hte);Lr=new Px(1);const Ke=Px;function gte(t){return bte(t)||wte(t)||vte(t)||yte()}function yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vte(t,e){if(t){if(typeof t=="string")return s0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s0(t,e)}}function wte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bte(t){if(Array.isArray(t))return s0(t)}function s0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xte=function(e){return e},rN={},nN=function(e){return e===rN},rA=function(e){return function r(){return arguments.length===0||arguments.length===1&&nN(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},_te=function t(e,r){return e===1?r:rA(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==rN}).length;return o>=e?r.apply(void 0,i):t(e-o,rA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return nN(f)?l.shift():f});return r.apply(void 0,gte(c).concat(l))}))})},bm=function(e){return _te(e.length,e)},l0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Ste=bm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Ete=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return xte;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},u0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iN=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function Tte(t){var e;return t===0?e=1:e=Math.floor(new Ke(t).abs().log(10).toNumber())+1,e}function Ate(t,e,r){for(var n=new Ke(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Pte=bm(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Ote=bm(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),kte=bm(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const xm={rangeStep:Ate,getDigitCount:Tte,interpolateNumber:Pte,uninterpolateNumber:Ote,uninterpolateTruncation:kte};function c0(t){return jte(t)||Ite(t)||aN(t)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ite(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jte(t){if(Array.isArray(t))return f0(t)}function pc(t,e){return Mte(t)||Dte(t,e)||aN(t,e)||Nte()}function Nte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aN(t,e){if(t){if(typeof t=="string")return f0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f0(t,e)}}function f0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Mte(t){if(Array.isArray(t))return t}function oN(t){var e=pc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function sN(t,e,r){if(t.lte(0))return new Ke(0);var n=xm.getDigitCount(t.toNumber()),i=new Ke(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Ke(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Ke(Math.ceil(l))}function Rte(t,e,r){var n=1,i=new Ke(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ke(10).pow(xm.getDigitCount(t)-1),i=new Ke(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ke(Math.floor(t)))}else t===0?i=new Ke(Math.floor((e-1)/2)):r||(i=new Ke(Math.floor(t)));var o=Math.floor((e-1)/2),s=Ete(Ste(function(l){return i.add(new Ke(l-o).mul(n)).toNumber()}),l0);return s(0,e)}function lN(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var a=sN(new Ke(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ke(0):(o=new Ke(t).add(e).div(2),o=o.sub(new Ke(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Ke(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?lN(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Ke(s).mul(a)),tickMax:o.add(new Ke(l).mul(a))})}function $te(t){var e=pc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=oN([r,n]),l=pc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(c0(l0(0,i-1).map(function(){return 1/0}))):[].concat(c0(l0(0,i-1).map(function(){return-1/0})),[c]);return r>n?u0(f):f}if(u===c)return Rte(u,i,a);var h=lN(u,c,o,a),p=h.step,g=h.tickMin,y=h.tickMax,v=xm.rangeStep(g,y.add(new Ke(.1).mul(p)),p);return r>n?u0(v):v}function Lte(t,e){var r=pc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=oN([n,i]),s=pc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(e,2),f=sN(new Ke(u).sub(l).div(c-1),a,0),h=[].concat(c0(xm.rangeStep(new Ke(l),new Ke(u).sub(new Ke(.99).mul(f)),f)),[u]);return n>i?u0(h):h}var Fte=iN($te),Vte=iN(Lte),Bte="Invariant failed";function mo(t,e){throw new Error(Bte)}var Ute=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rh.apply(this,arguments)}function zte(t,e){return Hte(t)||qte(t,e)||Kte(t,e)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(t,e){if(t){if(typeof t=="string")return nA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nA(t,e)}}function nA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hte(t){if(Array.isArray(t))return t}function Gte(t,e){if(t==null)return{};var r=Qte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fN(n.key),n)}}function Jte(t,e,r){return e&&Yte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zte(t,e,r){return e=$h(e),ere(t,uN()?Reflect.construct(e,r||[],$h(t).constructor):e.apply(t,r))}function ere(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tre(t)}function tre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uN=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(t)}function rre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d0(t,e)}function d0(t,e){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d0(t,e)}function cN(t,e,r){return e=fN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fN(t){var e=nre(t,"string");return Fs(e)=="symbol"?e:e+""}function nre(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var of=function(t){function e(){return Xte(this,e),Zte(this,e,arguments)}return rre(e,t),Jte(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,f=n.yAxis,h=Gte(n,Ute),p=je(h,!1);this.props.direction==="x"&&c.type!=="number"&&mo();var g=l.map(function(y){var v=u(y,s),_=v.x,b=v.y,E=v.value,k=v.errorVal;if(!k)return null;var T=[],P,S;if(Array.isArray(k)){var x=zte(k,2);P=x[0],S=x[1]}else P=S=k;if(a==="vertical"){var O=c.scale,j=b+i,C=j+o,N=j-o,I=O(E-P),z=O(E+S);T.push({x1:z,y1:C,x2:z,y2:N}),T.push({x1:I,y1:j,x2:z,y2:j}),T.push({x1:I,y1:C,x2:I,y2:N})}else if(a==="horizontal"){var V=f.scale,K=_+i,L=K-o,$=K+o,R=V(E-P),B=V(E+S);T.push({x1:L,y1:B,x2:$,y2:B}),T.push({x1:K,y1:R,x2:K,y2:B}),T.push({x1:L,y1:R,x2:$,y2:R})}return F.createElement(bt,Rh({className:"recharts-errorBar",key:"bar-".concat(T.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),T.map(function(W){return F.createElement("line",Rh({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return F.createElement(bt,{className:"recharts-errorBars"},g)}}])}(F.Component);cN(of,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cN(of,"displayName","ErrorBar");function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function iA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(r),!0).forEach(function(n){ire(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ire(t,e,r){return e=are(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function are(t){var e=ore(t,"string");return mc(e)=="symbol"?e:e+""}function ore(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dN=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=$r(r,Cn);if(!o)return null;var s=Cn.defaultProps,l=s!==void 0?$a($a({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(c,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return c.concat(g.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?$a($a({},h),f.props):{},g=p.dataKey,y=p.name,v=p.legendType,_=p.hide;return{inactive:_,dataKey:g,type:l.iconType||v||"square",color:Ox(f),value:y||g,payload:p}}),$a($a($a({},l),Cn.getWithHeight(o,i)),{},{payload:u,item:o})};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function aA(t){return cre(t)||ure(t)||lre(t)||sre()}function sre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lre(t,e){if(t){if(typeof t=="string")return h0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h0(t,e)}}function ure(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cre(t){if(Array.isArray(t))return h0(t)}function h0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){hs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hs(t,e,r){return e=fre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fre(t){var e=dre(t,"string");return gc(e)=="symbol"?e:e+""}function dre(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zr(t,e,r){return ke(t)||ke(e)?r:It(e)?sn(t,e,r):Ee(e)?e(t):r}function _u(t,e,r,n){var i=ute(t,function(s){return zr(s,e)});if(r==="number"){var a=i.filter(function(s){return ne(s)||parseFloat(s)});return a.length?[vm(a),ym(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!ke(s)}):i;return o.map(function(s){return It(s)||s instanceof Date?s:""})}var hre=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(An(f-c)!==An(h-f)){var g=[];if(An(h-f)===An(l[1]-l[0])){p=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{p=c;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var b=Math.min(c,h),E=Math.max(c,h);if(e>(b+f)/2&&e<=(E+f)/2){o=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},Ox=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},pre=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var g=c[f[h]],y=g.items,v=g.cateAxisId,_=y.filter(function(S){return vi(S.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,E=b!==void 0?yt(yt({},b),_[0].props):_[0].props,k=E.barSize,T=E[v];o[T]||(o[T]=[]);var P=ke(k)?r:k;o[T].push({item:_[0],stackList:_.slice(1),barSize:ke(P)?void 0:ho(P,n,0)})}}return o},mre=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ho(r,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,g=o.reduce(function(k,T){return k+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,v={offset:y-u,size:0};c=o.reduce(function(k,T){var P={item:T.item,position:{offset:v.offset+v.size+u,size:h?p:T.barSize}},S=[].concat(aA(k),[P]);return v=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(x){S.push({item:x,position:v})}),S},f)}else{var _=ho(n,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var b=(i-2*_-(l-1)*u)/l;b>1&&(b>>=0);var E=s===+s?Math.min(b,s):b;c=o.reduce(function(k,T,P){var S=[].concat(aA(k),[{item:T.item,position:{offset:_+(b+u)*P+(b-E)/2,size:E}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(x){S.push({item:x,position:S[S.length-1].position})}),S},f)}return c},gre=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=dN({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&ne(e[p]))return yt(yt({},e),{},hs({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&ne(e[g]))return yt(yt({},e),{},hs({},g,e[g]+(h||0)))}return e},yre=function(e,r,n){return ke(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hN=function(e,r,n,i,a){var o=r.props.children,s=ln(o,of).filter(function(u){return yre(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=zr(c,n);if(ke(f))return u;var h=Array.isArray(f)?[vm(f),ym(f)]:[f,f],p=l.reduce(function(g,y){var v=zr(c,y,0),_=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},vre=function(e,r,n,i,a){var o=r.map(function(s){return hN(e,s,n,a,i)}).filter(function(s){return!ke(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},pN=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&hN(e,l,u,i)||_u(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},mN=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},gN=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},mi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?An(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Jc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Jg=new WeakMap,td=function(e,r){if(typeof r!="function")return e;Jg.has(e)||Jg.set(e,new WeakMap);var n=Jg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},wre=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:lc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Ih(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xu(),realScaleType:"point"}:a==="category"?{scale:lc(),realScaleType:"band"}:{scale:Ih(),realScaleType:"linear"};if(fo(i)){var l="scale".concat(im(i));return{scale:(ZT[l]||xu)(),realScaleType:ZT[l]?l:"point"}}return Ee(i)?{scale:i}:{scale:xu(),realScaleType:"point"}},sA=1e-4,bre=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-sA,o=Math.max(i[0],i[1])+sA,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},xre=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},_re=function(e,r){if(!r||r.length!==2||!ne(r[0])||!ne(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ne(e[0])||e[0]<n)&&(a[0]=n),(!ne(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Sre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Jc(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},Ere=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Jc(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Tre={sign:Sre,expand:V8,none:Cs,silhouette:B8,wiggle:U8,positive:Ere},Are=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Tre[n],o=F8().keys(i).value(function(s,l){return+zr(s,l,0)}).order(Lv).offset(a);return o(e)},Pre=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?yt(yt({},h.type.defaultProps),h.props):h.props,y=g.stackId,v=g.hide;if(v)return f;var _=g[n],b=f[_]||{hasStack:!1,stackGroups:{}};if(It(y)){var E=b.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(h),b.hasStack=!0,b.stackGroups[y]=E}else b.stackGroups[Zc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return yt(yt({},f),{},hs({},_,b))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var _=p.stackGroups[v];return yt(yt({},y),{},hs({},v,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:Are(e,_.items,a)}))},g)}return yt(yt({},f),{},hs({},h,p))},c)},Ore=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Fte(u,a,s);return e.domain([vm(c),ym(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=Vte(f,a,s);return{niceTicks:h}}return null};function lA(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ke(i[e.dataKey])){var s=lh(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=zr(i,ke(o)?e.dataKey:o);return ke(l)?null:e.scale(l)}var uA=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=zr(o,r.dataKey,r.domain[s]);return ke(l)?null:r.scale(l)-a/2+i},kre=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Cre=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(It(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Ire=function(e){return e.reduce(function(r,n){return[vm(n.concat([r[0]]).filter(ne)),ym(n.concat([r[1]]).filter(ne))]},[1/0,-1/0])},yN=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=Ire(c.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},cA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p0=function(e,r,n){if(Ee(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ne(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(cA.test(e[0])){var a=+cA.exec(e[0])[1];i[0]=r[0]-a}else Ee(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ne(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(fA.test(e[1])){var o=+fA.exec(e[1])[1];i[1]=r[1]+o}else Ee(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Lh=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=rx(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},dA=function(e,r,n){return!e||!e.length||wm(e,sn(n,"type.defaultProps.domain"))?r:e},vN=function(e,r){var n=e.type.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return yt(yt({},je(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Ox(e),value:zr(r,i),type:l,payload:r,chartType:u,hide:c})};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){jre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jre(t,e,r){return e=Nre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nre(t){var e=Dre(t,"string");return yc(e)=="symbol"?e:e+""}function Dre(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fh=Math.PI/180,Mre=function(e){return e*180/Math.PI},Gt=function(e,r,n,i){return{x:e+Math.cos(-Fh*i)*n,y:r+Math.sin(-Fh*i)*n}},Rre=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},$re=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=Rre({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Mre(u),angleInRadian:u}},Lre=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Fre=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},mA=function(e,r){var n=e.x,i=e.y,a=$re({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Lre(r),f=c.startAngle,h=c.endAngle,p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?pA(pA({},r),{},{radius:o,angle:Fre(p,r)}):null};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}var Vre=["offset"];function Bre(t){return Kre(t)||Wre(t)||zre(t)||Ure()}function Ure(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zre(t,e){if(t){if(typeof t=="string")return m0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m0(t,e)}}function Wre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kre(t){if(Array.isArray(t))return m0(t)}function m0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qre(t,e){if(t==null)return{};var r=Hre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(r),!0).forEach(function(n){Gre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gre(t,e,r){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qre(t){var e=Xre(t,"string");return vc(e)=="symbol"?e:e+""}function Xre(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wc.apply(this,arguments)}var Yre=function(e){var r=e.value,n=e.formatter,i=ke(e.children)?r:e.children;return Ee(n)?n(i):i},Jre=function(e,r){var n=An(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Zre=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,v=(f+h)/2,_=Jre(p,g),b=_>=0?1:-1,E,k;i==="insideStart"?(E=p+b*o,k=y):i==="insideEnd"?(E=g-b*o,k=!y):i==="end"&&(E=g+b*o,k=y),k=_<=0?k:!k;var T=Gt(u,c,v,E),P=Gt(u,c,v,E+(k?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(P.x,",").concat(P.y),x=ke(e.id)?Zc("recharts-radial-line-"):e.id;return F.createElement("text",wc({},n,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",s)}),F.createElement("defs",null,F.createElement("path",{id:x,d:S})),F.createElement("textPath",{xlinkHref:"#".concat(x)},r))},ene=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var p=Gt(o,s,u+n,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,_=Gt(o,s,v,h),b=_.x,E=_.y;return{x:b,y:E,textAnchor:"middle",verticalAnchor:"middle"}},tne=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,v=y*i,_=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var E={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ot(Ot({},E),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var k={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return Ot(Ot({},k),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(a==="left"){var T={x:s-v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Ot(Ot({},T),n?{width:Math.max(T.x-n.x,0),height:c}:{})}if(a==="right"){var P={x:s+u+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Ot(Ot({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:c}:{})}var S=n?{width:u,height:c}:{};return a==="insideLeft"?Ot({x:s+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):a==="insideRight"?Ot({x:s+u-v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideTop"?Ot({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?Ot({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?Ot({x:s+v,y:l+h,textAnchor:b,verticalAnchor:g},S):a==="insideTopRight"?Ot({x:s+u-v,y:l+h,textAnchor:_,verticalAnchor:g},S):a==="insideBottomLeft"?Ot({x:s+v,y:l+c-h,textAnchor:b,verticalAnchor:p},S):a==="insideBottomRight"?Ot({x:s+u-v,y:l+c-h,textAnchor:_,verticalAnchor:p},S):ul(a)&&(ne(a.x)||Ga(a.x))&&(ne(a.y)||Ga(a.y))?Ot({x:s+ho(a.x,u),y:l+ho(a.y,c),textAnchor:"end",verticalAnchor:"end"},S):Ot({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},rne=function(e){return"cx"in e&&ne(e.cx)};function ur(t){var e=t.offset,r=e===void 0?5:e,n=qre(t,Vre),i=Ot({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||ke(s)&&ke(l)&&!D.isValidElement(u)&&!Ee(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var p;if(Ee(u)){if(p=D.createElement(u,i),D.isValidElement(p))return p}else p=Yre(i);var g=rne(a),y=je(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Zre(i,p,y);var v=g?ene(i):tne(i);return F.createElement(Eh,wc({className:Re("recharts-label",f)},y,v,{breakAll:h}),p)}ur.displayName="Label";var wN=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,y=e.width,v=e.height,_=e.clockWise,b=e.labelViewBox;if(b)return b;if(ne(y)&&ne(v)){if(ne(f)&&ne(h))return{x:f,y:h,width:y,height:v};if(ne(p)&&ne(g))return{x:p,y:g,width:y,height:v}}return ne(f)&&ne(h)?{x:f,y:h,width:0,height:0}:ne(r)&&ne(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},nne=function(e,r){return e?e===!0?F.createElement(ur,{key:"label-implicit",viewBox:r}):It(e)?F.createElement(ur,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===ur?D.cloneElement(e,{key:"label-implicit",viewBox:r}):F.createElement(ur,{key:"label-implicit",content:e,viewBox:r}):Ee(e)?F.createElement(ur,{key:"label-implicit",content:e,viewBox:r}):ul(e)?F.createElement(ur,wc({viewBox:r},e,{key:"label-implicit"})):null:null},ine=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=wN(e),o=ln(i,ur).map(function(l,u){return D.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=nne(e.label,r||a);return[s].concat(Bre(o))};ur.parseViewBox=wN;ur.renderCallByParent=ine;function ane(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var one=ane;const sne=Ge(one);function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}var lne=["valueAccessor"],une=["data","dataKey","clockWise","id","textBreakAll"];function cne(t){return pne(t)||hne(t)||dne(t)||fne()}function fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dne(t,e){if(t){if(typeof t=="string")return g0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g0(t,e)}}function hne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pne(t){if(Array.isArray(t))return g0(t)}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vh.apply(this,arguments)}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){mne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mne(t,e,r){return e=gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gne(t){var e=yne(t,"string");return bc(e)=="symbol"?e:e+""}function yne(t,e){if(bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wA(t,e){if(t==null)return{};var r=vne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wne=function(e){return Array.isArray(e.value)?sne(e.value):e.value};function ma(t){var e=t.valueAccessor,r=e===void 0?wne:e,n=wA(t,lne),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=wA(n,une);return!i||!i.length?null:F.createElement(bt,{className:"recharts-label-list"},i.map(function(c,f){var h=ke(a)?r(c,f):zr(c&&c.payload,a),p=ke(s)?{}:{id:"".concat(s,"-").concat(f)};return F.createElement(ur,Vh({},je(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:ur.parseViewBox(ke(o)?c:vA(vA({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ma.displayName="LabelList";function bne(t,e){return t?t===!0?F.createElement(ma,{key:"labelList-implicit",data:e}):F.isValidElement(t)||Ee(t)?F.createElement(ma,{key:"labelList-implicit",data:e,content:t}):ul(t)?F.createElement(ma,Vh({data:e},t,{key:"labelList-implicit"})):null:null}function xne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ln(n,ma).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=bne(t.label,e);return[a].concat(cne(i))}ma.renderCallByParent=xne;function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){_ne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ne(t,e,r){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sne(t){var e=Ene(t,"string");return xc(e)=="symbol"?e:e+""}function Ene(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tne=function(e,r){var n=An(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},rd=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Fh,h=u?a:a+o*f,p=Gt(r,n,c,h),g=Gt(r,n,i,h),y=u?a-o*f:a,v=Gt(r,n,c*Math.cos(f*Fh),y);return{center:p,circleTangency:g,lineTangency:v,theta:f}},bN=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Tne(o,s),u=o+l,c=Gt(r,n,a,o),f=Gt(r,n,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Gt(r,n,i,o),g=Gt(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Ane=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=An(c-u),h=rd({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,v=rd({cx:r,cy:n,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),_=v.circleTangency,b=v.lineTangency,E=v.theta,k=l?Math.abs(u-c):Math.abs(u-c)-y-E;if(k<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bN({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=rd({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=P.circleTangency,x=P.lineTangency,O=P.theta,j=rd({cx:r,cy:n,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=j.circleTangency,N=j.lineTangency,I=j.theta,z=l?Math.abs(u-c):Math.abs(u-c)-O-I;if(z<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Pne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xN=function(e){var r=xA(xA({},Pne),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,f=r.endAngle,h=r.className;if(o<a||c===f)return null;var p=Re("recharts-sector",h),g=o-a,y=ho(s,g,0,!0),v;return y>0&&Math.abs(c-f)<360?v=Ane({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=bN({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),F.createElement("path",y0({},je(r,!0),{className:p,d:v,role:"img"}))};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v0.apply(this,arguments)}function _A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(r),!0).forEach(function(n){One(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function One(t,e,r){return e=kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kne(t){var e=Cne(t,"string");return _c(e)=="symbol"?e:e+""}function Cne(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EA={curveBasisClosed:O8,curveBasisOpen:k8,curveBasis:P8,curveBumpX:h8,curveBumpY:p8,curveLinearClosed:C8,curveLinear:om,curveMonotoneX:I8,curveMonotoneY:j8,curveNatural:N8,curveStep:D8,curveStepAfter:R8,curveStepBefore:M8},nd=function(e){return e.x===+e.x&&e.y===+e.y},Hl=function(e){return e.x},Gl=function(e){return e.y},Ine=function(e,r){if(Ee(e))return e;var n="curve".concat(im(e));return(n==="curveMonotone"||n==="curveBump")&&r?EA["".concat(n).concat(r==="vertical"?"Y":"X")]:EA[n]||om},jne=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Ine(n,s),f=u?a.filter(function(y){return nd(y)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(y){return nd(y)}):o,g=f.map(function(y,v){return SA(SA({},y),{},{base:p[v]})});return s==="vertical"?h=Hf().y(Gl).x1(Hl).x0(function(y){return y.base.x}):h=Hf().x(Hl).y1(Gl).y0(function(y){return y.base.y}),h.defined(nd).curve(c),h(g)}return s==="vertical"&&ne(o)?h=Hf().y(Gl).x1(Hl).x0(o):ne(o)?h=Hf().x(Hl).y1(Gl).y0(o):h=x2().x(Hl).y(Gl),h.defined(nd).curve(c),h(f)},w0=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?jne(e):i;return D.createElement("path",v0({},je(e,!1),uh(e),{className:Re("recharts-curve",r),d:o,ref:a}))},_N={exports:{}},Nne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dne=Nne,Mne=Dne;function SN(){}function EN(){}EN.resetWarningCache=SN;var Rne=function(){function t(n,i,a,o,s,l){if(l!==Mne){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EN,resetWarningCache:SN};return r.PropTypes=r,r};_N.exports=Rne();var $ne=_N.exports;const Ve=Ge($ne);var Lne=Object.getOwnPropertyNames,Fne=Object.getOwnPropertySymbols,Vne=Object.prototype.hasOwnProperty;function TA(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function id(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Bne(t){return t!=null?t[Symbol.toStringTag]:void 0}function AA(t){return Lne(t).concat(Fne(t))}var Une=Object.hasOwn||function(t,e){return Vne.call(t,e)};function Oo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var zne="__v",Wne="__o",Kne="_owner",PA=Object.getOwnPropertyDescriptor,OA=Object.keys;function qne(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Hne(t,e){return Oo(t.getTime(),e.getTime())}function Gne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Qne(t,e){return t===e}function kA(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Xne=Oo;function Yne(t,e,r){var n=OA(t),i=n.length;if(OA(e).length!==i)return!1;for(;i-- >0;)if(!TN(t,e,r,n[i]))return!1;return!0}function Ql(t,e,r){var n=AA(t),i=n.length;if(AA(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!TN(t,e,r,a)||(o=PA(t,a),s=PA(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Jne(t,e){return Oo(t.valueOf(),e.valueOf())}function Zne(t,e){return t.source===e.source&&t.flags===e.flags}function CA(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function eie(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function tie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function TN(t,e,r,n){return(n===Kne||n===Wne||n===zne)&&(t.$$typeof||e.$$typeof)?!0:Une(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var rie="[object Arguments]",nie="[object Boolean]",iie="[object Date]",aie="[object Error]",oie="[object Map]",sie="[object Number]",lie="[object Object]",uie="[object RegExp]",cie="[object Set]",fie="[object String]",die="[object URL]",hie=Array.isArray,IA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jA=Object.assign,pie=Object.prototype.toString.call.bind(Object.prototype.toString);function mie(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(y,v,_){if(y===v)return!0;if(y==null||v==null)return!1;var b=typeof y;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?o(y,v,_):b==="function"?i(y,v,_):!1;var E=y.constructor;if(E!==v.constructor)return!1;if(E===Object)return s(y,v,_);if(hie(y))return e(y,v,_);if(IA!=null&&IA(y))return f(y,v,_);if(E===Date)return r(y,v,_);if(E===RegExp)return u(y,v,_);if(E===Map)return a(y,v,_);if(E===Set)return c(y,v,_);var k=pie(y);if(k===iie)return r(y,v,_);if(k===uie)return u(y,v,_);if(k===oie)return a(y,v,_);if(k===cie)return c(y,v,_);if(k===lie)return typeof y.then!="function"&&typeof v.then!="function"&&s(y,v,_);if(k===die)return h(y,v,_);if(k===aie)return n(y,v,_);if(k===rie)return s(y,v,_);if(k===nie||k===sie||k===fie)return l(y,v,_);if(p){var T=p[k];if(!T){var P=Bne(y);P&&(T=p[P])}if(T)return T(y,v,_)}return!1}}function gie(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Ql:qne,areDatesEqual:Hne,areErrorsEqual:Gne,areFunctionsEqual:Qne,areMapsEqual:n?TA(kA,Ql):kA,areNumbersEqual:Xne,areObjectsEqual:n?Ql:Yne,arePrimitiveWrappersEqual:Jne,areRegExpsEqual:Zne,areSetsEqual:n?TA(CA,Ql):CA,areTypedArraysEqual:n?Ql:eie,areUrlsEqual:tie,unknownTagComparators:void 0};if(r&&(i=jA({},i,r(i))),e){var a=id(i.areArraysEqual),o=id(i.areMapsEqual),s=id(i.areObjectsEqual),l=id(i.areSetsEqual);i=jA({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function yie(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function vie(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var c=n(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var wie=ka();ka({strict:!0});ka({circular:!0});ka({circular:!0,strict:!0});ka({createInternalComparator:function(){return Oo}});ka({strict:!0,createInternalComparator:function(){return Oo}});ka({circular:!0,createInternalComparator:function(){return Oo}});ka({circular:!0,createInternalComparator:function(){return Oo},strict:!0});function ka(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=gie(t),l=mie(s),u=n?n(l):yie(l);return vie({circular:r,comparator:l,createState:i,equals:u,strict:o})}function bie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):bie(i)};requestAnimationFrame(n)}function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function xie(t){return Tie(t)||Eie(t)||Sie(t)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sie(t,e){if(t){if(typeof t=="string")return DA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DA(t,e)}}function DA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tie(t){if(Array.isArray(t))return t}function Aie(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=xie(o),l=s[0],u=s.slice(1);if(typeof l=="number"){NA(i.bind(null,u),l);return}i(l),NA(i.bind(null,u));return}b0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function MA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(r),!0).forEach(function(n){AN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AN(t,e,r){return e=Pie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pie(t){var e=Oie(t,"string");return Sc(e)==="symbol"?e:String(e)}function Oie(t,e){if(Sc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kie=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Cie=function(e){return e},Iie=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Su=function(e,r){return Object.keys(r).reduce(function(n,i){return RA(RA({},n),{},AN({},i,e(i,r[i])))},{})},$A=function(e,r,n){return e.map(function(i){return"".concat(Iie(i)," ").concat(r,"ms ").concat(n)}).join(",")};function jie(t,e){return Mie(t)||Die(t,e)||PN(t,e)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mie(t){if(Array.isArray(t))return t}function Rie(t){return Fie(t)||Lie(t)||PN(t)||$ie()}function $ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PN(t,e){if(t){if(typeof t=="string")return x0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x0(t,e)}}function Lie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fie(t){if(Array.isArray(t))return x0(t)}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bh=1e-4,ON=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},kN=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},LA=function(e,r){return function(n){var i=ON(e,r);return kN(i,n)}},Vie=function(e,r){return function(n){var i=ON(e,r),a=[].concat(Rie(i.map(function(o,s){return o*s}).slice(1)),[0]);return kN(a,n)}},FA=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=jie(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=LA(i,o),h=LA(a,s),p=Vie(i,o),g=function(_){return _>1?1:_<0?0:_},y=function(_){for(var b=_>1?1:_,E=b,k=0;k<8;++k){var T=f(E)-b,P=p(E);if(Math.abs(T-b)<Bh||P<Bh)return h(E);E=g(E-T/P)}return h(E)};return y.isStepper=!1,y},Bie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var p=-(c-f)*n,g=h*a,y=h+(p-g)*s/1e3,v=h*s/1e3+c;return Math.abs(v-f)<Bh&&Math.abs(y)<Bh?[f,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},Uie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FA(i);case"spring":return Bie();default:if(i.split("(")[0]==="cubic-bezier")return FA(i)}return typeof i=="function"?i:null};function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function VA(t){return Kie(t)||Wie(t)||CN(t)||zie()}function zie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kie(t){if(Array.isArray(t))return S0(t)}function BA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(r),!0).forEach(function(n){_0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _0(t,e,r){return e=qie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qie(t){var e=Hie(t,"string");return Ec(e)==="symbol"?e:String(e)}function Hie(t,e){if(Ec(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gie(t,e){return Yie(t)||Xie(t,e)||CN(t,e)||Qie()}function Qie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CN(t,e){if(t){if(typeof t=="string")return S0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S0(t,e)}}function S0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yie(t){if(Array.isArray(t))return t}var Uh=function(e,r,n){return e+(r-e)*n},E0=function(e){var r=e.from,n=e.to;return r!==n},Jie=function t(e,r,n){var i=Su(function(a,o){if(E0(o)){var s=e(o.from,o.to,o.velocity),l=Gie(s,2),u=l[0],c=l[1];return Wt(Wt({},o),{},{from:u,velocity:c})}return o},r);return n<1?Su(function(a,o){return E0(o)?Wt(Wt({},o),{},{velocity:Uh(o.velocity,i[a].velocity,n),from:Uh(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Zie=function(t,e,r,n,i){var a=kie(t,e),o=a.reduce(function(v,_){return Wt(Wt({},v),{},_0({},_,[t[_],e[_]]))},{}),s=a.reduce(function(v,_){return Wt(Wt({},v),{},_0({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Su(function(_,b){return b.from},s)},p=function(){return!Object.values(s).filter(E0).length},g=function(_){u||(u=_);var b=_-u,E=b/r.dt;s=Jie(r,s,E),i(Wt(Wt(Wt({},t),e),h())),u=_,p()||(l=requestAnimationFrame(f))},y=function(_){c||(c=_);var b=(_-c)/n,E=Su(function(T,P){return Uh.apply(void 0,VA(P).concat([r(b)]))},o);if(i(Wt(Wt(Wt({},t),e),E)),b<1)l=requestAnimationFrame(f);else{var k=Su(function(T,P){return Uh.apply(void 0,VA(P).concat([r(1)]))},o);i(Wt(Wt(Wt({},t),e),k))}};return f=r.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}var eae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tae(t,e){if(t==null)return{};var r=rae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rae(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Zg(t){return oae(t)||aae(t)||iae(t)||nae()}function nae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iae(t,e){if(t){if(typeof t=="string")return T0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(t,e)}}function aae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oae(t){if(Array.isArray(t))return T0(t)}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(r),!0).forEach(function(n){au(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function au(t,e,r){return e=IN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IN(n.key),n)}}function uae(t,e,r){return e&&lae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IN(t){var e=cae(t,"string");return Vs(e)==="symbol"?e:String(e)}function cae(t,e){if(Vs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A0(t,e)}function dae(t){var e=hae();return function(){var n=zh(t),i;if(e){var a=zh(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return P0(this,i)}}function P0(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O0(t)}function O0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zh(t)}var Ii=function(t){fae(r,t);var e=dae(r);function r(n,i){var a;sae(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(O0(a)),a.changeStyle=a.changeStyle.bind(O0(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),P0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},P0(a);a.state={style:l?au({},l,u):u}}else a.state={style:{}};return a}return uae(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?au({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(wie(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&h){var v={style:l?au({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(vn(vn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Zie(o,s,Uie(u),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,v,_){if(_===0)return y;var b=v.duration,E=v.easing,k=E===void 0?"ease":E,T=v.style,P=v.properties,S=v.onAnimationEnd,x=_>0?o[_-1]:v,O=P||Object.keys(T);if(typeof k=="function"||k==="spring")return[].concat(Zg(y),[a.runJSAnimation.bind(a,{from:x.style,to:T,duration:b,easing:k}),b]);var j=$A(O,b,k),C=vn(vn(vn({},x.style),T),{},{transition:j});return[].concat(Zg(y),[C,b,S]).filter(Cie)};return this.manager.start([l].concat(Zg(o.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Aie());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?au({},s,l):l,v=$A(Object.keys(y),o,u);g.start([c,a,vn(vn({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=tae(i,eae),u=D.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var g=p.props,y=g.style,v=y===void 0?{}:y,_=g.className,b=D.cloneElement(p,vn(vn({},l),{},{style:vn(vn({},v),c),className:_}));return b};return u===1?f(D.Children.only(a)):F.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),r}(D.PureComponent);Ii.displayName="Animate";Ii.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ii.propTypes={from:Ve.oneOfType([Ve.object,Ve.string]),to:Ve.oneOfType([Ve.object,Ve.string]),attributeName:Ve.string,duration:Ve.number,begin:Ve.number,easing:Ve.oneOfType([Ve.string,Ve.func]),steps:Ve.arrayOf(Ve.shape({duration:Ve.number.isRequired,style:Ve.object.isRequired,easing:Ve.oneOfType([Ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ve.func]),properties:Ve.arrayOf("string"),onAnimationEnd:Ve.func})),children:Ve.oneOfType([Ve.node,Ve.func]),isActive:Ve.bool,canBegin:Ve.bool,onAnimationEnd:Ve.func,shouldReAnimate:Ve.bool,onAnimationStart:Ve.func,onAnimationReStart:Ve.func};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wh.apply(this,arguments)}function pae(t,e){return vae(t)||yae(t,e)||gae(t,e)||mae()}function mae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gae(t,e){if(t){if(typeof t=="string")return zA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zA(t,e)}}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function vae(t){if(Array.isArray(t))return t}function WA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(r),!0).forEach(function(n){wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wae(t,e,r){return e=bae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bae(t){var e=xae(t,"string");return Tc(e)=="symbol"?e:e+""}function xae(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qA=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),c+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),c+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),c+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*g," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},_ae=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=c&&i>=f&&i<=h}return!1},Sae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kx=function(e){var r=KA(KA({},Sae),e),n=D.useRef(),i=D.useState(-1),a=pae(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var l=r.x,u=r.y,c=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,y=r.animationDuration,v=r.animationBegin,_=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var E=Re("recharts-rectangle",p);return b?F.createElement(Ii,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:b},function(k){var T=k.width,P=k.height,S=k.x,x=k.y;return F.createElement(Ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:_,easing:g},F.createElement("path",Wh({},je(r,!0),{className:E,d:qA(S,x,T,P,h),ref:n})))}):F.createElement("path",Wh({},je(r,!0),{className:E,d:qA(l,u,c,f,h)}))};function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k0.apply(this,arguments)}var Cx=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Re("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",k0({},je(e,!1),uh(e),{className:o,cx:r,cy:n,r:i})):null};function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var Eae=["x","y","top","left","width","height","className"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function HA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(r),!0).forEach(function(n){Aae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aae(t,e,r){return e=Pae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pae(t){var e=Oae(t,"string");return Ac(e)=="symbol"?e:e+""}function Oae(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kae(t,e){if(t==null)return{};var r=Cae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Iae=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},jae=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,g=e.className,y=kae(e,Eae),v=Tae({x:n,y:a,top:s,left:u,width:f,height:p},y);return!ne(n)||!ne(a)||!ne(f)||!ne(p)||!ne(s)||!ne(u)?null:F.createElement("path",C0({},je(v,!0),{className:Re("recharts-cross",g),d:Iae(n,a,f,p,s,u)}))},Nae=K2,Dae=Nae(Object.getPrototypeOf,Object),Mae=Dae,Rae=Di,$ae=Mae,Lae=Mi,Fae="[object Object]",Vae=Function.prototype,Bae=Object.prototype,jN=Vae.toString,Uae=Bae.hasOwnProperty,zae=jN.call(Object);function Wae(t){if(!Lae(t)||Rae(t)!=Fae)return!1;var e=$ae(t);if(e===null)return!0;var r=Uae.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&jN.call(r)==zae}var Kae=Wae;const qae=Ge(Kae);var Hae=Di,Gae=Mi,Qae="[object Boolean]";function Xae(t){return t===!0||t===!1||Gae(t)&&Hae(t)==Qae}var Yae=Xae;const Jae=Ge(Yae);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kh.apply(this,arguments)}function Zae(t,e){return noe(t)||roe(t,e)||toe(t,e)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t,e){if(t){if(typeof t=="string")return GA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GA(t,e)}}function GA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function roe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function noe(t){if(Array.isArray(t))return t}function QA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(r),!0).forEach(function(n){ioe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ioe(t,e,r){return e=aoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aoe(t){var e=ooe(t,"string");return Pc(e)=="symbol"?e:e+""}function ooe(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YA=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},soe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},loe=function(e){var r=XA(XA({},soe),e),n=D.useRef(),i=D.useState(-1),a=Zae(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&s(E)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,y=r.animationDuration,v=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var b=Re("recharts-trapezoid",p);return _?F.createElement(Ii,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:_},function(E){var k=E.upperWidth,T=E.lowerWidth,P=E.height,S=E.x,x=E.y;return F.createElement(Ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},F.createElement("path",Kh({},je(r,!0),{className:b,d:YA(S,x,k,T,P),ref:n})))}):F.createElement("g",null,F.createElement("path",Kh({},je(r,!0),{className:b,d:YA(l,u,c,f,h)})))},uoe=["option","shapeType","propTransformer","activeClassName","isActive"];function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function coe(t,e){if(t==null)return{};var r=foe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function foe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(r),!0).forEach(function(n){doe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function doe(t,e,r){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hoe(t){var e=poe(t,"string");return Oc(e)=="symbol"?e:e+""}function poe(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function moe(t,e){return qh(qh({},e),t)}function goe(t,e){return t==="symbols"}function ZA(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return F.createElement(kx,r);case"trapezoid":return F.createElement(loe,r);case"sector":return F.createElement(xN,r);case"symbols":if(goe(e))return F.createElement(Gb,r);break;default:return null}}function yoe(t){return D.isValidElement(t)?t.props:t}function voe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?moe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=coe(t,uoe),u;if(D.isValidElement(e))u=D.cloneElement(e,qh(qh({},l),yoe(e)));else if(Ee(e))u=e(l);else if(qae(e)&&!Jae(e)){var c=i(e,l);u=F.createElement(ZA,{shapeType:r,elementProps:c})}else{var f=l;u=F.createElement(ZA,{shapeType:r,elementProps:f})}return s?F.createElement(bt,{className:o},u):u}function _m(t,e){return e!=null&&"trapezoids"in t.props}function Sm(t,e){return e!=null&&"sectors"in t.props}function kc(t,e){return e!=null&&"points"in t.props}function woe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function boe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function xoe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function _oe(t,e){var r;return _m(t,e)?r=woe:Sm(t,e)?r=boe:kc(t,e)&&(r=xoe),r}function Soe(t,e){var r;return _m(t,e)?r="trapezoids":Sm(t,e)?r="sectors":kc(t,e)&&(r="points"),r}function Eoe(t,e){if(_m(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Sm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return kc(t,e)?e.payload:{}}function Toe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Soe(r,e),a=Eoe(r,e),o=n.filter(function(l,u){var c=wm(a,l),f=r.props[i].filter(function(g){var y=_oe(r,e);return y(g,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=n.indexOf(o[o.length-1]);return s}var Aoe=Math.ceil,Poe=Math.max;function Ooe(t,e,r,n){for(var i=-1,a=Poe(Aoe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var koe=Ooe,Coe=cj,eP=1/0,Ioe=17976931348623157e292;function joe(t){if(!t)return t===0?t:0;if(t=Coe(t),t===eP||t===-eP){var e=t<0?-1:1;return e*Ioe}return t===t?t:0}var NN=joe,Noe=koe,Doe=cm,ey=NN;function Moe(t){return function(e,r,n){return n&&typeof n!="number"&&Doe(e,r,n)&&(r=n=void 0),e=ey(e),r===void 0?(r=e,e=0):r=ey(r),n=n===void 0?e<r?1:-1:ey(n),Noe(e,r,n,t)}}var Roe=Moe,$oe=Roe,Loe=$oe(),Foe=Loe;const Hh=Ge(Foe);function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(n){DN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DN(t,e,r){return e=Voe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Voe(t){var e=Boe(t,"string");return Cc(e)=="symbol"?e:e+""}function Boe(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uoe=["Webkit","Moz","O","ms"],zoe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Uoe.reduce(function(a,o){return rP(rP({},a),{},DN({},o+n,r))},{});return i[e]=r,i};function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gh.apply(this,arguments)}function nP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ty(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(r),!0).forEach(function(n){Mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Woe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RN(n.key),n)}}function Koe(t,e,r){return e&&iP(t.prototype,e),r&&iP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qoe(t,e,r){return e=Qh(e),Hoe(t,MN()?Reflect.construct(e,r||[],Qh(t).constructor):e.apply(t,r))}function Hoe(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Goe(t)}function Goe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MN=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qh(t)}function Qoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I0(t,e)}function Mr(t,e,r){return e=RN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RN(t){var e=Xoe(t,"string");return Bs(e)=="symbol"?e:e+""}function Xoe(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yoe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=xu().domain(Hh(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},aP=function(e){return e.changedTouches&&!!e.changedTouches.length},Us=function(t){function e(r){var n;return Woe(this,e),n=qoe(this,e,[r]),Mr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Mr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Mr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Mr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Mr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Mr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Mr(n,"handleSlideDragStart",function(i){var a=aP(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Qoe(e,t),Koe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),g=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=zr(a[n],s,n);return Ee(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=n.pageX-a;y>0?y=Math.min(y,u+c-f-s,u+c-f-o):y<0&&(y=Math.max(y,u-o,u-s));var v=this.getIndex({startX:o+y,endX:s+y});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=aP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,g=c.onChange,y=c.gap,v=c.data,_={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),_[o]=u+b;var E=this.getIndex(_),k=E.startIndex,T=E.endIndex,P=function(){var x=v.length-1;return o==="startX"&&(s>l?k%y===0:T%y===0)||s<l&&T===x||o==="endX"&&(s>l?T%y===0:k%y===0)||s>l&&T===x};this.setState(Mr(Mr({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&P()&&g(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Mr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return F.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,c=n.padding,f=D.Children.only(u);return f?F.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,_=Math.max(n,this.props.x),b=ty(ty({},je(this.props,!1)),{},{x:_,y:u,width:c,height:f}),E=p||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return F.createElement(bt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,f=c.startX,h=c.endX,p=5,g={pointerEvents:"none",fill:u};return F.createElement(bt,{className:"recharts-brush-texts"},F.createElement(Eh,Gh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},g),this.getTextOfTick(i)),F.createElement(Eh,Gh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,c=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,v=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ne(s)||!ne(l)||!ne(u)||!ne(c)||u<=0||c<=0)return null;var E=Re("recharts-brush",a),k=F.Children.count(o)===1,T=zoe("userSelect","none");return F.createElement(bt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||_||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return F.isValidElement(n)?a=F.cloneElement(n,i):Ee(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return ty({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Yoe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(D.PureComponent);Mr(Us,"displayName","Brush");Mr(Us,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Joe=tx;function Zoe(t,e){var r;return Joe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var ese=Zoe,tse=$2,rse=Aa,nse=ese,ise=Ir,ase=cm;function ose(t,e,r){var n=ise(t)?tse:nse;return r&&ase(t,e,r)&&(e=void 0),n(t,rse(e))}var sse=ose;const lse=Ge(sse);var Gn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},oP=aj;function use(t,e,r){e=="__proto__"&&oP?oP(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var cse=use,fse=cse,dse=nj,hse=Aa;function pse(t,e){var r={};return e=hse(e),dse(t,function(n,i,a){fse(r,i,e(n,i,a))}),r}var mse=pse;const gse=Ge(mse);function yse(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var vse=yse,wse=tx;function bse(t,e){var r=!0;return wse(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var xse=bse,_se=vse,Sse=xse,Ese=Aa,Tse=Ir,Ase=cm;function Pse(t,e,r){var n=Tse(t)?_se:Sse;return r&&Ase(t,e,r)&&(e=void 0),n(t,Ese(e))}var Ose=Pse;const $N=Ge(Ose);var kse=["x","y"];function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j0.apply(this,arguments)}function sP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(r),!0).forEach(function(n){Cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cse(t,e,r){return e=Ise(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ise(t){var e=jse(t,"string");return Ic(e)=="symbol"?e:e+""}function jse(t,e){if(Ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nse(t,e){if(t==null)return{};var r=Dse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mse(t,e){var r=t.x,n=t.y,i=Nse(t,kse),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Xl(Xl(Xl(Xl(Xl({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function lP(t){return F.createElement(voe,j0({shapeType:"rectangle",propTransformer:Mse,activeClassName:"recharts-active-bar"},t))}var Rse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ne(n)||JU(n);return a?e(n,i):(a||mo(),r)}},$se=["value","background"],LN;function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function Lse(t,e){if(t==null)return{};var r=Fse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xh.apply(this,arguments)}function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){ta(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VN(n.key),n)}}function Bse(t,e,r){return e&&cP(t.prototype,e),r&&cP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Use(t,e,r){return e=Yh(e),zse(t,FN()?Reflect.construct(e,r||[],Yh(t).constructor):e.apply(t,r))}function zse(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wse(t)}function Wse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FN=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yh(t)}function Kse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N0(t,e)}function ta(t,e,r){return e=VN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VN(t){var e=qse(t,"string");return zs(e)=="symbol"?e:e+""}function qse(t,e){if(zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $i=function(t){function e(){var r;Vse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Use(this,e,[].concat(i)),ta(r,"state",{isAnimationFinished:!1}),ta(r,"id",Zc("recharts-bar-")),ta(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ta(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Kse(e,t),Bse(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=je(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?u:o,y=_t(_t(_t({},c),f),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(bt,Xh({className:"recharts-bar-rectangle"},ch(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(lP,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return F.createElement(Ii,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=a.map(function(v,_){var b=h&&h[_];if(b){var E=En(b.x,v.x),k=En(b.y,v.y),T=En(b.width,v.width),P=En(b.height,v.height);return _t(_t({},v),{},{x:E(g),y:k(g),width:T(g),height:P(g)})}if(o==="horizontal"){var S=En(0,v.height),x=S(g);return _t(_t({},v),{},{y:v.y+v.height-x,height:x})}var O=En(0,v.width),j=O(g);return _t(_t({},v),{},{width:j})});return F.createElement(bt,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!wm(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=je(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=Lse(u,$se);if(!f)return null;var p=_t(_t(_t(_t(_t({},h),{},{fill:"#eee"},f),l),ch(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return F.createElement(lP,Xh({key:"background-bar-".concat(c),option:n.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=ln(c,of);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,_){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:zr(v,_)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(bt,g,f.map(function(y){return F.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,c=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,y=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,_=Re("recharts-bar",o),b=s&&s.allowDataOverflow,E=l&&l.allowDataOverflow,k=b||E,T=ke(y)?this.id:y;return F.createElement(bt,{className:_},b||E?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(T)},F.createElement("rect",{x:b?u:u-f/2,y:E?c:c-h/2,width:b?f:f*2,height:E?h:h*2}))):null,F.createElement(bt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,T),(!p||v)&&ma.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(D.PureComponent);LN=$i;ta($i,"displayName","Bar");ta($i,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ta($i,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=xre(n,r);if(!p)return null;var g=e.layout,y=r.type.defaultProps,v=y!==void 0?_t(_t({},y),r.props):r.props,_=v.dataKey,b=v.children,E=v.minPointSize,k=g==="horizontal"?o:a,T=u?k.scale.domain():null,P=kre({numericAxis:k}),S=ln(b,dj),x=f.map(function(O,j){var C,N,I,z,V,K;u?C=_re(u[c+j],T):(C=zr(O,_),Array.isArray(C)||(C=[P,C]));var L=Rse(E,LN.defaultProps.minPointSize)(C[1],j);if(g==="horizontal"){var $,R=[o.scale(C[0]),o.scale(C[1])],B=R[0],W=R[1];N=uA({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:O,index:j}),I=($=W??B)!==null&&$!==void 0?$:void 0,z=p.size;var H=B-W;if(V=Number.isNaN(H)?0:H,K={x:N,y:o.y,width:z,height:o.height},Math.abs(L)>0&&Math.abs(V)<Math.abs(L)){var Z=An(V||L)*(Math.abs(L)-Math.abs(V));I-=Z,V+=Z}}else{var ye=[a.scale(C[0]),a.scale(C[1])],Pe=ye[0],Te=ye[1];if(N=Pe,I=uA({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:O,index:j}),z=Te-Pe,V=p.size,K={x:a.x,y:I,width:a.width,height:V},Math.abs(L)>0&&Math.abs(z)<Math.abs(L)){var ot=An(z||L)*(Math.abs(L)-Math.abs(z));z+=ot}}return _t(_t(_t({},O),{},{x:N,y:I,width:z,height:V,value:u?C:C[1],payload:O,background:K},S&&S[j]&&S[j].props),{},{tooltipPayload:[vN(r,O)],tooltipPosition:{x:N+z/2,y:I+V/2}})});return _t({data:x,layout:g},h)});function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Hse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BN(n.key),n)}}function Gse(t,e,r){return e&&fP(t.prototype,e),r&&fP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){Em(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Em(t,e,r){return e=BN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BN(t){var e=Qse(t,"string");return jc(e)=="symbol"?e:e+""}function Qse(t,e){if(jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UN=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!$r(u,$i);return c.reduce(function(p,g){var y=r[g],v=y.orientation,_=y.domain,b=y.padding,E=b===void 0?{}:b,k=y.mirror,T=y.reversed,P="".concat(v).concat(k?"Mirror":""),S,x,O,j,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var N=_[1]-_[0],I=1/0,z=y.categoricalDomain.sort(tz);if(z.forEach(function(ye,Pe){Pe>0&&(I=Math.min((ye||0)-(z[Pe-1]||0),I))}),Number.isFinite(I)){var V=I/N,K=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(S=V*K/2),y.padding==="no-gap"){var L=ho(e.barCategoryGap,V*K),$=V*K/2;S=$-L-($-L)/K*L}}}i==="xAxis"?x=[n.left+(E.left||0)+(S||0),n.left+n.width-(E.right||0)-(S||0)]:i==="yAxis"?x=l==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(S||0),n.top+n.height-(E.bottom||0)-(S||0)]:x=y.range,T&&(x=[x[1],x[0]]);var R=wre(y,a,h),B=R.scale,W=R.realScaleType;B.domain(_).range(x),bre(B);var H=Ore(B,xn(xn({},y),{},{realScaleType:W}));i==="xAxis"?(C=v==="top"&&!k||v==="bottom"&&k,O=n.left,j=f[P]-C*y.height):i==="yAxis"&&(C=v==="left"&&!k||v==="right"&&k,O=f[P]-C*y.width,j=n.top);var Z=xn(xn(xn({},y),H),{},{realScaleType:W,x:O,y:j,scale:B,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return Z.bandSize=Lh(Z,H),!y.hide&&i==="xAxis"?f[P]+=(C?-1:1)*Z.height:y.hide||(f[P]+=(C?-1:1)*Z.width),xn(xn({},p),{},Em({},g,Z))},{})},zN=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Xse=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return zN({x:r,y:n},{x:i,y:a})},WN=function(){function t(e){Hse(this,t),this.scale=e}return Gse(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Em(WN,"EPS",1e-4);var Ix=function(e){var r=Object.keys(e).reduce(function(n,i){return xn(xn({},n),{},Em({},i,WN.create(e[i])))},{});return xn(xn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return gse(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return $N(i,function(a,o){return r[o].isInRange(a)})}})};function Yse(t){return(t%180+180)%180}var Jse=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Yse(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Zse=Aa,ele=ef,tle=lm;function rle(t){return function(e,r,n){var i=Object(e);if(!ele(e)){var a=Zse(r);e=tle(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var nle=rle,ile=NN;function ale(t){var e=ile(t),r=e%1;return e===e?r?e-r:e:0}var ole=ale,sle=Y2,lle=Aa,ule=ole,cle=Math.max;function fle(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:ule(r);return i<0&&(i=cle(n+i,0)),sle(t,lle(e),i)}var dle=fle,hle=nle,ple=dle,mle=hle(ple),gle=mle;const yle=Ge(gle);var vle=iU(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jx=D.createContext(void 0),Nx=D.createContext(void 0),KN=D.createContext(void 0),qN=D.createContext({}),HN=D.createContext(void 0),GN=D.createContext(0),QN=D.createContext(0),hP=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=vle(a);return F.createElement(jx.Provider,{value:n},F.createElement(Nx.Provider,{value:i},F.createElement(qN.Provider,{value:a},F.createElement(KN.Provider,{value:c},F.createElement(HN.Provider,{value:o},F.createElement(GN.Provider,{value:u},F.createElement(QN.Provider,{value:l},s)))))))},wle=function(){return D.useContext(HN)},XN=function(e){var r=D.useContext(jx);r==null&&mo();var n=r[e];return n==null&&mo(),n},ble=function(){var e=D.useContext(jx);return Xi(e)},xle=function(){var e=D.useContext(Nx),r=yle(e,function(n){return $N(n.domain,Number.isFinite)});return r||Xi(e)},YN=function(e){var r=D.useContext(Nx);r==null&&mo();var n=r[e];return n==null&&mo(),n},_le=function(){var e=D.useContext(KN);return e},Sle=function(){return D.useContext(qN)},Dx=function(){return D.useContext(QN)},Mx=function(){return D.useContext(GN)};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZN(n.key),n)}}function Ale(t,e,r){return e&&Tle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ple(t,e,r){return e=Jh(e),Ole(t,JN()?Reflect.construct(e,r||[],Jh(t).constructor):e.apply(t,r))}function Ole(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kle(t)}function kle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JN=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jh(t)}function Cle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D0(t,e)}function pP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(r),!0).forEach(function(n){Rx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rx(t,e,r){return e=ZN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZN(t){var e=Ile(t,"string");return Ws(e)=="symbol"?e:e+""}function Ile(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jle(t,e){return Rle(t)||Mle(t,e)||Dle(t,e)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dle(t,e){if(t){if(typeof t=="string")return gP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gP(t,e)}}function gP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Rle(t){if(Array.isArray(t))return t}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M0.apply(this,arguments)}var $le=function(e,r){var n;return F.isValidElement(e)?n=F.cloneElement(e,r):Ee(e)?n=e(r):n=F.createElement("line",M0({},r,{className:"recharts-reference-line-line"})),n},Lle=function(e,r,n,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,p=a.height;if(n){var g=u.y,y=e.y.apply(g,{position:o});if(Gn(u,"discard")&&!e.y.isInRange(y))return null;var v=[{x:c+h,y},{x:c,y}];return l==="left"?v.reverse():v}if(r){var _=u.x,b=e.x.apply(_,{position:o});if(Gn(u,"discard")&&!e.x.isInRange(b))return null;var E=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?E.reverse():E}if(i){var k=u.segment,T=k.map(function(P){return e.apply(P,{position:o})});return Gn(u,"discard")&&lse(T,function(P){return!e.isInRange(P)})?null:T}return null};function Fle(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=wle(),c=XN(i),f=YN(a),h=_le();if(!u||!h)return null;wi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ix({x:c.scale,y:f.scale}),g=It(e),y=It(r),v=n&&n.length===2,_=Lle(p,g,y,v,h,t.position,c.orientation,f.orientation,t);if(!_)return null;var b=jle(_,2),E=b[0],k=E.x,T=E.y,P=b[1],S=P.x,x=P.y,O=Gn(t,"hidden")?"url(#".concat(u,")"):void 0,j=mP(mP({clipPath:O},je(t,!0)),{},{x1:k,y1:T,x2:S,y2:x});return F.createElement(bt,{className:Re("recharts-reference-line",s)},$le(o,j),ur.renderCallByParent(t,Xse({x1:k,y1:T,x2:S,y2:x})))}var $x=function(t){function e(){return Ele(this,e),Ple(this,e,arguments)}return Cle(e,t),Ale(e,[{key:"render",value:function(){return F.createElement(Fle,this.props)}}])}(F.Component);Rx($x,"displayName","ReferenceLine");Rx($x,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R0.apply(this,arguments)}function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function yP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(r),!0).forEach(function(n){Tm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ble(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tD(n.key),n)}}function Ule(t,e,r){return e&&Ble(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zle(t,e,r){return e=Zh(e),Wle(t,eD()?Reflect.construct(e,r||[],Zh(t).constructor):e.apply(t,r))}function Wle(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kle(t)}function Kle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!t})()}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zh(t)}function qle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(t,e)}function Tm(t,e,r){return e=tD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tD(t){var e=Hle(t,"string");return Ks(e)=="symbol"?e:e+""}function Hle(t,e){if(Ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gle=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Ix({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Gn(e,"discard")&&!o.isInRange(s)?null:s},Am=function(t){function e(){return Vle(this,e),zle(this,e,arguments)}return qle(e,t),Ule(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=It(i),c=It(a);if(wi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Gle(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,y=g.shape,v=g.className,_=Gn(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=vP(vP({clipPath:_},je(this.props,!0)),{},{cx:h,cy:p});return F.createElement(bt,{className:Re("recharts-reference-dot",v)},e.renderDot(y,b),ur.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(F.Component);Tm(Am,"displayName","ReferenceDot");Tm(Am,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tm(Am,"renderDot",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Ee(t)?r=t(e):r=F.createElement(Cx,R0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){Pm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nD(n.key),n)}}function Yle(t,e,r){return e&&Xle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jle(t,e,r){return e=ep(e),Zle(t,rD()?Reflect.construct(e,r||[],ep(t).constructor):e.apply(t,r))}function Zle(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eue(t)}function eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rD=function(){return!!t})()}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(t)}function tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(t,e)}function Pm(t,e,r){return e=nD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nD(t){var e=rue(t,"string");return qs(e)=="symbol"?e:e+""}function rue(t,e){if(qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nue=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=Ix({x:c.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Gn(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:zN(p,g)},Om=function(t){function e(){return Qle(this,e),Jle(this,e,arguments)}return tue(e,t),Yle(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=It(i),h=It(a),p=It(o),g=It(s),y=this.props.shape;if(!f&&!h&&!p&&!g&&!y)return null;var v=nue(f,h,p,g,this.props);if(!v&&!y)return null;var _=Gn(this.props,"hidden")?"url(#".concat(c,")"):void 0;return F.createElement(bt,{className:Re("recharts-reference-area",l)},e.renderRect(y,bP(bP({clipPath:_},je(this.props,!0)),v)),ur.renderCallByParent(this.props,v))}}])}(F.Component);Pm(Om,"displayName","ReferenceArea");Pm(Om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Pm(Om,"renderRect",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Ee(t)?r=t(e):r=F.createElement(kx,L0({},e,{className:"recharts-reference-area-rect"})),r});function iD(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function iue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Jse(n,r)}function aue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function tp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function oue(t,e){return iD(t,e+1)}function sue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:iD(n,u)};var y=l,v,_=function(){return v===void 0&&(v=r(g,y)),v},b=g.coordinate,E=l===0||tp(t,b,_,c,s);E||(l=0,c=o,u+=1),E&&(c=b+t*(_()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){lue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lue(t,e,r){return e=uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uue(t){var e=cue(t,"string");return Nc(e)=="symbol"?e:e+""}function cue(t,e){if(Nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fue(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],g,y=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var v=t*(p.coordinate+t*y()/2-l);a[h]=p=ar(ar({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=ar(ar({},p),{},{tickCoord:p.coordinate});var _=tp(t,p.tickCoord,y,s,l);_&&(l=p.tickCoord-t*(y()/2+i),a[h]=ar(ar({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function due(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=n[s-1],f=r(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=ar(ar({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=tp(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=ar(ar({},c),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(b){var E=o[b],k,T=function(){return k===void 0&&(k=r(E,b)),k};if(b===0){var P=t*(E.coordinate-t*T()/2-l);o[b]=E=ar(ar({},E),{},{tickCoord:P<0?E.coordinate-P*t:E.coordinate})}else o[b]=E=ar(ar({},E),{},{tickCoord:E.coordinate});var S=tp(t,E.tickCoord,T,l,u);S&&(l=E.tickCoord+t*(T()/2+i),o[b]=ar(ar({},E),{},{isShow:!0}))},v=0;v<g;v++)y(v);return o}function Lx(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ne(l)||gl.isSsr)return oue(i,typeof l=="number"&&ne(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?bu(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(E,k){var T=Ee(u)?u(E.value,k):E.value;return p==="width"?iue(bu(T,{fontSize:e,letterSpacing:r}),g,f):bu(T,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?An(i[1].coordinate-i[0].coordinate):1,_=aue(a,v,p);return l==="equidistantPreserveStart"?sue(v,_,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=due(v,_,y,i,o,l==="preserveStartEnd"):h=fue(v,_,y,i,o),h.filter(function(b){return b.isShow}))}var hue=["viewBox"],pue=["viewBox"],mue=["ticks"];function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ts.apply(this,arguments)}function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){Fx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ry(t,e){if(t==null)return{};var r=gue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oD(n.key),n)}}function vue(t,e,r){return e&&SP(t.prototype,e),r&&SP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wue(t,e,r){return e=rp(e),bue(t,aD()?Reflect.construct(e,r||[],rp(t).constructor):e.apply(t,r))}function bue(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xue(t)}function xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aD=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(t)}function _ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(t,e)}function Fx(t,e,r){return e=oD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oD(t){var e=Sue(t,"string");return Hs(e)=="symbol"?e:e+""}function Sue(t,e){if(Hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bl=function(t){function e(r){var n;return yue(this,e),n=wue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return _ue(e,t),vue(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=ry(n,hue),s=this.props,l=s.viewBox,u=ry(s,pue);return!fs(a,l)||!fs(o,u)||!fs(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,y,v,_,b,E=f?-1:1,k=n.tickSize||c,T=ne(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=o+ +!f*l,y=v-E*k,b=y-E*h,_=T;break;case"left":y=v=n.coordinate,g=a+ +!f*s,p=g-E*k,_=p-E*h,b=T;break;case"right":y=v=n.coordinate,g=a+ +f*s,p=g+E*k,_=p+E*h,b=T;break;default:p=g=n.coordinate,v=o+ +f*l,y=v+E*k,b=y+E*h,_=T;break}return{line:{x1:p,y1:y,x2:g,y2:v},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,f=Pt(Pt(Pt({},je(this.props,!1)),je(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Pt(Pt({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Pt(Pt({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return F.createElement("line",ts({},f,{className:Re("recharts-cartesian-axis-line",sn(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=Lx(Pt(Pt({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=je(this.props,!1),_=je(c,!1),b=Pt(Pt({},v),{},{fill:"none"},je(l,!1)),E=p.map(function(k,T){var P=o.getTickLineCoord(k),S=P.line,x=P.tick,O=Pt(Pt(Pt(Pt({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:u},_),x),{},{index:T,payload:k,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(bt,ts({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},ch(o.props,k,T)),l&&F.createElement("line",ts({},b,S,{className:Re("recharts-cartesian-axis-tick-line",sn(l,"className"))})),c&&e.renderTickItem(c,O,"".concat(Ee(f)?f(k.value,T):k.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=ry(f,mue),g=h;return Ee(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:F.createElement(bt,{className:Re("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Re(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?o=F.cloneElement(n,Pt(Pt({},i),{},{className:s})):Ee(n)?o=n(Pt(Pt({},i),{},{className:s})):o=F.createElement(Eh,ts({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(D.Component);Fx(bl,"displayName","CartesianAxis");Fx(bl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Eue=["x1","y1","x2","y2","key"],Tue=["offset"];function go(t){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(t)}function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){Aue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aue(t,e,r){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t){var e=Oue(t,"string");return go(e)=="symbol"?e:e+""}function Oue(t,e){if(go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ya.apply(this,arguments)}function TP(t,e){if(t==null)return{};var r=kue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Cue=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return F.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sD(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Ee(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=TP(e,Eue),u=je(l,!1);u.offset;var c=TP(u,Tue);r=F.createElement("line",Ya({},c,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Iue(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=cr(cr({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return sD(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jue(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=cr(cr({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return sD(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Nue(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var g=!c[p+1],y=g?i+o-h:c[p+1]-h;if(y<=0)return null;var v=p%e.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Due(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var g=!c[p+1],y=g?a+s-h:c[p+1]-h;if(y<=0)return null;var v=p%n.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Mue=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return gN(Lx(cr(cr(cr({},bl.defaultProps),n),{},{ticks:mi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Rue=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return gN(Lx(cr(cr(cr({},bl.defaultProps),n),{},{ticks:mi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},$o={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function yo(t){var e,r,n,i,a,o,s=Dx(),l=Mx(),u=Sle(),c=cr(cr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:$o.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:$o.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:$o.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:$o.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:$o.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:$o.verticalFill,x:ne(t.x)?t.x:u.left,y:ne(t.y)?t.y:u.top,width:ne(t.width)?t.width:u.width,height:ne(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,g=c.height,y=c.syncWithTicks,v=c.horizontalValues,_=c.verticalValues,b=ble(),E=xle();if(!ne(p)||p<=0||!ne(g)||g<=0||!ne(f)||f!==+f||!ne(h)||h!==+h)return null;var k=c.verticalCoordinatesGenerator||Mue,T=c.horizontalCoordinatesGenerator||Rue,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&Ee(T)){var x=v&&v.length,O=T({yAxis:E?cr(cr({},E),{},{ticks:x?v:E.ticks}):void 0,width:s,height:l,offset:u},x?!0:y);wi(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(go(O),"]")),Array.isArray(O)&&(P=O)}if((!S||!S.length)&&Ee(k)){var j=_&&_.length,C=k({xAxis:b?cr(cr({},b),{},{ticks:j?_:b.ticks}):void 0,width:s,height:l,offset:u},j?!0:y);wi(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(go(C),"]")),Array.isArray(C)&&(S=C)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(Cue,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),F.createElement(Iue,Ya({},c,{offset:u,horizontalPoints:P,xAxis:b,yAxis:E})),F.createElement(jue,Ya({},c,{offset:u,verticalPoints:S,xAxis:b,yAxis:E})),F.createElement(Nue,Ya({},c,{horizontalPoints:P})),F.createElement(Due,Ya({},c,{verticalPoints:S})))}yo.displayName="CartesianGrid";var $ue=["type","layout","connectNulls","ref"],Lue=["key"];function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function AP(t,e){if(t==null)return{};var r=Fue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(this,arguments)}function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(n){_n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lo(t){return zue(t)||Uue(t)||Bue(t)||Vue()}function Vue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(t,e){if(t){if(typeof t=="string")return B0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B0(t,e)}}function Uue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zue(t){if(Array.isArray(t))return B0(t)}function B0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uD(n.key),n)}}function Kue(t,e,r){return e&&OP(t.prototype,e),r&&OP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function que(t,e,r){return e=np(e),Hue(t,lD()?Reflect.construct(e,r||[],np(t).constructor):e.apply(t,r))}function Hue(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gue(t)}function Gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U0(t,e)}function _n(t,e,r){return e=uD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uD(t){var e=Xue(t,"string");return Gs(e)=="symbol"?e:e+""}function Xue(t,e){if(Gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ko=function(t){function e(){var r;Wue(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=que(this,e,[].concat(i)),_n(r,"state",{isAnimationFinished:!0,totalLength:0}),_n(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),_n(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(_,b){return _+b});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,h=s-o,p=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>f){p=[].concat(Lo(l.slice(0,g)),[f-y]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Lo(e.repeat(l,c)),Lo(p),v).map(function(_){return"".concat(_,"px")}).join(", ")}),_n(r,"id",Zc("recharts-line-")),_n(r,"pathRef",function(o){r.mainCurve=o}),_n(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),_n(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Que(e,t),Kue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=ln(c,of);if(!f)return null;var h=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:zr(y.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(bt,p,f.map(function(g){return F.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=je(this.props,!1),h=je(l,!0),p=u.map(function(y,v){var _=Dr(Dr(Dr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,_)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(bt,Eu({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=AP(s,$ue),h=Dr(Dr(Dr({},je(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:c});return F.createElement(w0,Eu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,y=o.width,v=o.height,_=this.state,b=_.prevPoints,E=_.totalLength;return F.createElement(Ii,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var T=k.t;if(b){var P=b.length/s.length,S=s.map(function(N,I){var z=Math.floor(I*P);if(b[z]){var V=b[z],K=En(V.x,N.x),L=En(V.y,N.y);return Dr(Dr({},N),{},{x:K(T),y:L(T)})}if(g){var $=En(y*2,N.x),R=En(v/2,N.y);return Dr(Dr({},N),{},{x:$(T),y:R(T)})}return Dr(Dr({},N),{},{x:N.x,y:N.y})});return a.renderCurveStatically(S,n,i)}var x=En(0,E),O=x(T),j;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});j=a.getStrokeDasharray(O,E,C)}else j=a.generateSimpleStrokeDasharray(E,O);return a.renderCurveStatically(s,n,i,{strokeDasharray:j})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!wm(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,E=Re("recharts-line",l),k=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,P=k||T,S=ke(v)?this.id:v,x=(n=je(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=x.r,j=O===void 0?3:O,C=x.strokeWidth,N=C===void 0?2:C,I=cz(o)?o:{},z=I.clipDot,V=z===void 0?!0:z,K=j*2+N;return F.createElement(bt,{className:E},k||T?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(S)},F.createElement("rect",{x:k?h:h-p/2,y:T?f:f-g/2,width:k?p:p*2,height:T?g:g*2})),!V&&F.createElement("clipPath",{id:"clipPath-dots-".concat(S)},F.createElement("rect",{x:h-K/2,y:f-K/2,width:p+K,height:g+K}))):null,!b&&this.renderCurve(P,S),this.renderErrorBar(P,S),(b||o)&&this.renderDots(P,V,S),(!y||_)&&ma.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Lo(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Lo(o),Lo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(F.isValidElement(n))a=F.cloneElement(n,i);else if(Ee(n))a=n(i);else{var o=i.key,s=AP(i,Lue),l=Re("recharts-line-dot",typeof n!="boolean"?n.className:"");a=F.createElement(Cx,Eu({key:o},s,{className:l}))}return a}}])}(D.PureComponent);_n(ko,"displayName","Line");_n(ko,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_n(ko,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,p){var g=zr(h,o);return c==="horizontal"?{x:lA({axis:r,ticks:i,bandSize:s,entry:h,index:p}),y:ke(g)?null:n.scale(g),value:g,payload:h}:{x:ke(g)?null:r.scale(g),y:lA({axis:n,ticks:a,bandSize:s,entry:h,index:p}),value:g,payload:h}});return Dr({points:f,layout:c},u)});function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function Yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dD(n.key),n)}}function Zue(t,e,r){return e&&Jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ece(t,e,r){return e=ip(e),tce(t,cD()?Reflect.construct(e,r||[],ip(t).constructor):e.apply(t,r))}function tce(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rce(t)}function rce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ip(t)}function nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(t,e)}function fD(t,e,r){return e=dD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dD(t){var e=ice(t,"string");return Qs(e)=="symbol"?e:e+""}function ice(t,e){if(Qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W0.apply(this,arguments)}function ace(t){var e=t.xAxisId,r=Dx(),n=Mx(),i=XN(e);return i==null?null:D.createElement(bl,W0({},i,{className:Re("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return mi(o,!0)}}))}var Yn=function(t){function e(){return Yue(this,e),ece(this,e,arguments)}return nce(e,t),Zue(e,[{key:"render",value:function(){return D.createElement(ace,this.props)}}])}(D.Component);fD(Yn,"displayName","XAxis");fD(Yn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function oce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mD(n.key),n)}}function lce(t,e,r){return e&&sce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uce(t,e,r){return e=ap(e),cce(t,hD()?Reflect.construct(e,r||[],ap(t).constructor):e.apply(t,r))}function cce(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fce(t)}function fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!t})()}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ap(t)}function dce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K0(t,e)}function pD(t,e,r){return e=mD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mD(t){var e=hce(t,"string");return Xs(e)=="symbol"?e:e+""}function hce(t,e){if(Xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(this,arguments)}var pce=function(e){var r=e.yAxisId,n=Dx(),i=Mx(),a=YN(r);return a==null?null:D.createElement(bl,q0({},a,{className:Re("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return mi(s,!0)}}))},Jn=function(t){function e(){return oce(this,e),uce(this,e,arguments)}return dce(e,t),lce(e,[{key:"render",value:function(){return D.createElement(pce,this.props)}}])}(D.Component);pD(Jn,"displayName","YAxis");pD(Jn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kP(t){return vce(t)||yce(t)||gce(t)||mce()}function mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t,e){if(t){if(typeof t=="string")return H0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H0(t,e)}}function yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vce(t){if(Array.isArray(t))return H0(t)}function H0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var G0=function(e,r,n,i,a){var o=ln(e,$x),s=ln(e,Am),l=[].concat(kP(o),kP(s)),u=ln(e,Om),c="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(y,v){if(v.props[c]===n&&Gn(v.props,"extendDomain")&&ne(v.props[f])){var _=v.props[f];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(y,v){if(v.props[c]===n&&Gn(v.props,"extendDomain")&&ne(v.props[p])&&ne(v.props[g])){var _=v.props[p],b=v.props[g];return[Math.min(y[0],_,b),Math.max(y[1],_,b)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,v){return ne(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},gD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],_=arguments.length,b,E;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,h),!0;case 5:return v.fn.call(v.context,c,f,h,p),!0;case 6:return v.fn.call(v.context,c,f,h,p,g),!0}for(E=1,b=new Array(_-1);E<_;E++)b[E-1]=arguments[E];v.fn.apply(v.context,b)}else{var k=v.length,T;for(E=0;E<k;E++)switch(v[E].once&&this.removeListener(u,v[E].fn,void 0,!0),_){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,c);break;case 3:v[E].fn.call(v[E].context,c,f);break;case 4:v[E].fn.call(v[E].context,c,f,h);break;default:if(!b)for(T=1,b=new Array(_-1);T<_;T++)b[T-1]=arguments[T];v[E].fn.apply(v[E].context,b)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var y=0,v=[],_=g.length;y<_;y++)(g[y].fn!==c||h&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(gD);var wce=gD.exports;const bce=Ge(wce);var ny=new bce,iy="recharts.syncMouseEvents";function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yD(n.key),n)}}function Sce(t,e,r){return e&&_ce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ay(t,e,r){return e=yD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yD(t){var e=Ece(t,"string");return Dc(e)=="symbol"?e:e+""}function Ece(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tce=function(){function t(){xce(this,t),ay(this,"activeIndex",0),ay(this,"coordinateList",[]),ay(this,"layout","horizontal")}return Sce(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,c=r.offset,f=c===void 0?null:c,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ace(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ne(n)&&ne(i))return!0}return!1}function Pce(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function vD(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Gt(e,r,n,i),s=Gt(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Oce(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Gt(s,l,u,f),p=Gt(s,l,c,f);n=h.x,i=h.y,a=p.x,o=p.y}else return vD(e);return[{x:n,y:i},{x:a,y:o}]}function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ad(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){kce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kce(t,e,r){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cce(t){var e=Ice(t,"string");return Mc(e)=="symbol"?e:e+""}function Ice(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,y=w0;if(h==="ScatterChart")g=o,y=jae;else if(h==="BarChart")g=Pce(f,o,l,c),y=kx;else if(f==="radial"){var v=vD(o),_=v.cx,b=v.cy,E=v.radius,k=v.startAngle,T=v.endAngle;g={cx:_,cy:b,startAngle:k,endAngle:T,innerRadius:E,outerRadius:E},y=xN}else g={points:Oce(f,o,l)},y=w0;var P=ad(ad(ad(ad({stroke:"#ccc",pointerEvents:"none"},l),g),je(p,!1)),{},{payload:s,payloadIndex:u,className:Re("recharts-tooltip-cursor",p.className)});return D.isValidElement(p)?D.cloneElement(p,P):D.createElement(y,P)}var Nce=["item"],Dce=["children","className","width","height","style","compact","title","desc"];function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rs.apply(this,arguments)}function IP(t,e){return $ce(t)||Rce(t,e)||bD(t,e)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $ce(t){if(Array.isArray(t))return t}function jP(t,e){if(t==null)return{};var r=Lce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xD(n.key),n)}}function Bce(t,e,r){return e&&Vce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uce(t,e,r){return e=op(e),zce(t,wD()?Reflect.construct(e,r||[],op(t).constructor):e.apply(t,r))}function zce(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wce(t)}function Wce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},op(t)}function Kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q0(t,e)}function Js(t){return Gce(t)||Hce(t)||bD(t)||qce()}function qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(t,e){if(t){if(typeof t=="string")return X0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X0(t,e)}}function Hce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gce(t){if(Array.isArray(t))return X0(t)}function X0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(r),!0).forEach(function(n){pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pe(t,e,r){return e=xD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xD(t){var e=Qce(t,"string");return Ys(e)=="symbol"?e:e+""}function Qce(t,e){if(Ys(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xce={xAxis:["bottom","top"],yAxis:["left","right"]},Yce={width:"100%",height:"100%"},_D={x:0,y:0};function od(t){return t}var Jce=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Zce=function(e,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Q(Q(Q({},i),Gt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Q(Q(Q({},i),Gt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return _D},km=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Js(s),Js(u)):s},[]);return o.length>0?o:e&&e.length&&ne(i)&&ne(a)?e.slice(i,a+1):[]};function SD(t){return t==="number"?[0,"auto"]:void 0}var Y0=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=km(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=lh(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Js(l),[vN(u,h)]):l},[])},DP=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=Jce(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=hre(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=Y0(e,r,c,f),p=Zce(n,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},efe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=mN(c,a);return n.reduce(function(g,y){var v,_=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,b=_.type,E=_.dataKey,k=_.allowDataOverflow,T=_.allowDuplicatedCategory,P=_.scale,S=_.ticks,x=_.includeHidden,O=_[o];if(g[O])return g;var j=km(e.data,{graphicalItems:i.filter(function(H){var Z,ye=o in H.props?H.props[o]:(Z=H.type.defaultProps)===null||Z===void 0?void 0:Z[o];return ye===O}),dataStartIndex:l,dataEndIndex:u}),C=j.length,N,I,z;Ace(_.domain,k,b)&&(N=p0(_.domain,null,k),p&&(b==="number"||P!=="auto")&&(z=_u(j,E,"category")));var V=SD(b);if(!N||N.length===0){var K,L=(K=_.domain)!==null&&K!==void 0?K:V;if(E){if(N=_u(j,E,b),b==="category"&&p){var $=ez(N);T&&$?(I=N,N=Hh(0,C)):T||(N=dA(L,N,y).reduce(function(H,Z){return H.indexOf(Z)>=0?H:[].concat(Js(H),[Z])},[]))}else if(b==="category")T?N=N.filter(function(H){return H!==""&&!ke(H)}):N=dA(L,N,y).reduce(function(H,Z){return H.indexOf(Z)>=0||Z===""||ke(Z)?H:[].concat(Js(H),[Z])},[]);else if(b==="number"){var R=vre(j,i.filter(function(H){var Z,ye,Pe=o in H.props?H.props[o]:(Z=H.type.defaultProps)===null||Z===void 0?void 0:Z[o],Te="hide"in H.props?H.props.hide:(ye=H.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Pe===O&&(x||!Te)}),E,a,c);R&&(N=R)}p&&(b==="number"||P!=="auto")&&(z=_u(j,E,"category"))}else p?N=Hh(0,C):s&&s[O]&&s[O].hasStack&&b==="number"?N=h==="expand"?[0,1]:yN(s[O].stackGroups,l,u):N=pN(j,i.filter(function(H){var Z=o in H.props?H.props[o]:H.type.defaultProps[o],ye="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return Z===O&&(x||!ye)}),b,c,!0);if(b==="number")N=G0(f,N,O,a,S),L&&(N=p0(L,N,k));else if(b==="category"&&L){var B=L,W=N.every(function(H){return B.indexOf(H)>=0});W&&(N=B)}}return Q(Q({},g),{},pe({},O,Q(Q({},_),{},{axisType:a,domain:N,categoricalDomain:z,duplicateDomain:I,originalDomain:(v=_.domain)!==null&&v!==void 0?v:V,isCategorical:p,layout:c})))},{})},tfe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,f=e.children,h=km(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=mN(c,a),y=-1;return n.reduce(function(v,_){var b=_.type.defaultProps!==void 0?Q(Q({},_.type.defaultProps),_.props):_.props,E=b[o],k=SD("number");if(!v[E]){y++;var T;return g?T=Hh(0,p):s&&s[E]&&s[E].hasStack?(T=yN(s[E].stackGroups,l,u),T=G0(f,T,E,a)):(T=p0(k,pN(h,n.filter(function(P){var S,x,O=o in P.props?P.props[o]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[o],j="hide"in P.props?P.props.hide:(x=P.type.defaultProps)===null||x===void 0?void 0:x.hide;return O===E&&!j}),"number",c),i.defaultProps.allowDataOverflow),T=G0(f,T,E,a)),Q(Q({},v),{},pe({},E,Q(Q({axisType:a},i.defaultProps),{},{hide:!0,orientation:sn(Xce,"".concat(a,".").concat(y%2),null),domain:T,originalDomain:k,isCategorical:g,layout:c})))}return v},{})},rfe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=ln(c,a),p={};return h&&h.length?p=efe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=tfe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},nfe=function(e){var r=Xi(e),n=mi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rx(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Lh(r,n)}},MP=function(e){var r=e.children,n=e.defaultShowTooltip,i=$r(r,Us),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ife=function(e){return!e||!e.length?!1:e.some(function(r){var n=vi(r&&r.type);return n&&n.indexOf("Bar")>=0})},RP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},afe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,c=n.height,f=n.children,h=n.margin||{},p=$r(f,Us),g=$r(f,Cn),y=Object.keys(l).reduce(function(T,P){var S=l[P],x=S.orientation;return!S.mirror&&!S.hide?Q(Q({},T),{},pe({},x,T[x]+S.width)):T},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(T,P){var S=o[P],x=S.orientation;return!S.mirror&&!S.hide?Q(Q({},T),{},pe({},x,sn(T,"".concat(x))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=Q(Q({},v),y),b=_.bottom;p&&(_.bottom+=p.props.height||Us.defaultProps.height),g&&r&&(_=gre(_,i,n,r));var E=u-_.left-_.right,k=c-_.top-_.bottom;return Q(Q({brushBottom:b},_),{},{width:Math.max(E,0),height:Math.max(k,0)})},ofe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},ED=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(_,b){var E=b.graphicalItems,k=b.stackGroups,T=b.offset,P=b.updateId,S=b.dataStartIndex,x=b.dataEndIndex,O=_.barSize,j=_.layout,C=_.barGap,N=_.barCategoryGap,I=_.maxBarSize,z=RP(j),V=z.numericAxisName,K=z.cateAxisName,L=ife(E),$=[];return E.forEach(function(R,B){var W=km(_.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:x}),H=R.type.defaultProps!==void 0?Q(Q({},R.type.defaultProps),R.props):R.props,Z=H.dataKey,ye=H.maxBarSize,Pe=H["".concat(V,"Id")],Te=H["".concat(K,"Id")],ot={},Je=l.reduce(function(Qr,pn){var ti=b["".concat(pn.axisType,"Map")],Li=H["".concat(pn.axisType,"Id")];ti&&ti[Li]||pn.axisType==="zAxis"||mo();var Ca=ti[Li];return Q(Q({},Qr),{},pe(pe({},pn.axisType,Ca),"".concat(pn.axisType,"Ticks"),mi(Ca)))},ot),ie=Je[K],he=Je["".concat(K,"Ticks")],ge=k&&k[Pe]&&k[Pe].hasStack&&Cre(R,k[Pe].stackGroups),X=vi(R.type).indexOf("Bar")>=0,We=Lh(ie,he),Se=[],Ze=L&&pre({barSize:O,stackGroups:k,totalSize:ofe(Je,K)});if(X){var st,Dt,qr=ke(ye)?I:ye,Hr=(st=(Dt=Lh(ie,he,!0))!==null&&Dt!==void 0?Dt:qr)!==null&&st!==void 0?st:0;Se=mre({barGap:C,barCategoryGap:N,bandSize:Hr!==We?Hr:We,sizeList:Ze[Te],maxBarSize:qr}),Hr!==We&&(Se=Se.map(function(Qr){return Q(Q({},Qr),{},{position:Q(Q({},Qr.position),{},{offset:Qr.position.offset-Hr/2})})}))}var Gr=R&&R.type&&R.type.getComposedData;Gr&&$.push({props:Q(Q({},Gr(Q(Q({},Je),{},{displayedData:W,props:_,dataKey:Z,item:R,bandSize:We,barPosition:Se,offset:T,stackedData:ge,layout:j,dataStartIndex:S,dataEndIndex:x}))),{},pe(pe(pe({key:R.key||"item-".concat(B)},V,Je[V]),K,Je[K]),"animationId",P)),childIndex:hz(R,_.children),item:R})}),$},p=function(_,b){var E=_.props,k=_.dataStartIndex,T=_.dataEndIndex,P=_.updateId;if(!aE({props:E}))return null;var S=E.children,x=E.layout,O=E.stackOffset,j=E.data,C=E.reverseStackOrder,N=RP(x),I=N.numericAxisName,z=N.cateAxisName,V=ln(S,n),K=Pre(j,V,"".concat(I,"Id"),"".concat(z,"Id"),O,C),L=l.reduce(function(H,Z){var ye="".concat(Z.axisType,"Map");return Q(Q({},H),{},pe({},ye,rfe(E,Q(Q({},Z),{},{graphicalItems:V,stackGroups:Z.axisType===I&&K,dataStartIndex:k,dataEndIndex:T}))))},{}),$=afe(Q(Q({},L),{},{props:E,graphicalItems:V}),b==null?void 0:b.legendBBox);Object.keys(L).forEach(function(H){L[H]=c(E,L[H],$,H.replace("Map",""),r)});var R=L["".concat(z,"Map")],B=nfe(R),W=h(E,Q(Q({},L),{},{dataStartIndex:k,dataEndIndex:T,updateId:P,graphicalItems:V,stackGroups:K,offset:$}));return Q(Q({formattedGraphicalItems:W,graphicalItems:V,offset:$,stackGroups:K},B),L)},g=function(v){function _(b){var E,k,T;return Fce(this,_),T=Uce(this,_,[b]),pe(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pe(T,"accessibilityManager",new Tce),pe(T,"handleLegendBBoxUpdate",function(P){if(P){var S=T.state,x=S.dataStartIndex,O=S.dataEndIndex,j=S.updateId;T.setState(Q({legendBBox:P},p({props:T.props,dataStartIndex:x,dataEndIndex:O,updateId:j},Q(Q({},T.state),{},{legendBBox:P}))))}}),pe(T,"handleReceiveSyncEvent",function(P,S,x){if(T.props.syncId===P){if(x===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),pe(T,"handleBrushChange",function(P){var S=P.startIndex,x=P.endIndex;if(S!==T.state.dataStartIndex||x!==T.state.dataEndIndex){var O=T.state.updateId;T.setState(function(){return Q({dataStartIndex:S,dataEndIndex:x},p({props:T.props,dataStartIndex:S,dataEndIndex:x,updateId:O},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:x})}}),pe(T,"handleMouseEnter",function(P){var S=T.getMouseInfo(P);if(S){var x=Q(Q({},S),{},{isTooltipActive:!0});T.setState(x),T.triggerSyncEvent(x);var O=T.props.onMouseEnter;Ee(O)&&O(x,P)}}),pe(T,"triggeredAfterMouseMove",function(P){var S=T.getMouseInfo(P),x=S?Q(Q({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(x),T.triggerSyncEvent(x);var O=T.props.onMouseMove;Ee(O)&&O(x,P)}),pe(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),pe(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),pe(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),pe(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var x=T.props.onMouseLeave;Ee(x)&&x(S,P)}),pe(T,"handleOuterEvent",function(P){var S=dz(P),x=sn(T.props,"".concat(S));if(S&&Ee(x)){var O,j;/.*touch.*/i.test(S)?j=T.getMouseInfo(P.changedTouches[0]):j=T.getMouseInfo(P),x((O=j)!==null&&O!==void 0?O:{},P)}}),pe(T,"handleClick",function(P){var S=T.getMouseInfo(P);if(S){var x=Q(Q({},S),{},{isTooltipActive:!0});T.setState(x),T.triggerSyncEvent(x);var O=T.props.onClick;Ee(O)&&O(x,P)}}),pe(T,"handleMouseDown",function(P){var S=T.props.onMouseDown;if(Ee(S)){var x=T.getMouseInfo(P);S(x,P)}}),pe(T,"handleMouseUp",function(P){var S=T.props.onMouseUp;if(Ee(S)){var x=T.getMouseInfo(P);S(x,P)}}),pe(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),pe(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),pe(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),pe(T,"handleDoubleClick",function(P){var S=T.props.onDoubleClick;if(Ee(S)){var x=T.getMouseInfo(P);S(x,P)}}),pe(T,"handleContextMenu",function(P){var S=T.props.onContextMenu;if(Ee(S)){var x=T.getMouseInfo(P);S(x,P)}}),pe(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&ny.emit(iy,T.props.syncId,P,T.eventEmitterSymbol)}),pe(T,"applySyncEvent",function(P){var S=T.props,x=S.layout,O=S.syncMethod,j=T.state.updateId,C=P.dataStartIndex,N=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(Q({dataStartIndex:C,dataEndIndex:N},p({props:T.props,dataStartIndex:C,dataEndIndex:N,updateId:j},T.state)));else if(P.activeTooltipIndex!==void 0){var I=P.chartX,z=P.chartY,V=P.activeTooltipIndex,K=T.state,L=K.offset,$=K.tooltipTicks;if(!L)return;if(typeof O=="function")V=O($,P);else if(O==="value"){V=-1;for(var R=0;R<$.length;R++)if($[R].value===P.activeLabel){V=R;break}}var B=Q(Q({},L),{},{x:L.left,y:L.top}),W=Math.min(I,B.x+B.width),H=Math.min(z,B.y+B.height),Z=$[V]&&$[V].value,ye=Y0(T.state,T.props.data,V),Pe=$[V]?{x:x==="horizontal"?$[V].coordinate:W,y:x==="horizontal"?H:$[V].coordinate}:_D;T.setState(Q(Q({},P),{},{activeLabel:Z,activeCoordinate:Pe,activePayload:ye,activeTooltipIndex:V}))}else T.setState(P)}),pe(T,"renderCursor",function(P){var S,x=T.state,O=x.isTooltipActive,j=x.activeCoordinate,C=x.activePayload,N=x.offset,I=x.activeTooltipIndex,z=x.tooltipAxisBandSize,V=T.getTooltipEventType(),K=(S=P.props.active)!==null&&S!==void 0?S:O,L=T.props.layout,$=P.key||"_recharts-cursor";return F.createElement(jce,{key:$,activeCoordinate:j,activePayload:C,activeTooltipIndex:I,chartName:r,element:P,isActive:K,layout:L,offset:N,tooltipAxisBandSize:z,tooltipEventType:V})}),pe(T,"renderPolarAxis",function(P,S,x){var O=sn(P,"type.axisType"),j=sn(T.state,"".concat(O,"Map")),C=P.type.defaultProps,N=C!==void 0?Q(Q({},C),P.props):P.props,I=j&&j[N["".concat(O,"Id")]];return D.cloneElement(P,Q(Q({},I),{},{className:Re(O,I.className),key:P.key||"".concat(S,"-").concat(x),ticks:mi(I,!0)}))}),pe(T,"renderPolarGrid",function(P){var S=P.props,x=S.radialLines,O=S.polarAngles,j=S.polarRadius,C=T.state,N=C.radiusAxisMap,I=C.angleAxisMap,z=Xi(N),V=Xi(I),K=V.cx,L=V.cy,$=V.innerRadius,R=V.outerRadius;return D.cloneElement(P,{polarAngles:Array.isArray(O)?O:mi(V,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(j)?j:mi(z,!0).map(function(B){return B.coordinate}),cx:K,cy:L,innerRadius:$,outerRadius:R,key:P.key||"polar-grid",radialLines:x})}),pe(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,S=T.props,x=S.children,O=S.width,j=S.height,C=T.props.margin||{},N=O-(C.left||0)-(C.right||0),I=dN({children:x,formattedGraphicalItems:P,legendWidth:N,legendContent:u});if(!I)return null;var z=I.item,V=jP(I,Nce);return D.cloneElement(z,Q(Q({},V),{},{chartWidth:O,chartHeight:j,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),pe(T,"renderTooltip",function(){var P,S=T.props,x=S.children,O=S.accessibilityLayer,j=$r(x,gr);if(!j)return null;var C=T.state,N=C.isTooltipActive,I=C.activeCoordinate,z=C.activePayload,V=C.activeLabel,K=C.offset,L=(P=j.props.active)!==null&&P!==void 0?P:N;return D.cloneElement(j,{viewBox:Q(Q({},K),{},{x:K.left,y:K.top}),active:L,label:V,payload:L?z:[],coordinate:I,accessibilityLayer:O})}),pe(T,"renderBrush",function(P){var S=T.props,x=S.margin,O=S.data,j=T.state,C=j.offset,N=j.dataStartIndex,I=j.dataEndIndex,z=j.updateId;return D.cloneElement(P,{key:P.key||"_recharts-brush",onChange:td(T.handleBrushChange,P.props.onChange),data:O,x:ne(P.props.x)?P.props.x:C.left,y:ne(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(x.bottom||0),width:ne(P.props.width)?P.props.width:C.width,startIndex:N,endIndex:I,updateId:"brush-".concat(z)})}),pe(T,"renderReferenceElement",function(P,S,x){if(!P)return null;var O=T,j=O.clipPathId,C=T.state,N=C.xAxisMap,I=C.yAxisMap,z=C.offset,V=P.type.defaultProps||{},K=P.props,L=K.xAxisId,$=L===void 0?V.xAxisId:L,R=K.yAxisId,B=R===void 0?V.yAxisId:R;return D.cloneElement(P,{key:P.key||"".concat(S,"-").concat(x),xAxis:N[$],yAxis:I[B],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:j})}),pe(T,"renderActivePoints",function(P){var S=P.item,x=P.activePoint,O=P.basePoint,j=P.childIndex,C=P.isRange,N=[],I=S.props.key,z=S.item.type.defaultProps!==void 0?Q(Q({},S.item.type.defaultProps),S.item.props):S.item.props,V=z.activeDot,K=z.dataKey,L=Q(Q({index:j,dataKey:K,cx:x.x,cy:x.y,r:4,fill:Ox(S.item),strokeWidth:2,stroke:"#fff",payload:x.payload,value:x.value},je(V,!1)),uh(V));return N.push(_.renderActiveDot(V,L,"".concat(I,"-activePoint-").concat(j))),O?N.push(_.renderActiveDot(V,Q(Q({},L),{},{cx:O.x,cy:O.y}),"".concat(I,"-basePoint-").concat(j))):C&&N.push(null),N}),pe(T,"renderGraphicChild",function(P,S,x){var O=T.filterFormatItem(P,S,x);if(!O)return null;var j=T.getTooltipEventType(),C=T.state,N=C.isTooltipActive,I=C.tooltipAxis,z=C.activeTooltipIndex,V=C.activeLabel,K=T.props.children,L=$r(K,gr),$=O.props,R=$.points,B=$.isRange,W=$.baseLine,H=O.item.type.defaultProps!==void 0?Q(Q({},O.item.type.defaultProps),O.item.props):O.item.props,Z=H.activeDot,ye=H.hide,Pe=H.activeBar,Te=H.activeShape,ot=!!(!ye&&N&&L&&(Z||Pe||Te)),Je={};j!=="axis"&&L&&L.props.trigger==="click"?Je={onClick:td(T.handleItemMouseEnter,P.props.onClick)}:j!=="axis"&&(Je={onMouseLeave:td(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:td(T.handleItemMouseEnter,P.props.onMouseEnter)});var ie=D.cloneElement(P,Q(Q({},O.props),Je));function he(pn){return typeof I.dataKey=="function"?I.dataKey(pn.payload):null}if(ot)if(z>=0){var ge,X;if(I.dataKey&&!I.allowDuplicatedCategory){var We=typeof I.dataKey=="function"?he:"payload.".concat(I.dataKey.toString());ge=lh(R,We,V),X=B&&W&&lh(W,We,V)}else ge=R==null?void 0:R[z],X=B&&W&&W[z];if(Te||Pe){var Se=P.props.activeIndex!==void 0?P.props.activeIndex:z;return[D.cloneElement(P,Q(Q(Q({},O.props),Je),{},{activeIndex:Se})),null,null]}if(!ke(ge))return[ie].concat(Js(T.renderActivePoints({item:O,activePoint:ge,basePoint:X,childIndex:z,isRange:B})))}else{var Ze,st=(Ze=T.getItemByXY(T.state.activeCoordinate))!==null&&Ze!==void 0?Ze:{graphicalItem:ie},Dt=st.graphicalItem,qr=Dt.item,Hr=qr===void 0?P:qr,Gr=Dt.childIndex,Qr=Q(Q(Q({},O.props),Je),{},{activeIndex:Gr});return[D.cloneElement(Hr,Qr),null,null]}return B?[ie,null,null]:[ie,null]}),pe(T,"renderCustomized",function(P,S,x){return D.cloneElement(P,Q(Q({key:"recharts-customized-".concat(x)},T.props),T.state))}),pe(T,"renderMap",{CartesianGrid:{handler:od,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:od},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:od},YAxis:{handler:od},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((E=b.id)!==null&&E!==void 0?E:Zc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=fj(T.triggeredAfterMouseMove,(k=b.throttleDelay)!==null&&k!==void 0?k:1e3/60),T.state={},T}return Kce(_,v),Bce(_,[{key:"componentDidMount",value:function(){var E,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,k=E.children,T=E.data,P=E.height,S=E.layout,x=$r(k,gr);if(x){var O=x.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,C=Y0(this.state,T,O,j),N=this.state.tooltipTicks[O].coordinate,I=(this.state.offset.top+P)/2,z=S==="horizontal",V=z?{x:N,y:I}:{y:N,x:I},K=this.state.formattedGraphicalItems.find(function($){var R=$.item;return R.type.name==="Scatter"});K&&(V=Q(Q({},V),K.props.points[O].tooltipPosition),C=K.props.points[O].tooltipPayload);var L={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:j,activePayload:C,activeCoordinate:V};this.setState(L),this.renderCursor(x),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(E){kv([$r(E.children,gr)],[$r(this.props.children,gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=$r(this.props.children,gr);if(E&&typeof E.props.shared=="boolean"){var k=E.props.shared?"axis":"item";return s.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var k=this.container,T=k.getBoundingClientRect(),P=FY(T),S={chartX:Math.round(E.pageX-P.left),chartY:Math.round(E.pageY-P.top)},x=T.width/k.offsetWidth||1,O=this.inRange(S.chartX,S.chartY,x);if(!O)return null;var j=this.state,C=j.xAxisMap,N=j.yAxisMap,I=this.getTooltipEventType(),z=DP(this.state,this.props.data,this.props.layout,O);if(I!=="axis"&&C&&N){var V=Xi(C).scale,K=Xi(N).scale,L=V&&V.invert?V.invert(S.chartX):null,$=K&&K.invert?K.invert(S.chartY):null;return Q(Q({},S),{},{xValue:L,yValue:$},z)}return z?Q(Q({},S),z):null}},{key:"inRange",value:function(E,k){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=E/T,x=k/T;if(P==="horizontal"||P==="vertical"){var O=this.state.offset,j=S>=O.left&&S<=O.left+O.width&&x>=O.top&&x<=O.top+O.height;return j?{x:S,y:x}:null}var C=this.state,N=C.angleAxisMap,I=C.radiusAxisMap;if(N&&I){var z=Xi(N);return mA({x:S,y:x},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,k=this.getTooltipEventType(),T=$r(E,gr),P={};T&&k==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=uh(this.props,this.handleOuterEvent);return Q(Q({},S),P)}},{key:"addListener",value:function(){ny.on(iy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ny.removeListener(iy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,k,T){for(var P=this.state.formattedGraphicalItems,S=0,x=P.length;S<x;S++){var O=P[S];if(O.item===E||O.props.key===E.key||k===vi(O.item.type)&&T===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,k=this.state.offset,T=k.left,P=k.top,S=k.height,x=k.width;return F.createElement("defs",null,F.createElement("clipPath",{id:E},F.createElement("rect",{x:T,y:P,height:S,width:x})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(k,T){var P=IP(T,2),S=P[0],x=P[1];return Q(Q({},k),{},pe({},S,x.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(k,T){var P=IP(T,2),S=P[0],x=P[1];return Q(Q({},k),{},pe({},S,x.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(E){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(E){var k=this.state,T=k.formattedGraphicalItems,P=k.activeItem;if(T&&T.length)for(var S=0,x=T.length;S<x;S++){var O=T[S],j=O.props,C=O.item,N=C.type.defaultProps!==void 0?Q(Q({},C.type.defaultProps),C.props):C.props,I=vi(C.type);if(I==="Bar"){var z=(j.data||[]).find(function($){return _ae(E,$)});if(z)return{graphicalItem:O,payload:z}}else if(I==="RadialBar"){var V=(j.data||[]).find(function($){return mA(E,$)});if(V)return{graphicalItem:O,payload:V}}else if(_m(O,P)||Sm(O,P)||kc(O,P)){var K=Toe({graphicalItem:O,activeTooltipItem:P,itemData:N.data}),L=N.activeIndex===void 0?K:N.activeIndex;return{graphicalItem:Q(Q({},O),{},{childIndex:L}),payload:kc(O,P)?N.data[K]:O.props.data[K]}}}return null}},{key:"render",value:function(){var E=this;if(!aE(this))return null;var k=this.props,T=k.children,P=k.className,S=k.width,x=k.height,O=k.style,j=k.compact,C=k.title,N=k.desc,I=jP(k,Dce),z=je(I,!1);if(j)return F.createElement(hP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(Iv,rs({},z,{width:S,height:x,title:C,desc:N}),this.renderClipPath(),sE(T,this.renderMap)));if(this.props.accessibilityLayer){var V,K;z.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,z.role=(K=this.props.role)!==null&&K!==void 0?K:"application",z.onKeyDown=function($){E.accessibilityManager.keyboardEvent($)},z.onFocus=function(){E.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return F.createElement(hP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",rs({className:Re("recharts-wrapper",P),style:Q({position:"relative",cursor:"default",width:S,height:x},O)},L,{ref:function(R){E.container=R}}),F.createElement(Iv,rs({},z,{width:S,height:x,title:C,desc:N,style:Yce}),this.renderClipPath(),sE(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);pe(g,"displayName",r),pe(g,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),pe(g,"getDerivedStateFromProps",function(v,_){var b=v.dataKey,E=v.data,k=v.children,T=v.width,P=v.height,S=v.layout,x=v.stackOffset,O=v.margin,j=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var N=MP(v);return Q(Q(Q({},N),{},{updateId:0},p(Q(Q({props:v},N),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:E,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:x,prevMargin:O,prevChildren:k})}if(b!==_.prevDataKey||E!==_.prevData||T!==_.prevWidth||P!==_.prevHeight||S!==_.prevLayout||x!==_.prevStackOffset||!fs(O,_.prevMargin)){var I=MP(v),z={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},V=Q(Q({},DP(_,E,S)),{},{updateId:_.updateId+1}),K=Q(Q(Q({},I),z),V);return Q(Q(Q({},K),p(Q({props:v},K),_)),{},{prevDataKey:b,prevData:E,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:x,prevMargin:O,prevChildren:k})}if(!kv(k,_.prevChildren)){var L,$,R,B,W=$r(k,Us),H=W&&(L=($=W.props)===null||$===void 0?void 0:$.startIndex)!==null&&L!==void 0?L:j,Z=W&&(R=(B=W.props)===null||B===void 0?void 0:B.endIndex)!==null&&R!==void 0?R:C,ye=H!==j||Z!==C,Pe=!ke(E),Te=Pe&&!ye?_.updateId:_.updateId+1;return Q(Q({updateId:Te},p(Q(Q({props:v},_),{},{updateId:Te,dataStartIndex:H,dataEndIndex:Z}),_)),{},{prevChildren:k,dataStartIndex:H,dataEndIndex:Z})}return null}),pe(g,"renderActiveDot",function(v,_,b){var E;return D.isValidElement(v)?E=D.cloneElement(v,_):Ee(v)?E=v(_):E=F.createElement(Cx,_),F.createElement(bt,{className:"recharts-active-dot",key:b},E)});var y=D.forwardRef(function(_,b){return F.createElement(g,rs({},_,{ref:b}))});return y.displayName=g.displayName,y},Vx=ED({chartName:"LineChart",GraphicalChild:ko,axisComponents:[{axisType:"xAxis",AxisComp:Yn},{axisType:"yAxis",AxisComp:Jn}],formatAxisMap:UN}),Bx=ED({chartName:"BarChart",GraphicalChild:$i,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yn},{axisType:"yAxis",AxisComp:Jn}],formatAxisMap:UN});const Pn=({label:t,options:e,selectedValues:r,onChange:n,placeholder:i})=>{const[a,o]=D.useState(!1),s=D.useRef(null),l=D.useMemo(()=>e.map(p=>p.value),[e]);D.useEffect(()=>{const p=g=>{s.current&&!s.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const u=p=>{const g=r.includes(p)?r.filter(y=>y!==p):[...r,p];n(g)},c=p=>{p.target.checked?n(l):n([])},f=r.length>0&&r.length===e.length,h=()=>{if(r.length===0)return i||`Select ${t}`;if(r.length===e.length&&e.length>1)return`All ${t} selected`;if(r.length>1)return`${r.length} of ${e.length} selected`;const p=e.find(g=>g.value===r[0]);return p?p.label:"1 selected"};return m.jsxs("div",{className:"relative",ref:s,children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),m.jsxs("button",{type:"button",onClick:()=>o(!a),className:"block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-left flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-900 dark:text-white truncate",children:r.length>0?h():m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i||`Select ${t}`})}),m.jsx(qI,{className:`w-4 h-4 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&m.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg border dark:border-gray-600 rounded-md max-h-60 overflow-y-auto",children:m.jsxs("div",{className:"p-2 space-y-1",children:[m.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b dark:border-gray-600",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:f,onChange:c}),m.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Select All"})]}),e.map(p=>m.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:r.includes(p.value),onChange:()=>u(p.value)}),m.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:p.label})]},p.value))]})})]})},TD=()=>{const{user:t}=_r(),[e,r]=D.useState([]),[n,i]=D.useState(!0);return D.useEffect(()=>{(async()=>{if(!t)return;i(!0);let o=null;(t.role===J.TeamLeader||t.role===J.Assistant)&&(o=t.teamId);const s=await ce.getMissingEntries(o);r(s),i(!1)})()},[t]),n?m.jsx(_e,{title:"Missing Entries (Current Month)",children:m.jsx("p",{children:"Loading missing entry data..."})}):e.length===0?m.jsx(_e,{title:"Missing Entries (Current Month)",children:m.jsx("p",{className:"text-green-500",children:"All teams have submitted their daily entries for this month. Great job!"})}):m.jsx(_e,{title:"Missing Entries (Current Month)",children:m.jsx("ul",{className:"space-y-4",children:e.map(a=>m.jsxs("li",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/50 rounded-lg",children:[m.jsxs("p",{className:"font-semibold text-yellow-800 dark:text-yellow-300",children:["Team ",a.teamName,m.jsxs("span",{className:"ml-2 text-sm font-normal",children:["(",a.count," day",a.count>1?"s":""," missing)"]})]}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:a.missingDates.map(o=>m.jsx("span",{className:"text-xs bg-yellow-200 dark:bg-yellow-700 text-yellow-800 dark:text-yellow-200 px-2 py-1 rounded-full",children:o},o))})]},a.teamName))})})},sfe=()=>{const{user:t}=_r(),[e,r]=D.useState([]),[n,i]=D.useState(null),[a,o]=D.useState(null),[s,l]=D.useState(!0),[u,c]=D.useState([]),[f,h]=D.useState([]),[p,g]=D.useState([]),[y,v]=D.useState([]);D.useEffect(()=>{(async()=>{if(!(!t||!t.teamId)){l(!0);try{const[I,z]=await Promise.all([ce.getKpis({teamId:t.teamId}),ce.getTeamById(t.teamId)]);r(I),i(z||null)}catch(I){console.error("Failed to fetch team leader dashboard data:",I)}finally{l(!1)}}})()},[t]),D.useEffect(()=>{if(t!=null&&t.teamId){const N=u.length>0?u:[new Date().getFullYear().toString()],I=f.length>0?f:[(new Date().getMonth()+1).toString()];ce.getTeamRank(t.teamId,N,I).then(o)}},[t,u,f,e]);const _=D.useMemo(()=>Array.from(new Set(e.map(N=>new Date(N.Date).getFullYear().toString()))).sort((N,I)=>I.localeCompare(N)).map(N=>({value:N,label:N})),[e]),b=D.useMemo(()=>Array.from({length:12},(N,I)=>({value:(I+1).toString(),label:new Date(0,I).toLocaleString("default",{month:"long"})})),[]),E=D.useMemo(()=>(n==null?void 0:n.agents.map(N=>({value:N.id,label:N.fullName})))||[],[n]),k=D.useMemo(()=>Array.from(new Set(e.map(N=>N.Task))).map(N=>({value:N,label:N})),[e]),T=D.useMemo(()=>{let N=e;const I=u.length===0&&f.length===0,z=I?[new Date().getFullYear().toString()]:u,V=I?[(new Date().getMonth()+1).toString()]:f;return z.length>0&&(N=N.filter(K=>z.includes(new Date(K.Date).getFullYear().toString()))),V.length>0&&(N=N.filter(K=>V.includes((new Date(K.Date).getMonth()+1).toString()))),p.length>0&&(N=N.filter(K=>p.includes(K.userId))),y.length>0&&(N=N.filter(K=>y.includes(K.Task))),N},[e,u,f,p,y]),P=(n==null?void 0:n.agents.length)??0,S=T.length>0?(T.reduce((N,I)=>N+I["Overall %"],0)/T.length).toFixed(2):0,x=e.filter(N=>N.Date===new Date().toISOString().split("T")[0]).length,O=D.useMemo(()=>{const N={};for(const I of T)N[I.userId]||(N[I.userId]={total:0,count:0}),N[I.userId].total+=I["Overall %"],N[I.userId].count++;return(n==null?void 0:n.agents.map(I=>{const z=N[I.id];return{name:I.fullName,"Overall %":z&&z.count>0?parseFloat((z.total/z.count).toFixed(2)):0}}))||[]},[T,n]),j=D.useMemo(()=>{const N={};return T.forEach(I=>{const z=new Date(I.Date).getDate().toString();N[z]||(N[z]={total:0,count:0}),N[z].total+=I["Overall %"],N[z].count++}),Object.entries(N).map(([I,z])=>({day:I,Performance:parseFloat((z.total/z.count).toFixed(2))})).sort((I,z)=>parseInt(I.day)-parseInt(z.day))},[T]),C=()=>{c([]),h([]),g([]),v([])};return s?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsx(_e,{title:"Filters",className:"relative z-20",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[m.jsx(Pn,{label:"Year",options:_,selectedValues:u,onChange:c,placeholder:"Select Year"}),m.jsx(Pn,{label:"Month",options:b,selectedValues:f,onChange:h,placeholder:"Select Month"}),m.jsx(Pn,{label:"Agents",options:E,selectedValues:p,onChange:g,placeholder:"Select Agents"}),m.jsx(Pn,{label:"Tasks",options:k,selectedValues:y,onChange:v,placeholder:"Select Tasks"}),m.jsx("div",{className:"flex items-end",children:m.jsx(me,{variant:"secondary",onClick:C,className:"w-full",children:"Reset"})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(_s,{to:`/teams/${t==null?void 0:t.teamId}`,className:"block",children:m.jsxs(_e,{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors h-full",children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Team Members"}),m.jsx("p",{className:"text-3xl font-bold",children:P})]})}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Team Rank"}),m.jsx("p",{className:"text-3xl font-bold text-blue-500",children:a?`${a.rank} of ${a.totalTeams}`:"N/A"})]}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Team Performance"}),m.jsxs("p",{className:"text-3xl font-bold text-green-500",children:[S,"%"]})]}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Today's Team Entries"}),m.jsx("p",{className:"text-3xl font-bold",children:x})]})]}),m.jsx(_e,{title:"Team Performance Trend (Daily Average)",children:m.jsx("div",{className:"h-96",children:m.jsx(Ms,{width:"100%",height:"100%",children:m.jsxs(Vx,{data:j,children:[m.jsx(yo,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(156, 163, 175, 0.3)"}),m.jsx(Yn,{dataKey:"day",tick:{fill:"currentColor",fontSize:12}}),m.jsx(Jn,{tick:{fill:"currentColor",fontSize:12},domain:["dataMin - 5","dataMax + 5"]}),m.jsx(gr,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.8)",borderColor:"rgba(156, 163, 175, 0.3)",color:"#fff"}}),m.jsx(Cn,{}),m.jsx(ko,{type:"monotone",dataKey:"Performance",stroke:"#3b82f6",strokeWidth:2,activeDot:{r:8}})]})})})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsx(_e,{title:"Agent Performance (Overall %)",children:m.jsx("div",{className:"h-96",children:m.jsx(Ms,{width:"100%",height:"100%",children:m.jsxs(Bx,{data:O,children:[m.jsx(yo,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(156, 163, 175, 0.3)"}),m.jsx(Yn,{dataKey:"name",tick:{fill:"currentColor",fontSize:12}}),m.jsx(Jn,{tick:{fill:"currentColor",fontSize:12}}),m.jsx(gr,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.8)",borderColor:"rgba(156, 163, 175, 0.3)",color:"#fff"}}),m.jsx(Cn,{}),m.jsx($i,{dataKey:"Overall %",fill:"#3b82f6"})]})})})})}),m.jsx("div",{children:m.jsx(TD,{})})]})]})},lfe=()=>{const[t,e]=D.useState([]),[r,n]=D.useState([]),[i,a]=D.useState([]),[o,s]=D.useState([]),[l,u]=D.useState([]),[c,f]=D.useState(!0),[h,p]=D.useState([]),[g,y]=D.useState([]),[v,_]=D.useState([]),[b,E]=D.useState([]);D.useEffect(()=>{(async()=>{f(!0);try{const[B,W,H,Z]=await Promise.all([ce.getKpis({}),ce.getTeams(),ce.getUsers(),ce.getTasks()]);e(B),n(W),a(H),s(H.filter(ye=>ye.role===J.Agent)),u(Z.map(ye=>ye.taskName))}catch(B){console.error("Failed to fetch dashboard data:",B)}finally{f(!1)}})()},[]);const k=D.useMemo(()=>Array.from(new Set(t.map(R=>new Date(R.Date).getFullYear().toString()))).sort((R,B)=>B.localeCompare(R)).map(R=>({value:R,label:R})),[t]),T=D.useMemo(()=>Array.from({length:12},(R,B)=>({value:(B+1).toString(),label:new Date(0,B).toLocaleString("default",{month:"long"})})),[]),P=D.useMemo(()=>r.map(R=>({value:R.teamName,label:R.teamName})),[r]),S=D.useMemo(()=>l.map(R=>({value:R,label:R})),[l]),x=D.useMemo(()=>{let R=t;const B=h.length===0&&g.length===0,W=B?[new Date().getFullYear().toString()]:h,H=B?[(new Date().getMonth()+1).toString()]:g;return W.length>0&&(R=R.filter(Z=>W.includes(new Date(Z.Date).getFullYear().toString()))),H.length>0&&(R=R.filter(Z=>H.includes((new Date(Z.Date).getMonth()+1).toString()))),v.length>0&&(R=R.filter(Z=>v.includes(Z.Team))),b.length>0&&(R=R.filter(Z=>b.includes(Z.Task))),R},[t,h,g,v,b]),O=r.length,j=o.length,C=D.useMemo(()=>i.filter(R=>R.role===J.TeamLeader).length,[i]),N=D.useMemo(()=>i.filter(R=>R.role===J.Assistant).length,[i]),I=D.useMemo(()=>i.filter(R=>[J.Agent,J.TeamLeader,J.Assistant].includes(R.role)).length,[i]),z=x.length>0?(x.reduce((R,B)=>R+B["Overall %"],0)/x.length).toFixed(2):0,V=t.filter(R=>R.Date===new Date().toISOString().split("T")[0]).length,K=D.useMemo(()=>{const R={};for(const B of x)R[B.Team]||(R[B.Team]={total:0,count:0}),R[B.Team].total+=B["Overall %"],R[B.Team].count++;return r.map(B=>{const W=R[B.teamName];return{name:B.teamName,"Overall %":W&&W.count>0?parseFloat((W.total/W.count).toFixed(2)):0}})},[x,r]),L=D.useMemo(()=>{const R={};return x.forEach(B=>{const W=new Date(B.Date).getDate().toString();R[W]||(R[W]={total:0,count:0}),R[W].total+=B["Overall %"],R[W].count++}),Object.entries(R).map(([B,W])=>({day:B,Performance:parseFloat((W.total/W.count).toFixed(2))})).sort((B,W)=>parseInt(B.day)-parseInt(W.day))},[x]),$=()=>{p([]),y([]),_([]),E([])};return c?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsx(_e,{title:"Filters",className:"relative z-20",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[m.jsx(Pn,{label:"Year",options:k,selectedValues:h,onChange:p,placeholder:"Select Year"}),m.jsx(Pn,{label:"Month",options:T,selectedValues:g,onChange:y,placeholder:"Select Month"}),m.jsx(Pn,{label:"Teams",options:P,selectedValues:v,onChange:_,placeholder:"Select Teams"}),m.jsx(Pn,{label:"Tasks",options:S,selectedValues:b,onChange:E,placeholder:"Select Tasks"}),m.jsx("div",{className:"flex items-end",children:m.jsx(me,{variant:"secondary",onClick:$,className:"w-full",children:"Reset"})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(_s,{to:"/teams",className:"block",children:m.jsxs(_e,{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors h-full",children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Total Teams"}),m.jsx("p",{className:"text-3xl font-bold",children:O})]})}),m.jsx(_s,{to:"/reports",className:"block",children:m.jsxs(_e,{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors h-full",children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Total Agents"}),m.jsx("p",{className:"text-3xl font-bold",children:j})]})}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Team Leaders"}),m.jsx("p",{className:"text-3xl font-bold",children:C})]}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Assistants"}),m.jsx("p",{className:"text-3xl font-bold",children:N})]}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Total Staff"}),m.jsx("p",{className:"text-3xl font-bold",children:I})]}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Filtered Performance"}),m.jsxs("p",{className:"text-3xl font-bold text-green-500",children:[z,"%"]})]}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Today's Entries"}),m.jsx("p",{className:"text-3xl font-bold",children:V})]})]}),m.jsx(_e,{title:"Performance Trend (Daily Average)",children:m.jsx("div",{className:"h-96",children:m.jsx(Ms,{width:"100%",height:"100%",children:m.jsxs(Vx,{data:L,children:[m.jsx(yo,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(156, 163, 175, 0.3)"}),m.jsx(Yn,{dataKey:"day",tick:{fill:"currentColor",fontSize:12}}),m.jsx(Jn,{tick:{fill:"currentColor",fontSize:12},domain:["dataMin - 5","dataMax + 5"]}),m.jsx(gr,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.8)",borderColor:"rgba(156, 163, 175, 0.3)",color:"#fff"},cursor:{stroke:"#3b82f6",strokeWidth:1}}),m.jsx(Cn,{}),m.jsx(ko,{type:"monotone",dataKey:"Performance",stroke:"#3b82f6",strokeWidth:2,activeDot:{r:8}})]})})})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsx(_e,{title:"Team Performance (Overall %)",children:m.jsx("div",{className:"h-96",children:m.jsx(Ms,{width:"100%",height:"100%",children:m.jsxs(Bx,{data:K,children:[m.jsx(yo,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(156, 163, 175, 0.3)"}),m.jsx(Yn,{dataKey:"name",tick:{fill:"currentColor",fontSize:12}}),m.jsx(Jn,{tick:{fill:"currentColor",fontSize:12}}),m.jsx(gr,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.8)",borderColor:"rgba(156, 163, 175, 0.3)",color:"#fff"},cursor:{fill:"rgba(156, 163, 175, 0.1)"}}),m.jsx(Cn,{}),m.jsx($i,{dataKey:"Overall %",fill:"#3b82f6"})]})})})})}),m.jsx("div",{children:m.jsx(TD,{})})]})]})},ufe=()=>{const{user:t}=_r(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState(!0),[s,l]=D.useState([]),[u,c]=D.useState([]),[f,h]=D.useState([]);D.useEffect(()=>{(async()=>{if(t){o(!0);try{const x=await ce.getKpis({userId:t.id});r(x)}catch(x){console.error("Failed to fetch agent dashboard KPIs",x)}finally{o(!1)}}})()},[t]),D.useEffect(()=>{(async()=>{if(t){o(!0);try{const x=s.length===0&&u.length===0,O=x?[new Date().getFullYear().toString()]:s,j=x?[(new Date().getMonth()+1).toString()]:u,C=await ce.getAgentPerformanceSummary(t.id,O,j);i(C)}catch(x){console.error("Failed to fetch agent summary data",x)}finally{o(!1)}}})()},[t,s,u]);const p=D.useMemo(()=>e.length===0?[{value:new Date().getFullYear().toString(),label:new Date().getFullYear().toString()}]:Array.from(new Set(e.map(S=>new Date(S.Date).getFullYear().toString()))).sort((S,x)=>x.localeCompare(S)).map(S=>({value:S,label:S})),[e]),g=D.useMemo(()=>Array.from({length:12},(S,x)=>({value:(x+1).toString(),label:new Date(0,x).toLocaleString("default",{month:"long"})})),[]),y=D.useMemo(()=>Array.from(new Set(e.map(S=>S.Task))).map(S=>({value:S,label:S})),[e]),v=D.useMemo(()=>{let S=e;const x=s.length===0&&u.length===0,O=x?[new Date().getFullYear().toString()]:s,j=x?[(new Date().getMonth()+1).toString()]:u;return O.length>0&&(S=S.filter(C=>O.includes(new Date(C.Date).getFullYear().toString()))),j.length>0&&(S=S.filter(C=>j.includes((new Date(C.Date).getMonth()+1).toString()))),f.length>0&&(S=S.filter(C=>f.includes(C.Task))),S},[e,s,u,f]),_=D.useMemo(()=>f.length===0?n:n.filter(S=>f.includes(S.name)),[n,f]),b=D.useMemo(()=>{const S={};return v.forEach(x=>{const O=new Date(x.Date).getDate().toString();S[O]||(S[O]={total:0,count:0}),S[O].total+=x["Overall %"],S[O].count++}),Object.entries(S).map(([x,O])=>({day:x,Performance:parseFloat((O.total/O.count).toFixed(2))})).sort((x,O)=>parseInt(x.day)-parseInt(O.day))},[v]),E=()=>{l([]),c([]),h([])};if(a&&e.length===0)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})});const k=v.length,T=k>0?v.reduce((S,x)=>new Date(x.Date)>new Date(S.Date)?x:S).Date:"N/A",P=k>0?parseFloat((v.reduce((S,x)=>S+x["Overall %"],0)/k).toFixed(2)):0;return m.jsxs(m.Fragment,{children:[m.jsx(_e,{title:"Filters",className:"relative z-20",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(Pn,{label:"Year",options:p,selectedValues:s,onChange:l,placeholder:"Select Year"}),m.jsx(Pn,{label:"Month",options:g,selectedValues:u,onChange:c,placeholder:"Select Month"}),m.jsx(Pn,{label:"Tasks",options:y,selectedValues:f,onChange:h,placeholder:"Select Tasks"}),m.jsx("div",{className:"flex items-end",children:m.jsx(me,{variant:"secondary",onClick:E,className:"w-full",children:"Reset"})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Total Entries (Filtered)"}),m.jsx("p",{className:"text-3xl font-bold",children:k})]}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Last Entry in Period"}),m.jsx("p",{className:"text-3xl font-bold",children:T})]}),m.jsxs(_e,{children:[m.jsx("h4",{className:"text-gray-500 dark:text-gray-400",children:"Your Performance (Filtered)"}),m.jsxs("p",{className:"text-3xl font-bold text-primary-500",children:[P,"%"]})]})]}),m.jsx(_e,{title:"Performance Trend (Daily Average)",className:"mt-6",children:m.jsx("div",{className:"h-96",children:m.jsx(Ms,{width:"100%",height:"100%",children:m.jsxs(Vx,{data:b,children:[m.jsx(yo,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(156, 163, 175, 0.3)"}),m.jsx(Yn,{dataKey:"day",tick:{fill:"currentColor",fontSize:12}}),m.jsx(Jn,{tick:{fill:"currentColor",fontSize:12},domain:["dataMin - 5","dataMax + 5"]}),m.jsx(gr,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.8)",borderColor:"rgba(156, 163, 175, 0.3)",color:"#fff"},cursor:{stroke:"#3b82f6",strokeWidth:1}}),m.jsx(Cn,{}),m.jsx(ko,{type:"monotone",dataKey:"Performance",stroke:"#3b82f6",strokeWidth:2,activeDot:{r:8}})]})})})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[m.jsx(_e,{title:"Performance by Task",children:m.jsx("div",{className:"h-80",children:m.jsx(Ms,{width:"100%",height:"100%",children:m.jsxs(Bx,{data:_,layout:"vertical",children:[m.jsx(yo,{strokeDasharray:"3 3",horizontal:!1,stroke:"rgba(156, 163, 175, 0.3)"}),m.jsx(Yn,{type:"number",tick:{fill:"currentColor",fontSize:12}}),m.jsx(Jn,{type:"category",dataKey:"name",width:80,tick:{fill:"currentColor",fontSize:12}}),m.jsx(gr,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.8)",borderColor:"rgba(156, 163, 175, 0.3)",color:"#fff"},cursor:{fill:"rgba(156, 163, 175, 0.1)"}}),m.jsx($i,{dataKey:"Average Overall %",fill:"#3b82f6"})]})})})}),m.jsx(_e,{title:"Task Summary",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[m.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Task Name"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Entries"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Avg. Overall %"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Team Rank"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"OPS Rank"})]})}),m.jsx("tbody",{children:_.map(S=>m.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[m.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:S.name}),m.jsx("td",{className:"px-6 py-4",children:S.count}),m.jsxs("td",{className:"px-6 py-4 font-bold text-primary-600 dark:text-primary-400",children:[S["Average Overall %"],"%"]}),m.jsx("td",{className:"px-6 py-4 font-semibold",children:S.teamRank}),m.jsx("td",{className:"px-6 py-4 font-semibold",children:S.companyRank})]},S.name))})]})})})]})]})},cfe=()=>{const{user:t}=_r();if(!t)return m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsx("p",{children:"Loading user data..."})});const e=()=>{switch(t.role){case J.Agent:return m.jsx(ufe,{});case J.TeamLeader:case J.Assistant:return m.jsx(sfe,{});case J.Owner:case J.Supervisor:return m.jsx(lfe,{});default:return m.jsx("p",{children:"No dashboard available for your role."})}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:["Welcome, ",t.fullName,"!"]}),e()]})},Tu=({isOpen:t,onClose:e,title:r,children:n})=>t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4","aria-modal":"true",role:"dialog",onClick:e,children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md m-4 transform transition-all",onClick:i=>i.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r}),m.jsx("button",{onClick:e,className:"p-1 rounded-full text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 dark:hover:text-gray-200",children:m.jsx(jb,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"p-6",children:n})]})}):null,ffe=()=>{const{user:t}=_r(),[e,r]=D.useState([]),[n,i]=D.useState(null),[a,o]=D.useState(!1),[s,l]=D.useState(""),u=async()=>{const p=await ce.getTeams();r(p)};D.useEffect(()=>{u()},[]);const c=async()=>{if(!(!n||!n.name.trim()))try{await ce.renameTeam(n.id,n.name),r(e.map(p=>p.id===n.id?{...p,teamName:n.name}:p)),i(null)}catch(p){console.error("Failed to rename team",p)}},f=async p=>{if(p.preventDefault(),!!s.trim())try{await ce.createTeam(s),l(""),o(!1),u()}catch(g){console.error("Failed to add team",g)}},h=(t==null?void 0:t.role)===J.Owner||(t==null?void 0:t.role)===J.Supervisor;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Team Dashboard"}),h&&m.jsxs(me,{onClick:()=>o(!0),children:[m.jsx(wu,{className:"w-4 h-4 mr-2"})," Add New Team"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(p=>{var g,y;return m.jsxs(_e,{className:"hover:shadow-xl transition-shadow flex flex-col",children:[m.jsx("div",{className:"flex justify-between items-start mb-4",children:(n==null?void 0:n.id)===p.id?m.jsxs("div",{className:"flex items-center gap-2 w-full",children:[m.jsx("input",{type:"text",value:n.name,onChange:v=>i({...n,name:v.target.value}),className:"block w-full px-3 py-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm text-gray-900 dark:text-white",autoFocus:!0}),m.jsx(me,{size:"sm",onClick:c,"aria-label":"Save",children:m.jsx(GI,{className:"w-4 h-4"})}),m.jsx(me,{size:"sm",variant:"secondary",onClick:()=>i(null),"aria-label":"Cancel",children:m.jsx(jb,{className:"w-4 h-4"})})]}):m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:p.teamName}),h&&m.jsx(me,{size:"sm",variant:"secondary",onClick:()=>i({id:p.id,name:p.teamName}),"aria-label":"Edit team name",children:m.jsx(ec,{className:"w-4 h-4"})})]})}),m.jsxs("div",{className:"flex-grow space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[m.jsxs("p",{className:"flex items-center",children:[m.jsx(Av,{className:"w-4 h-4 mr-2"})," ",m.jsx("strong",{children:"Leader:"})," ",((g=p.agents.find(v=>v.id===p.leaderId))==null?void 0:g.fullName)||"N/A"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx(Av,{className:"w-4 h-4 mr-2"})," ",m.jsx("strong",{children:"Assistant:"})," ",((y=p.agents.find(v=>v.id===p.assistantId))==null?void 0:y.fullName)||"N/A"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx(Ib,{className:"w-4 h-4 mr-2"})," ",m.jsx("strong",{children:"Agents:"})," ",p.agents.length]})]}),m.jsx("div",{className:"mt-auto pt-4",children:m.jsx(_s,{to:`/teams/${p.id}`,children:m.jsx(me,{variant:"secondary",className:"w-full",children:"View Details"})})})]},p.id)})}),m.jsx(Tu,{isOpen:a,onClose:()=>o(!1),title:"Add New Team",children:m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsx(ve,{id:"newTeamName",label:"Team Name",value:s,onChange:p=>l(p.target.value),required:!0,autoFocus:!0}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(me,{type:"button",variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),m.jsx(me,{type:"submit",children:"Create Team"})]})]})})]})},Un=({label:t,id:e,children:r,...n})=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),m.jsx("select",{id:e,className:"block w-full pl-3 pr-10 py-2 text-base bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md text-gray-900 dark:text-white",...n,children:r})]}),dfe=()=>{var S;const{teamId:t}=nC(),{user:e}=_r(),[r,n]=D.useState(null),[i,a]=D.useState([]),[o,s]=D.useState([]),[l,u]=D.useState(!0),[c,f]=D.useState(!1),[h,p]=D.useState(null),[g,y]=D.useState({fullName:"",email:"",password:"",role:J.Agent}),v=(e==null?void 0:e.role)===J.Owner||(e==null?void 0:e.role)===J.Supervisor,_=D.useCallback(async()=>{if(t){u(!0);try{const x=await ce.getTeamById(t);n(x),a((x==null?void 0:x.agents)||[]);const O=await ce.getKpis({teamId:t});s(O)}catch(x){console.error("Failed to fetch team data",x)}finally{u(!1)}}},[t]);D.useEffect(()=>{_()},[_]);const b=x=>{p(x),y(x?{fullName:x.fullName,email:x.email,password:"",role:x.role}:{fullName:"",email:"",password:"",role:J.Agent}),f(!0)},E=()=>{f(!1),p(null)},k=async x=>{if(x.preventDefault(),!!t)try{if(h){const O={fullName:g.fullName,email:g.email,role:g.role};g.password&&(O.password=g.password),await ce.updateUser(h.id,O)}else await ce.createUser({...g,teamId:t});_(),E()}catch(O){console.error("Failed to save agent",O)}},T=async x=>{if(window.confirm("Are you sure you want to permanently delete this agent? This action cannot be undone.")){const O=[...i],j=[...o];a(C=>C.filter(N=>N.id!==x)),s(C=>C.filter(N=>N.userId!==x));try{await ce.deleteUser(x)}catch(C){console.error("Failed to delete agent",C),alert("Failed to delete agent. The data will be restored."),a(O),s(j)}}};if(l)return m.jsx("div",{children:"Loading..."});if(!r)return m.jsx("div",{children:"Team not found."});const P=["Agent name","Team","Task","Date","Day","Duty Hours","Attendance","Attendance %","login","login %","On Queue","On Queue %","Target","Target %","Avg Talk","Avg Talk %","ASA","ASA %","Productivity","Productivity %","DS Productivity","DS Productivity %","QA %","PK %","Mistakes","Mistakes %","Bonus","Bonus %","Overall %","Team %","Remarks"];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(_s,{to:"/teams",className:"inline-flex items-center text-primary-600 dark:text-primary-400 hover:underline mb-4",children:[m.jsx(D6,{className:"w-4 h-4 mr-2"}),"Back to Teams"]}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:r.teamName}),m.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Team Leader: ",(S=i.find(x=>x.id===r.leaderId))==null?void 0:S.fullName]})]}),m.jsxs(_e,{children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Team Members"}),v&&m.jsxs(me,{onClick:()=>b(null),children:[m.jsx(wu,{className:"w-4 h-4 mr-2"})," Add Agent"]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[m.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Role"}),v&&m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),m.jsx("tbody",{children:i.map(x=>m.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[m.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:x.fullName}),m.jsx("td",{className:"px-6 py-4",children:x.email}),m.jsx("td",{className:"px-6 py-4",children:x.role}),v&&m.jsxs("td",{className:"px-6 py-4 space-x-2",children:[m.jsx(me,{size:"sm",variant:"secondary",onClick:()=>b(x),"aria-label":"Edit agent",children:m.jsx(ec,{className:"w-4 h-4"})}),m.jsx(me,{size:"sm",variant:"danger",onClick:()=>T(x.id),"aria-label":"Delete agent",children:m.jsx(Qi,{className:"w-4 h-4"})})]})]},x.id))})]})})]}),m.jsx(_e,{title:"Agent KPI Details",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[m.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:m.jsx("tr",{children:P.map(x=>m.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:x},x))})}),m.jsx("tbody",{children:o.map(x=>m.jsx("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:P.map(O=>{const C=x[O],N=O.includes("%");return m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:typeof C=="number"&&N?`${C.toFixed(2)}%`:String(C??"")},O)})},x.id))})]})})}),m.jsx(Tu,{isOpen:c,onClose:E,title:h?"Edit Agent":"Add New Agent",children:m.jsxs("form",{onSubmit:k,className:"space-y-4",children:[m.jsx(ve,{id:"fullName",label:"Full Name",value:g.fullName,onChange:x=>y({...g,fullName:x.target.value}),required:!0}),m.jsx(ve,{id:"email",label:"Email Address",type:"email",value:g.email,onChange:x=>y({...g,email:x.target.value}),required:!0}),m.jsx(ve,{id:"password",label:"Password",type:"password",value:g.password,onChange:x=>y({...g,password:x.target.value}),required:!h,placeholder:h?"Leave blank to keep current":""}),m.jsxs(Un,{id:"role",label:"Role",value:g.role,onChange:x=>y({...g,role:x.target.value}),children:[m.jsx("option",{value:J.Agent,children:"Agent"}),m.jsx("option",{value:J.Assistant,children:"Assistant"}),m.jsx("option",{value:J.TeamLeader,children:"Team Leader"})]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(me,{type:"button",variant:"secondary",onClick:E,children:"Cancel"}),m.jsx(me,{type:"submit",children:"Save Agent"})]})]})})]})},$P=t=>{if(!t)return"";const e=new Date(t),r={weekday:"long"};return new Intl.DateTimeFormat("en-US",r).format(e)},LP=()=>{const{entryId:t}=nC(),e=Bc(),{user:r}=_r(),[n,i]=D.useState(!1),[a,o]=D.useState([]),[s,l]=D.useState([]),[u,c]=D.useState([]),[f,h]=D.useState([]),[p,g]=D.useState({Date:new Date().toISOString().split("T")[0],Day:$P(new Date().toISOString().split("T")[0]),Task:de.CQ,"Duty Hours":8,Team:"",userId:"","Agent name":"",Attendance:5,login:"08:00:00","On Queue":"07:30:00","Avg Talk":"00:03:00",ASA:4,Productivity:100,Target:225,Bonus:0,Mistakes:0,Remarks:"","QA %":void 0,"PK %":void 0}),y=t&&r&&[J.Owner,J.Supervisor].includes(r.role),v=(r==null?void 0:r.role)===J.Supervisor,b=v&&!t,E=r&&[J.Owner,J.Supervisor].includes(r.role);D.useEffect(()=>{(async()=>{i(!0);const[K,L]=await Promise.all([ce.getTasks(),ce.getKpiFactors()]);if(o(K.map($=>$.taskName)),h(L),r){let $=[];if(r.role===J.Agent){$=[r];const R=await ce.getTeamById(r.teamId??"");g(B=>({...B,userId:r.id,"Agent name":r.fullName,Team:(R==null?void 0:R.teamName)??""}))}else if((r.role===J.TeamLeader||r.role===J.Assistant)&&r.teamId){const R=await ce.getTeamById(r.teamId);$=(R==null?void 0:R.agents)||[],g(B=>({...B,Team:R==null?void 0:R.teamName}))}else if(E){const[R,B]=await Promise.all([ce.getUsers(),ce.getTeams()]);$=R.filter(W=>W.role===J.Agent),c(B)}if(l($),t){const R=await ce.getKpiById(t);R&&g(R)}}i(!1)})()},[r,t,E]);const k=D.useMemo(()=>new Map(f.map(V=>[V.key,V])),[f]),T=(V,K)=>{var L;return((L=k.get(V))==null?void 0:L.displayName)??K},P=V=>{var K;return(K=k.get(V))==null?void 0:K.weight},S=D.useMemo(()=>f.filter(V=>V.isCustom),[f]),x=V=>{const{name:K,value:L}=V.target,$=V.target.type==="number"?L===""?void 0:parseFloat(L):L;g(R=>{const B={...R,[K]:$};if(K==="Date"&&(B.Day=$P(L)),K==="userId"){const W=s.find(H=>H.id===L);if(W){B["Agent name"]=W.fullName;const H=u.find(Z=>Z.id===W.teamId);B.Team=H?H.teamName:""}else B["Agent name"]="",B.Team=""}return B})},O=async V=>{V.preventDefault(),i(!0);const K={...p},L=K.Task;L&&[de.CQ,de.DQ,de.CDQ].includes(L)&&(K.Target=void 0,K.Productivity=void 0);try{t?await ce.updateKpi(t,K):await ce.createKpi(K),e("/reports")}catch($){console.error("Failed to save KPI entry",$)}finally{i(!1)}},j=p.Task,C=j&&[de.CQ,de.DQ,de.CDQ].includes(j),N=j&&[de.Dispatch,de.Tickets,de.VOP].includes(j),I=j&&[de.Approve,de.Missing].includes(j),z=j===de.SocialMedia;return n&&!r?m.jsx("p",{children:"Loading..."}):m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-6",children:[t?"Edit":"Create"," KPI Entry"]}),m.jsx(_e,{children:m.jsxs("form",{onSubmit:O,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(r==null?void 0:r.role)!==J.Agent&&m.jsxs(Un,{id:"userId",name:"userId",label:"Agent Name",value:p.userId,onChange:x,required:!0,disabled:b,children:[m.jsx("option",{value:"",children:"Select Agent"}),s.map(V=>m.jsx("option",{value:V.id,children:V.fullName},V.id))]}),E?m.jsxs(Un,{id:"Team",name:"Team",label:"Team",value:p.Team,disabled:!0,children:[m.jsx("option",{value:"",children:p.Team||"Select an agent"}),u.map(V=>m.jsx("option",{value:V.teamName,children:V.teamName},V.id))]}):m.jsx(ve,{id:"Team",name:"Team",label:"Team",type:"text",value:p.Team,readOnly:!0}),m.jsx(Un,{id:"Task",name:"Task",label:"Task",value:p.Task,onChange:x,required:!0,disabled:b,children:a.map(V=>m.jsx("option",{value:V,children:V},V))}),m.jsx(ve,{id:"Date",name:"Date",label:"Date",type:"date",value:p.Date,onChange:x,required:!0,disabled:b}),m.jsx(ve,{id:"Day",name:"Day",label:"Day",type:"text",value:p.Day,readOnly:!0}),m.jsx(Un,{id:"Duty Hours",name:"Duty Hours",label:"Duty Hours",value:p["Duty Hours"],onChange:x,required:!0,disabled:b,children:[4,5,6,7,8,9].map(V=>m.jsx("option",{value:V,children:V},V))}),m.jsx(ve,{id:"Attendance",name:"Attendance",label:T("Attendance %","Attendance"),type:"number",min:"0",max:"5",value:p.Attendance??"",onChange:x,required:!0,disabled:b}),m.jsx(ve,{id:"login",name:"login",label:T("login %","Login Time"),type:"text",pattern:"[0-2][0-9]:[0-5][0-9]:[0-5][0-9]",placeholder:"HH:mm:ss",title:"Enter time in HH:mm:ss format",value:p.login,onChange:x,required:!0,disabled:b})]}),m.jsx("hr",{className:"my-6 border-gray-200 dark:border-gray-700"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[C&&m.jsxs(m.Fragment,{children:[m.jsx(ve,{id:"On Queue",name:"On Queue",label:T("On Queue %","On Queue"),type:"text",pattern:"[0-2][0-9]:[0-5][0-9]:[0-5][0-9]",placeholder:"HH:mm:ss",title:"Enter time in HH:mm:ss format",value:p["On Queue"]??"",onChange:x,disabled:b}),m.jsx(ve,{id:"Avg Talk",name:"Avg Talk",label:T("Avg Talk %","Avg Talk"),type:"text",pattern:"[0-2][0-9]:[0-5][0-9]:[0-5][0-9]",placeholder:"HH:mm:ss",title:"Enter time in HH:mm:ss format",value:p["Avg Talk"]??"",onChange:x,disabled:b}),m.jsx(ve,{id:"ASA",name:"ASA",label:T("ASA %","ASA"),type:"number",step:"0.01",value:p.ASA??"",onChange:x,disabled:b})]}),N&&m.jsxs(m.Fragment,{children:[m.jsx(ve,{id:"DS Productivity",name:"DS Productivity",label:T("DS Productivity %","DS Productivity"),type:"number",value:p["DS Productivity"]??"",onChange:x,disabled:b}),m.jsx(ve,{id:"Target",name:"Target",label:T("Target %","Target"),type:"number",value:p.Target??"",onChange:x,required:!0,disabled:b})]}),I&&m.jsx(ve,{id:"AMS Productivity",name:"AMS Productivity",label:T("AMS Productivity %","AMS Productivity"),type:"number",value:p["AMS Productivity"]??"",onChange:x,disabled:b}),z&&m.jsxs(m.Fragment,{children:[m.jsx(ve,{id:"AMS Productivity",name:"AMS Productivity",label:T("AMS Productivity %","AMS Productivity"),type:"number",value:p["AMS Productivity"]??"",onChange:x,disabled:b}),m.jsx(ve,{id:"ASA",name:"ASA",label:T("ASA %","ASA"),type:"number",step:"0.01",value:p.ASA??"",onChange:x,disabled:b})]}),(C||N||I||z)&&m.jsx(ve,{id:"Mistakes",name:"Mistakes",label:T("Mistakes %","Mistakes"),type:"number",value:p.Mistakes??"",onChange:x,disabled:b}),(C||N||I||z)&&m.jsx(ve,{id:"Bonus",name:"Bonus",label:T("Bonus %","Bonus"),type:"number",value:p.Bonus??"",onChange:x,required:!0,disabled:b}),!C&&!N&&!I&&!z&&m.jsxs(m.Fragment,{children:[m.jsx(ve,{id:"Productivity",name:"Productivity",label:T("Productivity %","Productivity"),type:"number",value:p.Productivity??"",onChange:x,required:!0,disabled:b}),m.jsx(ve,{id:"Target",name:"Target",label:T("Target %","Target"),type:"number",value:p.Target??"",onChange:x,required:!0,disabled:b})]}),y&&m.jsxs(m.Fragment,{children:[m.jsx(ve,{id:"QA %",name:"QA %",label:T("QA %","QA %"),type:"number",min:"0",max:P("QA %")??35,step:"0.01",value:p["QA %"]??"",onChange:x,disabled:v&&!t}),m.jsx(ve,{id:"PK %",name:"PK %",label:T("PK %","PK %"),type:"number",min:"0",max:P("PK %")??10,step:"0.01",value:p["PK %"]??"",onChange:x,disabled:v&&!t})]}),S.map(V=>m.jsx(ve,{id:V.key,name:V.key,label:V.displayName,type:"number",min:"0",max:V.weight,step:"0.01",value:p[V.key]??"",onChange:x,disabled:b,title:V.description},V.key))]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("label",{htmlFor:"Remarks",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Remarks"}),m.jsx("textarea",{id:"Remarks",name:"Remarks",rows:3,className:"block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm text-gray-900 dark:text-white",value:p.Remarks,onChange:x,disabled:b})]}),!b&&m.jsxs("div",{className:"flex justify-end pt-4 space-x-2",children:[t&&m.jsx(me,{type:"button",variant:"secondary",onClick:()=>e("/reports"),children:"Cancel"}),m.jsx(me,{type:"submit",isLoading:n,children:t?"Update Entry":"Save Entry"})]})]})})]})},hfe=()=>{const[t,e]=D.useState([]),[r,n]=D.useState([]),[i,a]=D.useState(!0),o=Bc(),{user:s}=_r(),[l,u]=D.useState({agentName:"",team:"",task:"",dateFrom:"",dateTo:""}),[c,f]=D.useState([]),[h,p]=D.useState([]),[g,y]=D.useState([]),[v,_]=D.useState(null),[b,E]=D.useState([]),k=D.useRef(null),T=s&&[J.Owner,J.Supervisor].includes(s.role),P=D.useMemo(()=>{const L=[],$=new Set,R=H=>{H&&!$.has(H)&&(L.push(H),$.add(H))};R("Agent name"),R("Team"),R("Task"),R("Date"),R("Day"),R("Duty Hours");const B=H=>g.find(Z=>Z.calculationSource===H);let W=B("Attendance %");return R("Attendance"),W&&R(W.key),W=B("login %"),R("login"),W&&R(W.key),W=B("On Queue %"),R("On Queue"),W&&R(W.key),W=B("Target %"),R("Target"),W&&R(W.key),W=B("Avg Talk %"),R("Avg Talk"),W&&R(W.key),W=B("ASA %"),R("ASA"),W&&R(W.key),W=B("Productivity %"),R("Productivity"),W&&R(W.key),W=B("DS Productivity %"),R("DS Productivity"),W&&R(W.key),W=B("AMS Productivity %"),R("AMS Productivity"),W&&R(W.key),W=B("Mistakes %"),R("Mistakes"),W&&R(W.key),W=B("Bonus %"),R("Bonus"),W&&R(W.key),W=B("QA %"),W&&R(W.key),W=B("PK %"),W&&R(W.key),g.forEach(H=>{H.isCustom&&R(H.key)}),R("Overall %"),R("Team %"),R("Remarks"),L},[g]),S=(L,$)=>{var W;if(L===null||typeof L>"u")return"";const R=g.find(H=>H.key===$),B=$.includes("%")||R&&((W=R.calculationSource)==null?void 0:W.includes("%"));return typeof L=="number"&&B?`${L.toFixed(2)}%`:String(L)};D.useEffect(()=>{(async()=>{if(!s)return;a(!0);let $={};s.role===J.Agent?$={userId:s.id}:(s.role===J.TeamLeader||s.role===J.Assistant)&&s.teamId&&($={teamId:s.teamId});const[R,B,W,H]=await Promise.all([ce.getKpis($),ce.getTeams(),ce.getTasks(),ce.getKpiFactors()]);e(R),n(R),f(B),p(W.map(Z=>Z.taskName)),y(H),a(!1)})()},[s]),D.useEffect(()=>{let L=t;l.agentName&&(L=L.filter($=>$["Agent name"].toLowerCase().includes(l.agentName.toLowerCase()))),l.team&&(L=L.filter($=>$.Team.toLowerCase().includes(l.team.toLowerCase()))),l.task&&(L=L.filter($=>$.Task===l.task)),l.dateFrom&&(L=L.filter($=>new Date($.Date)>=new Date(l.dateFrom))),l.dateTo&&(L=L.filter($=>new Date($.Date)<=new Date(l.dateTo))),n(L),E([])},[l,t]);const x=D.useMemo(()=>{let L=[...r];return v!==null&&L.sort(($,R)=>{const B=$[v.key],W=R[v.key];if(B===null||typeof B>"u")return 1;if(W===null||typeof W>"u")return-1;if(v.key==="Date"){const H=new Date(B).getTime(),Z=new Date(W).getTime();return H<Z?v.direction==="ascending"?-1:1:H>Z?v.direction==="ascending"?1:-1:0}return B<W?v.direction==="ascending"?-1:1:B>W?v.direction==="ascending"?1:-1:0}),L},[r,v]);D.useEffect(()=>{if(k.current){const L=b.length,$=x.length;k.current.checked=L===$&&$>0,k.current.indeterminate=L>0&&L<$}},[b,x]);const O=L=>{let $="ascending";v&&v.key===L&&v.direction==="ascending"&&($="descending"),_({key:L,direction:$})},j=L=>{u({...l,[L.target.name]:L.target.value})},C=()=>{u({agentName:"",team:"",task:"",dateFrom:"",dateTo:""}),_(null)},N=L=>{E($=>$.includes(L)?$.filter(R=>R!==L):[...$,L])},I=L=>{L.target.checked?E(x.map($=>$.id)):E([])},z=async L=>{T&&window.confirm("Are you sure you want to permanently delete this KPI entry?")&&(await ce.deleteKpi(L),e($=>$.filter(R=>R.id!==L)))},V=async()=>{b.length===0||!T||window.confirm(`Are you sure you want to permanently delete ${b.length} selected KPI entries?`)&&(await ce.deleteKpisBulk(b),e(L=>L.filter($=>!b.includes($.id))),E([]))},K=L=>{const $=x;if($.length===0){alert("No data available to export.");return}if(L==="excel"){const R=P.join(","),B=$.map(Pe=>P.map(Te=>`"${S(Pe[Te],Te).replace(/"/g,'""')}"`).join(",")),W=[R,...B].join(`
`),H=new Blob([W],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a"),ye=URL.createObjectURL(H);Z.setAttribute("href",ye),Z.setAttribute("download","kpi_report.csv"),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)}else if(L==="pdf"){const{jsPDF:R}=window.jspdf,B=new R({orientation:"landscape",unit:"pt",format:"a4"}),W=[P.map(Z=>String(Z))],H=$.map(Z=>P.map(ye=>S(Z[ye],ye)));B.autoTable({head:W,body:H,styles:{fontSize:4,cellPadding:1.5},headStyles:{fillColor:[37,99,235],fontSize:4.5,textColor:[255,255,255]},margin:{top:40},didDrawPage:Z=>{B.setFontSize(20),B.text("KPI Report",Z.settings.margin.left,30)}}),B.save("kpi_report.pdf")}ce.logActivity({action:"EXPORT",affectedTable:"kpis",details:`Exported as ${L}`,recordId:""})};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Reports"}),m.jsxs("div",{className:"flex space-x-2",children:[T&&b.length>0&&m.jsxs(me,{variant:"danger",onClick:V,children:[m.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Delete (",b.length,")"]}),m.jsxs(me,{variant:"secondary",onClick:()=>K("excel"),children:[m.jsx(HI,{className:"w-4 h-4 mr-2"})," Export EXCEL"]}),m.jsxs(me,{variant:"secondary",onClick:()=>K("pdf"),children:[m.jsx(Y6,{className:"w-4 h-4 mr-2"})," Export PDF"]})]})]}),m.jsxs(_e,{title:"Filters",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(ve,{id:"agentName",name:"agentName",label:"Agent Name",value:l.agentName,onChange:j}),m.jsx(ve,{id:"team",name:"team",label:"Team",value:l.team,onChange:j}),m.jsxs(Un,{id:"task",name:"task",label:"Task",value:l.task,onChange:j,children:[m.jsx("option",{value:"",children:"All Tasks"}),h.map(L=>m.jsx("option",{value:L,children:L},L))]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx(ve,{id:"dateFrom",name:"dateFrom",label:"From",type:"date",value:l.dateFrom,onChange:j}),m.jsx(ve,{id:"dateTo",name:"dateTo",label:"To",type:"date",value:l.dateTo,onChange:j})]})]}),m.jsx("div",{className:"flex justify-end mt-4",children:m.jsx(me,{variant:"secondary",onClick:C,children:"Clear Filters"})})]}),m.jsx(_e,{children:m.jsx("div",{className:"overflow-x-auto max-h-[65vh]",children:i?m.jsx("p",{children:"Loading reports..."}):m.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[m.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 sticky top-0",children:m.jsxs("tr",{children:[T&&m.jsx("th",{scope:"col",className:"p-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{ref:k,id:"checkbox-all-kpis",type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:I}),m.jsx("label",{htmlFor:"checkbox-all-kpis",className:"sr-only",children:"checkbox"})]})}),P.map(L=>m.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:m.jsxs("button",{onClick:()=>O(L),className:"flex items-center gap-1 font-bold text-left w-full uppercase",children:[m.jsx("span",{children:String(L)}),v&&v.key===L&&m.jsx("span",{children:v.direction==="ascending"?m.jsx(R6,{className:"w-3 h-3"}):m.jsx(j6,{className:"w-3 h-3"})})]})},String(L))),T&&m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),m.jsx("tbody",{children:x.map(L=>m.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[T&&m.jsx("td",{className:"w-4 p-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:`checkbox-kpi-${L.id}`,type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:b.includes(L.id),onChange:()=>N(L.id)}),m.jsx("label",{htmlFor:`checkbox-kpi-${L.id}`,className:"sr-only",children:"checkbox"})]})}),P.map($=>m.jsx("td",{className:`px-6 py-4 whitespace-nowrap ${$==="Overall %"?"font-bold text-lg text-primary-600 dark:text-primary-400":""}`,children:S(L[$],$)},String($))),T&&m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(me,{size:"sm",variant:"secondary",onClick:()=>o(`/kpi-entry/${L.id}`),children:m.jsx(ec,{className:"w-4 h-4"})}),m.jsx(me,{size:"sm",variant:"danger",onClick:()=>z(L.id),children:m.jsx(Qi,{className:"w-4 h-4"})})]})})]},L.id))})]})})})]})},pfe=()=>{const[t,e]=D.useState([]),[r,n]=D.useState([]),[i,a]=D.useState({user:"",dateFrom:"",dateTo:""});D.useEffect(()=>{(async()=>{const l=await ce.getActivityLogs();e(l),n(l)})()},[]);const o=s=>{a({...i,[s.target.name]:s.target.value})};return D.useEffect(()=>{let s=t;i.user&&(s=s.filter(l=>l.userFullName.toLowerCase().includes(i.user.toLowerCase()))),i.dateFrom&&(s=s.filter(l=>new Date(l.timestamp)>=new Date(i.dateFrom))),i.dateTo&&(s=s.filter(l=>new Date(l.timestamp)<=new Date(i.dateTo))),n(s)},[i,t]),m.jsxs("div",{className:"space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Session Log"}),m.jsxs(_e,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border-b dark:border-gray-700",children:[m.jsx(ve,{id:"userFilter",label:"Filter by user",name:"user",value:i.user,onChange:o}),m.jsx(ve,{id:"dateFrom",label:"From",type:"date",name:"dateFrom",value:i.dateFrom,onChange:o}),m.jsx(ve,{id:"dateTo",label:"To",type:"date",name:"dateTo",value:i.dateTo,onChange:o})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[m.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Timestamp"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"User"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Details"})]})}),m.jsx("tbody",{children:r.map(s=>m.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(s.timestamp).toLocaleString()}),m.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:s.userFullName}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.action.includes("CREATE")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":s.action.includes("UPDATE")?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":s.action.includes("DELETE")?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}`,children:s.action})}),m.jsxs("td",{className:"px-6 py-4",children:[s.affectedTable," (ID: ",s.recordId,")"]})]},s.id))})]})})]})]})},mfe=()=>{const{user:t}=_r(),e=(t==null?void 0:t.role)===J.Owner,[r,n]=D.useState([]),[i,a]=D.useState(!1),[o,s]=D.useState(""),[l,u]=D.useState(null),[c,f]=D.useState([]),h=D.useRef(null),[p,g]=D.useState([]),[y,v]=D.useState([]),[_,b]=D.useState(!1),[E,k]=D.useState(null),[T,P]=D.useState({fullName:"",email:"",password:"",role:J.Agent,teamId:""}),[S,x]=D.useState([]),O=D.useRef(null),[j,C]=D.useState(!1),[N,I]=D.useState(null),[z,V]=D.useState(""),[K,L]=D.useState(!1),[$,R]=D.useState([]),[B,W]=D.useState(!1),[H,Z]=D.useState(!1),[ye,Pe]=D.useState(!1),[Te,ot]=D.useState({key:"",displayName:"",weight:10,description:""}),[Je,ie]=D.useState([]),he=D.useRef(null),ge=Object.values(de),X=D.useCallback(async()=>{const[G,ae,Oe]=await Promise.all([ce.getTasks(),ce.getUsers(),ce.getTeams()]);if(n(G),g(ae),v(Oe),e){const Ut=await ce.getKpiFactors();R(Ut)}},[e]);D.useEffect(()=>{X()},[X]),D.useEffect(()=>{if(h.current){const G=c.length,ae=r.length;h.current.checked=G===ae&&ae>0,h.current.indeterminate=G>0&&G<ae}},[c,r]),D.useEffect(()=>{if(O.current){const G=S.length,ae=p.length;O.current.checked=G===ae&&ae>0,O.current.indeterminate=G>0&&G<ae}},[S,p]),D.useEffect(()=>{if(he.current){const G=$.filter(Ut=>Ut.isDeletable),ae=Je.length,Oe=G.length;he.current.checked=ae===Oe&&Oe>0,he.current.indeterminate=ae>0&&ae<Oe}},[Je,$]);const We=async G=>{G.preventDefault(),o&&(await ce.createTask(o),s(""),a(!1),X())},Se=async()=>{l&&(await ce.updateTask(l.id,l.taskName),u(null),X())},Ze=async G=>{window.confirm("Are you sure you want to delete this task? This action cannot be undone.")&&(await ce.deleteTask(G),X())},st=G=>{f(ae=>ae.includes(G)?ae.filter(Oe=>Oe!==G):[...ae,G])},Dt=G=>{G.target.checked?f(r.map(ae=>ae.id)):f([])},qr=async()=>{c.length!==0&&window.confirm(`Are you sure you want to permanently delete ${c.length} selected task(s)?`)&&(await ce.deleteTasksBulk(c),f([]),X())},Hr=G=>{k(G),P(G?{fullName:G.fullName,email:G.email,password:"",role:G.role,teamId:G.teamId||""}:{fullName:"",email:"",password:"",role:J.Agent,teamId:""}),b(!0)},Gr=()=>{b(!1),k(null)},Qr=async G=>{if(G.preventDefault(),E){const ae={fullName:T.fullName,email:T.email,role:T.role,teamId:T.teamId||null};T.password&&(ae.password=T.password),await ce.updateUser(E.id,ae)}else{const ae={fullName:T.fullName,email:T.email,password:T.password,role:T.role,teamId:T.teamId||null};await ce.createUser(ae)}X(),Gr()},pn=async G=>{window.confirm("Are you sure you want to delete this user? This action cannot be undone.")&&(await ce.deleteUser(G),X())},ti=G=>{x(ae=>ae.includes(G)?ae.filter(Oe=>Oe!==G):[...ae,G])},Li=G=>{G.target.checked?x(p.map(ae=>ae.id)):x([])},Ca=async()=>{S.length!==0&&window.confirm(`Are you sure you want to permanently delete ${S.length} selected user(s)?`)&&(await ce.deleteUsersBulk(S),x([]),X())},Mt=()=>{const G=y.map(dr=>dr.teamName),ae=Object.values(J),Oe=[["fullName","email","password","role","teamName"]],Ut=XLSX.utils.aoa_to_sheet(Oe);Ut["!dataValidation"]=[{sqref:"D2:D1048576",opts:{type:"list",allowBlank:!0,formula1:`"${ae.join(",")}"`,showDropDown:!0}},{sqref:"E2:E1048576",opts:{type:"list",allowBlank:!0,formula1:`"${G.join(",")}"`,showDropDown:!0}}];const Zt=XLSX.utils.book_new();XLSX.utils.book_append_sheet(Zt,Ut,"Users Template"),XLSX.writeFile(Zt,"user_import_template.xlsx")},Bt=async()=>{if(!N){V("Please select a file to import.");return}L(!0),V("");try{const ae=(await N.text()).split(`
`).slice(1),Oe=new Map(y.map(dr=>[dr.teamName.toLowerCase(),dr.id])),Ut=Object.values(J),Zt=ae.map((dr,mn)=>{if(!dr.trim())return null;const[ni,ii,Fi,Xr,ja]=dr.split(",").map(cf=>cf.trim());if(!ni||!ii||!Fi||!Xr)throw new Error(`Row ${mn+2}: Missing required fields (fullName, email, password, role).`);if(!Ut.includes(Xr))throw new Error(`Row ${mn+2}: Invalid role '${Xr}'.`);const Na=ja?Oe.get(ja.toLowerCase())??null:null;if(ja&&!Na)throw new Error(`Row ${mn+2}: Team '${ja}' not found.`);return{fullName:ni,email:ii,password:Fi,role:Xr,teamId:Na}}).filter(dr=>dr!==null);Zt.length>0&&await ce.createUsersBulk(Zt),C(!1),I(null),X()}catch(G){V(G.message||"An unexpected error occurred during import.")}finally{L(!1)}},ri=(G,ae,Oe)=>{const Ut=[...$],Zt={...Ut[G]};if(ae==="key"){const dr=Zt.key,mn=String(Oe);if(mn!==dr){if(!Zt.isCustom&&!window.confirm(`WARNING: Changing a system Factor Key from "${dr}" to "${mn}" is an advanced action. The system will continue to calculate correctly, but reports and other parts of the app will now use this new key. Do you want to proceed?`))return;if(Ut.some((ii,Fi)=>Fi!==G&&ii.key===mn)){alert("Factor Key must be unique.");return}}Zt[ae]=mn}else ae==="weight"?Zt[ae]=Number(Oe):Zt[ae]=Oe;Ut[G]=Zt,R(Ut)},sf=async()=>{W(!0),Z(!1),await ce.updateKpiFactors($),W(!1),Z(!0),setTimeout(()=>Z(!1),3e3)},lf=G=>{G.preventDefault();const ae=Te.key.trim().toLowerCase().replace(/\s+/g,"_");if(!ae||!Te.displayName.trim()){alert("Factor Key and Display Name are required.");return}if($.some(Ut=>Ut.key===ae)){alert("Factor Key must be unique.");return}const Oe={...Te,key:ae,isEditable:!0,isCustom:!0,isDeletable:!0,formula:"Direct Value"};R([...$,Oe]),Pe(!1),ot({key:"",displayName:"",weight:10,description:""})},Cm=G=>{ie(ae=>ae.includes(G)?ae.filter(Oe=>Oe!==G):[...ae,G])},Ia=G=>{if(G.target.checked){const ae=$.filter(Oe=>Oe.isDeletable).map(Oe=>Oe.key);ie(ae)}else ie([])},uf=async()=>{if(Je.length!==0&&window.confirm(`Are you sure you want to permanently delete ${Je.length} selected factor(s)? This will also remove any entered data for these factors from all KPI entries.`))try{const G=$.filter(ae=>!Je.includes(ae.key));await ce.updateKpiFactors(G),R(G),ie([])}catch(G){console.error("Failed to delete KPI factors",G),alert("An error occurred while deleting the factors. Please try again.")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Settings"}),e&&m.jsxs(_e,{children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"KPI Fields & Formulas Management"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[Je.length>0&&m.jsxs(me,{variant:"danger",onClick:uf,children:[m.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Delete (",Je.length,")"]}),m.jsxs(me,{onClick:()=>Pe(!0),children:[m.jsx(wu,{className:"w-4 h-4 mr-2"})," Add Custom Factor"]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 w-10",children:m.jsx("div",{className:"flex items-center justify-center",children:m.jsx("input",{ref:he,type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",onChange:Ia,"aria-label":"Select all deletable factors"})})}),m.jsx("th",{className:"p-2 min-w-[150px]",children:"Factor Key"}),m.jsx("th",{className:"p-2 min-w-[200px]",children:"Display Name"}),m.jsx("th",{className:"p-2 min-w-[120px]",children:"Weight / Max"}),m.jsx("th",{className:"p-2 min-w-[250px]",children:"Description"}),m.jsx("th",{className:"p-2 min-w-[250px]",children:"Calculation Method"})]})}),m.jsx("tbody",{children:$.map((G,ae)=>m.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[m.jsx("td",{className:"p-2 text-center",children:G.isDeletable&&m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:Je.includes(G.key),onChange:()=>Cm(G.key),"aria-labelledby":`factor-name-${ae}`})}),m.jsx("td",{className:"p-2",children:m.jsx("input",{type:"text",value:G.key,onChange:Oe=>ri(ae,"key",Oe.target.value),className:"w-full bg-transparent p-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary-500 focus:border-primary-500 font-mono text-xs",title:"Unique identifier (e.g. 'daily_attendance_score')"})}),m.jsx("td",{className:"p-2",id:`factor-name-${ae}`,children:m.jsx("input",{type:"text",value:G.displayName,onChange:Oe=>ri(ae,"displayName",Oe.target.value),className:"w-full bg-transparent p-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary-500 focus:border-primary-500"})}),m.jsx("td",{className:"p-2",children:m.jsx("input",{type:"number",value:G.weight,onChange:Oe=>ri(ae,"weight",Oe.target.value),className:"w-full bg-transparent p-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary-500 focus:border-primary-500"})}),m.jsx("td",{className:"p-2",children:m.jsx("input",{type:"text",value:G.description,onChange:Oe=>ri(ae,"description",Oe.target.value),className:"w-full bg-transparent p-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary-500 focus:border-primary-500"})}),m.jsx("td",{className:"p-2 text-xs text-gray-600 dark:text-gray-300",children:G.formula})]},G.key))})]})}),m.jsxs("div",{className:"flex justify-end items-center mt-6",children:[H&&m.jsx("p",{className:"text-green-600 mr-4",children:"Settings saved successfully!"}),m.jsx(me,{onClick:sf,isLoading:B,children:"Save KPI Settings"})]})]}),m.jsxs(_e,{children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Task Management"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[c.length>0&&m.jsxs(me,{variant:"danger",onClick:qr,children:[m.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Delete (",c.length,")"]}),!i&&m.jsxs(me,{onClick:()=>a(!0),children:[m.jsx(wu,{className:"w-4 h-4 mr-2"})," Add Task"]})]})]}),m.jsx("div",{className:"border-b dark:border-gray-700 mb-2 pb-2",children:m.jsxs("label",{className:"flex items-center space-x-3 px-2",children:[m.jsx("input",{ref:h,type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",onChange:Dt}),m.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Select All"})]})}),m.jsxs("ul",{className:"space-y-2",children:[r.map(G=>m.jsx("li",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700/50",children:(l==null?void 0:l.id)===G.id?m.jsxs("div",{className:"flex-grow flex items-center gap-2",children:[m.jsx(Un,{id:`task-edit-${G.id}`,label:"",value:l.taskName,onChange:ae=>u({...l,taskName:ae.target.value}),children:ge.map(ae=>m.jsx("option",{value:String(ae),children:String(ae)},String(ae)))}),m.jsx(me,{size:"sm",onClick:Se,children:m.jsx(GI,{className:"w-4 h-4"})}),m.jsx(me,{size:"sm",variant:"secondary",onClick:()=>u(null),children:m.jsx(jb,{className:"w-4 h-4"})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("label",{className:"flex items-center space-x-3 flex-grow cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:c.includes(G.id),onChange:()=>st(G.id)}),m.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:G.taskName})]}),m.jsxs("div",{className:"space-x-2",children:[m.jsx(me,{size:"sm",variant:"secondary",onClick:()=>u({...G}),children:m.jsx(ec,{className:"w-4 h-4"})}),m.jsx(me,{size:"sm",variant:"danger",onClick:()=>Ze(G.id),children:m.jsx(Qi,{className:"w-4 h-4"})})]})]})},G.id)),i&&m.jsx("li",{className:"p-2",children:m.jsxs("form",{onSubmit:We,className:"flex items-end gap-2",children:[m.jsx("div",{className:"flex-grow",children:m.jsxs(Un,{id:"newTaskName",label:"New Task Name",value:o,onChange:G=>s(G.target.value),required:!0,children:[m.jsx("option",{value:"",children:"Select a task"}),ge.map(G=>m.jsx("option",{value:String(G),children:String(G)},String(G)))]})}),m.jsx(me,{type:"submit",children:"Add"}),m.jsx(me,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"})]})})]})]}),m.jsxs(_e,{children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Management"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[S.length>0&&m.jsxs(me,{variant:"danger",onClick:Ca,children:[m.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Delete (",S.length,")"]}),m.jsxs(me,{variant:"secondary",onClick:Mt,children:[m.jsx(HI,{className:"w-4 h-4 mr-2"})," Download Template"]}),m.jsxs(me,{variant:"secondary",onClick:()=>C(!0),children:[m.jsx(y5,{className:"w-4 h-4 mr-2"})," Import Users"]}),m.jsxs(me,{onClick:()=>Hr(null),children:[m.jsx(wu,{className:"w-4 h-4 mr-2"})," Add User"]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[m.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"p-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{ref:O,id:"checkbox-all-users",type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:Li}),m.jsx("label",{htmlFor:"checkbox-all-users",className:"sr-only",children:"checkbox"})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Full Name"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Password"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Role"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Team"}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),m.jsx("tbody",{children:p.map(G=>{var ae;return m.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[m.jsx("td",{className:"w-4 p-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:`checkbox-user-${G.id}`,type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:S.includes(G.id),onChange:()=>ti(G.id)}),m.jsx("label",{htmlFor:`checkbox-user-${G.id}`,className:"sr-only",children:"checkbox"})]})}),m.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:G.fullName}),m.jsx("td",{className:"px-6 py-4",children:G.email}),m.jsx("td",{className:"px-6 py-4",children:"********"}),m.jsx("td",{className:"px-6 py-4",children:G.role}),m.jsx("td",{className:"px-6 py-4",children:((ae=y.find(Oe=>Oe.id===G.teamId))==null?void 0:ae.teamName)||"N/A"}),m.jsxs("td",{className:"px-6 py-4 space-x-2",children:[m.jsx(me,{size:"sm",variant:"secondary",onClick:()=>Hr(G),children:m.jsx(ec,{className:"w-4 h-4"})}),m.jsx(me,{size:"sm",variant:"danger",onClick:()=>pn(G.id),children:m.jsx(Qi,{className:"w-4 h-4"})})]})]},G.id)})})]})})]}),m.jsx(Tu,{isOpen:_,onClose:Gr,title:E?"Edit User":"Add New User",children:m.jsxs("form",{onSubmit:Qr,className:"space-y-4",children:[m.jsx(ve,{id:"fullName",label:"Full Name",value:T.fullName,onChange:G=>P({...T,fullName:G.target.value}),required:!0}),m.jsx(ve,{id:"email",label:"Email Address",type:"email",value:T.email,onChange:G=>P({...T,email:G.target.value}),required:!0}),m.jsx(ve,{id:"password",label:"Password",type:"password",value:T.password,onChange:G=>P({...T,password:G.target.value}),required:!E,placeholder:E?"Leave blank to keep current":""}),m.jsx(Un,{id:"role",label:"Role",value:T.role,onChange:G=>P({...T,role:G.target.value}),children:Object.values(J).map(G=>m.jsx("option",{value:String(G),children:String(G)},String(G)))}),m.jsxs(Un,{id:"teamId",label:"Team",value:T.teamId,onChange:G=>P({...T,teamId:G.target.value}),children:[m.jsx("option",{value:"",children:"No Team"}),y.map(G=>m.jsx("option",{value:G.id,children:G.teamName},G.id))]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(me,{type:"button",variant:"secondary",onClick:Gr,children:"Cancel"}),m.jsx(me,{type:"submit",children:"Save User"})]})]})}),m.jsx(Tu,{isOpen:j,onClose:()=>C(!1),title:"Import Users from CSV",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Upload a CSV file with the columns: ",m.jsx("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 p-1 rounded",children:"fullName,email,password,role,teamName"}),". The role must be one of: ",Object.values(J).join(", "),"."]}),m.jsx(ve,{id:"importFile",label:"CSV File",type:"file",accept:".csv",onChange:G=>I(G.target.files?G.target.files[0]:null)}),z&&m.jsx("p",{className:"text-sm text-red-600",children:z}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(me,{type:"button",variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),m.jsx(me,{onClick:Bt,isLoading:K,children:"Import"})]})]})}),m.jsx(Tu,{isOpen:ye,onClose:()=>Pe(!1),title:"Add Custom KPI Factor",children:m.jsxs("form",{onSubmit:lf,className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create a new direct-value KPI. It will appear on the KPI entry form automatically."}),m.jsx(ve,{id:"factorKey",label:"Factor Key (unique, no spaces, e.g. 'custom_metric')",value:Te.key,onChange:G=>ot({...Te,key:G.target.value}),required:!0,pattern:"^[a-zA-Z0-9_]+$",title:"Only letters, numbers, and underscores are allowed."}),m.jsx(ve,{id:"factorDisplayName",label:"Display Name",value:Te.displayName,onChange:G=>ot({...Te,displayName:G.target.value}),required:!0}),m.jsx(ve,{id:"factorWeight",label:"Max Value",type:"number",value:Te.weight,onChange:G=>ot({...Te,weight:parseInt(G.target.value)||0}),required:!0}),m.jsx(ve,{id:"factorDescription",label:"Description",value:Te.description,onChange:G=>ot({...Te,description:G.target.value}),required:!0}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(me,{type:"button",variant:"secondary",onClick:()=>Pe(!1),children:"Cancel"}),m.jsx(me,{type:"submit",children:"Add Factor"})]})]})})]})},gfe=()=>{const{user:t,updateUserContext:e}=_r(),[r,n]=D.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[i,a]=D.useState(null),[o,s]=D.useState(""),[l,u]=D.useState(""),[c,f]=D.useState(!1);D.useEffect(()=>{t&&t.teamId&&ce.getTeamById(t.teamId).then(g=>{g&&a(g)})},[t]);const h=g=>{n({...r,[g.target.name]:g.target.value})},p=async g=>{if(g.preventDefault(),s(""),u(""),!t){u("User not found.");return}if(!r.newPassword){u("Please enter a new password to make a change.");return}if(r.newPassword!==r.confirmPassword){u("New passwords do not match.");return}if(!r.currentPassword){u("Please enter your current password to confirm changes.");return}f(!0);try{const y={password:r.newPassword,currentPassword:r.currentPassword},v=await ce.updateUser(t.id,y);e(v),n({currentPassword:"",newPassword:"",confirmPassword:""}),s("Password updated successfully!")}catch(y){u(y.message||"Failed to update profile.")}finally{f(!1)}};return t?m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-20 h-20 rounded-full bg-primary-500 flex items-center justify-center text-white text-4xl font-bold",children:t.fullName.charAt(0)}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:t.fullName}),m.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:t.role})]})]}),m.jsx("form",{onSubmit:p,children:m.jsxs("div",{className:"space-y-6",children:[m.jsx(_e,{title:"Profile Details",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),m.jsxs("div",{className:"flex items-center p-2 bg-gray-100 dark:bg-gray-700/50 rounded-md",children:[m.jsx(U6,{className:"w-5 h-5 text-gray-400 mr-2"}),m.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:t.fullName})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),m.jsxs("div",{className:"flex items-center p-2 bg-gray-100 dark:bg-gray-700/50 rounded-md",children:[m.jsx(a5,{className:"w-5 h-5 text-gray-400 mr-2"}),m.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:t.email})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Team"}),m.jsxs("div",{className:"flex items-center p-2 bg-gray-100 dark:bg-gray-700/50 rounded-md",children:[m.jsx(Ib,{className:"w-5 h-5 text-gray-400 mr-2"}),m.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:(i==null?void 0:i.teamName)||"N/A"})]})]})]})}),m.jsxs(_e,{title:"Change Password",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"To change your password, enter your current password followed by the new one."}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(ve,{id:"currentPassword",name:"currentPassword",label:"Current Password",type:"password",value:r.currentPassword,onChange:h,required:!0,autoComplete:"current-password"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx(ve,{id:"newPassword",name:"newPassword",label:"New Password",type:"password",value:r.newPassword,onChange:h,required:!0,autoComplete:"new-password"}),m.jsx(ve,{id:"confirmPassword",name:"confirmPassword",label:"Confirm New Password",type:"password",value:r.confirmPassword,onChange:h,required:!0,autoComplete:"new-password"})]})]})]}),o&&m.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded-md",children:o}),l&&m.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded-md",children:l}),m.jsx("div",{className:"flex justify-end pt-2",children:m.jsx(me,{type:"submit",isLoading:c,children:"Save Changes"})})]})})]}):m.jsx("p",{children:"Loading profile..."})},oy=({label:t,options:e,selectedValues:r,onChange:n,placeholder:i})=>{const[a,o]=D.useState(!1),s=D.useRef(null);D.useEffect(()=>{const c=f=>{s.current&&!s.current.contains(f.target)&&o(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[s]);const l=c=>{const f=r.includes(c)?r.filter(h=>h!==c):[...r,c];n(f)},u=()=>{if(r.length===0)return i||`Select ${t}`;if(r.length>1)return`${r.length} selected`;const c=e.find(f=>f.value===r[0]);return c?c.label:"1 selected"};return m.jsxs("div",{className:"relative",ref:s,children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),m.jsxs("button",{type:"button",onClick:()=>o(!a),className:"block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-left flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-900 dark:text-white truncate",children:u()}),m.jsx(qI,{className:`w-4 h-4 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&m.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg border dark:border-gray-600 rounded-md max-h-60 overflow-y-auto",children:m.jsx("div",{className:"p-2 space-y-1",children:e.map(c=>m.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:r.includes(c.value),onChange:()=>l(c.value)}),m.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.label})]},c.value))})})]})},yfe=()=>{const[t,e]=D.useState([]),[r,n]=D.useState(!0),[i,a]=D.useState({users:[],agents:[],actions:[],dateFrom:"",dateTo:""});D.useEffect(()=>{(async()=>{n(!0);const g=await ce.getAuditLogs();e(g),n(!1)})()},[]);const o=D.useMemo(()=>Array.from(new Set(t.map(p=>p.userFullName))).map(p=>({value:p,label:p})),[t]),s=D.useMemo(()=>Array.from(new Set(t.map(p=>p.agentName))).map(p=>({value:p,label:p})),[t]),l=[{value:"CREATE",label:"Create"},{value:"UPDATE",label:"Update"}],u=D.useMemo(()=>{let p=t;if(!i.dateFrom&&!i.dateTo){const y=new Date,v=new Date(y.getFullYear(),y.getMonth(),1);p=p.filter(_=>new Date(_.timestamp)>=v)}else i.dateFrom&&(p=p.filter(y=>new Date(y.timestamp)>=new Date(i.dateFrom))),i.dateTo&&(p=p.filter(y=>new Date(y.timestamp)<=new Date(new Date(i.dateTo).setHours(23,59,59,999))));return i.users.length>0&&(p=p.filter(y=>i.users.includes(y.userFullName))),i.agents.length>0&&(p=p.filter(y=>i.agents.includes(y.agentName))),i.actions.length>0&&(p=p.filter(y=>i.actions.includes(y.action))),p},[i,t]),c=()=>{a({users:[],agents:[],actions:[],dateFrom:"",dateTo:""})},f=p=>p===null||typeof p>"u"||p===""?"N/A":String(p),h=p=>{const g=p.changes.map(y=>p.action==="UPDATE"?`${y.field}: "${f(y.oldValue)}" → "${f(y.newValue)}"`:`${y.field}: "${f(y.newValue)}"`).join("; ");return m.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 whitespace-normal break-words",children:g})};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Activity Log"}),m.jsxs(_e,{title:"Filters",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[m.jsx(oy,{label:"User",options:o,selectedValues:i.users,onChange:p=>a(g=>({...g,users:p})),placeholder:"Select User"}),m.jsx(oy,{label:"Agent",options:s,selectedValues:i.agents,onChange:p=>a(g=>({...g,agents:p})),placeholder:"Select Agent"}),m.jsx(oy,{label:"Action",options:l,selectedValues:i.actions,onChange:p=>a(g=>({...g,actions:p})),placeholder:"Select Action"}),m.jsx(ve,{id:"dateFrom",label:"From",type:"date",value:i.dateFrom,onChange:p=>a(g=>({...g,dateFrom:p.target.value}))}),m.jsx(ve,{id:"dateTo",label:"To",type:"date",value:i.dateTo,onChange:p=>a(g=>({...g,dateTo:p.target.value}))})]}),m.jsx("div",{className:"flex justify-end mt-4",children:m.jsx(me,{variant:"secondary",onClick:c,children:"Reset Filters"})})]}),m.jsx(_e,{children:m.jsxs("div",{className:"overflow-x-auto",children:[r?m.jsx("p",{children:"Loading logs..."}):m.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[m.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-4 py-3",children:"Timestamp"}),m.jsx("th",{scope:"col",className:"px-4 py-3",children:"User"}),m.jsx("th",{scope:"col",className:"px-4 py-3",children:"Action"}),m.jsx("th",{scope:"col",className:"px-4 py-3",children:"Agent"}),m.jsx("th",{scope:"col",className:"px-4 py-3",children:"KPI Date"}),m.jsx("th",{scope:"col",className:"px-4 py-3 min-w-[450px]",children:"Changes"})]})}),m.jsx("tbody",{children:u.map(p=>m.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[m.jsx("td",{className:"px-4 py-4 whitespace-nowrap align-top",children:new Date(p.timestamp).toLocaleString()}),m.jsx("td",{className:"px-4 py-4 font-medium text-gray-900 dark:text-white align-top",children:p.userFullName}),m.jsx("td",{className:"px-4 py-4 align-top",children:m.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${p.action==="CREATE"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"}`,children:p.action})}),m.jsxs("td",{className:"px-4 py-4 align-top",children:[p.agentName," (",p.teamName,")"]}),m.jsx("td",{className:"px-4 py-4 align-top",children:p.kpiDate}),m.jsx("td",{className:"px-4 py-4 align-top",children:h(p)})]},p.id))})]}),!r&&u.length===0&&m.jsx("p",{className:"p-4 text-center text-gray-500",children:"No logs found for the selected filters."})]})})]})},vfe=({isOpen:t,onClose:e})=>{const{user:r}=_r(),n=[{to:"/dashboard",label:"Dashboard",icon:t5,roles:[J.Owner,J.Supervisor,J.TeamLeader,J.Assistant,J.Agent]},{to:"/kpi-entry",label:"KPI Entry",icon:Q6,roles:[J.Owner,J.TeamLeader,J.Assistant]},{to:"/reports",label:"Reports",icon:H6,roles:[J.Owner,J.Supervisor,J.TeamLeader,J.Assistant,J.Agent]},{to:"/teams",label:"Teams",icon:Ib,roles:[J.Owner,J.Supervisor]},{to:"/activity-log",label:"Activity Log",icon:W6,roles:[J.Owner,J.Supervisor]},{to:"/session-log",label:"Session Log",icon:Z6,roles:[J.Owner,J.Supervisor]},{to:"/settings",label:"Settings",icon:c5,roles:[J.Owner,J.Supervisor]}].filter(a=>r&&a.roles.includes(r.role)),i=({to:a,label:o,icon:s})=>m.jsxs(A4,{to:a,onClick:e,className:({isActive:l})=>`flex items-center px-4 py-3 text-lg font-medium rounded-lg transition-colors duration-200 ${l?"bg-primary-500 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[m.jsx(s,{className:"mr-4 h-6 w-6"}),m.jsx("span",{children:o})]});return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden transition-opacity ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),m.jsxs("aside",{className:`fixed top-0 left-0 w-64 h-full bg-white dark:bg-gray-800 shadow-lg z-40 transform transition-transform lg:translate-x-0 ${t?"translate-x-0":"-translate-x-full"}`,children:[m.jsxs("div",{className:"flex items-center justify-center h-20 border-b dark:border-gray-700",children:[m.jsx(QI,{className:"h-10 w-10 text-primary-500"}),m.jsx("span",{className:"ml-3 text-2xl font-bold text-gray-800 dark:text-white",children:"KPI Pro"})]}),m.jsx("nav",{className:"p-4 space-y-2",children:n.map(a=>m.jsx(i,{to:a.to,label:a.label,icon:a.icon},a.to))})]})]})},wfe=()=>{const[t,e]=D.useState(()=>localStorage.getItem("theme")==="dark");return D.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]),m.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?m.jsx(p5,{className:"h-6 w-6"}):m.jsx(s5,{className:"h-6 w-6"})})},bfe=({onToggleSidebar:t})=>{const{user:e,logout:r}=_r(),[n,i]=D.useState(!1);return m.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-20 sticky top-0",children:m.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("button",{onClick:t,className:"lg:hidden mr-4 p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:m.jsx("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),m.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"KPI Dashboard"})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx(wfe,{}),m.jsx("button",{className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:m.jsx(L6,{className:"h-6 w-6"})}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>i(!n),className:"flex items-center space-x-2 text-left p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold",children:e==null?void 0:e.fullName.charAt(0)}),m.jsxs("div",{className:"hidden md:block",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e==null?void 0:e.fullName}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e==null?void 0:e.role})]})]}),n&&m.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-30",children:[m.jsxs("a",{href:"#/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[m.jsx(Av,{className:"mr-3 h-5 w-5"}),"Profile"]}),m.jsxs("button",{onClick:r,className:"w-full text-left flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[m.jsx(n5,{className:"mr-3 h-5 w-5"}),"Logout"]})]})]})]})]})})})},xfe=()=>{const{isAuthenticated:t,loading:e}=_r(),[r,n]=D.useState(!1);return e?m.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:m.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):t?m.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[m.jsx(vfe,{isOpen:r,onClose:()=>n(!1)}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden lg:ml-64",children:[m.jsx(bfe,{onToggleSidebar:()=>n(!r)}),m.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900",children:m.jsx("div",{className:"container mx-auto px-6 py-8",children:m.jsx(h4,{})})})]})]}):m.jsx(Ku,{to:"/login"})},Ln=({children:t,roles:e})=>{const{isAuthenticated:r,user:n,loading:i}=_r(),a=xo();return i?m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):r?e.length>0&&(!n||!e.includes(n.role))?m.jsx(Ku,{to:"/dashboard",state:{from:a},replace:!0}):t:m.jsx(Ku,{to:"/login",state:{from:a},replace:!0})},_fe=()=>m.jsx(S4,{children:m.jsx(T6,{children:m.jsxs(m4,{children:[m.jsx(pr,{path:"/login",element:m.jsx(x5,{})}),m.jsxs(pr,{path:"/",element:m.jsx(xfe,{}),children:[m.jsx(pr,{index:!0,element:m.jsx(Ku,{to:"/dashboard",replace:!0})}),m.jsx(pr,{path:"dashboard",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor,J.TeamLeader,J.Assistant,J.Agent],children:m.jsx(cfe,{})})}),m.jsx(pr,{path:"teams",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor],children:m.jsx(ffe,{})})}),m.jsx(pr,{path:"teams/:teamId",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor,J.TeamLeader,J.Assistant],children:m.jsx(dfe,{})})}),m.jsx(pr,{path:"kpi-entry",element:m.jsx(Ln,{roles:[J.Owner,J.TeamLeader,J.Assistant],children:m.jsx(LP,{})})}),m.jsx(pr,{path:"kpi-entry/:entryId",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor,J.TeamLeader,J.Assistant],children:m.jsx(LP,{})})}),m.jsx(pr,{path:"reports",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor,J.TeamLeader,J.Assistant,J.Agent],children:m.jsx(hfe,{})})}),m.jsx(pr,{path:"activity-log",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor],children:m.jsx(yfe,{})})}),m.jsx(pr,{path:"session-log",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor],children:m.jsx(pfe,{})})}),m.jsx(pr,{path:"settings",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor],children:m.jsx(mfe,{})})}),m.jsx(pr,{path:"profile",element:m.jsx(Ln,{roles:[J.Owner,J.Supervisor,J.TeamLeader,J.Assistant,J.Agent],children:m.jsx(gfe,{})})})]}),m.jsx(pr,{path:"*",element:m.jsx(Ku,{to:"/"})})]})})}),AD=document.getElementById("root");if(!AD)throw new Error("Could not find root element to mount to");const Sfe=sy.createRoot(AD);Sfe.render(m.jsx(F.StrictMode,{children:m.jsx(_fe,{})}));
